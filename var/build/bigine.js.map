{"version":3,"sources":["Ev/Event.ts","Core/_Tag/ITag.ts","Core/_Tag/IIdableTag.ts","Core/_Tag/IEntityTag.ts","Core/_Tag/IRootTag.ts","Core/_Runtime/IStates.ts","Core/_Resource/IResource.ts","Core/_Tag/IMapTag.ts","Core/_Tag/IRoomTag.ts","Core/_Runtime/IButtonable.ts","Core/_Tag/IPointTag.ts","Core/_Tag/IOptionTag.ts","Core/_Runtime/IDirector.ts","Core/_Runtime/IRuntime.ts","Core/_Tag/IPerformableTag.ts","Core/_Tag/ISceneTag.ts","Core/_Tag/ISceneHost.ts","Core/_Runtime/IEpisode.ts","Ev/_Runtime/IReadyMetas.ts","Ev/_Runtime/Ready.ts","Ev/_Runtime/IErrorMetas.ts","Ev/_Runtime/Error.ts","Ev/_Runtime/IEndMetas.ts","Ev/_Runtime/End.ts","Resource/Resource.ts","Runtime/Episode.ts","Ev/_Runtime/IQueryMetas.ts","Ev/_Runtime/Query.ts","Ev/_Runtime/ISaveMetas.ts","Ev/_Runtime/Save.ts","Ev/_Runtime/IStateMetas.ts","Ev/_Runtime/State.ts","Runtime/States.ts","Resource/Prefetcher.ts","Ev/_Runtime/IBeginMetas.ts","Ev/_Runtime/Begin.ts","Runtime/_Director/Director.ts","Runtime/_Director/NodeDirector.ts","Core/_Sprite/ISprite.ts","Sprite/Sprite.ts","Sprite/Curtain.ts","Sprite/Author.ts","Core/_Sprite/IStart.ts","Ev/_Sprite/IStartNewMetas.ts","Ev/_Sprite/StartNew.ts","Ev/_Sprite/IStartSeriesMetas.ts","Ev/_Sprite/StartSeries.ts","Ev/_Sprite/IStartLoadMetas.ts","Ev/_Sprite/StartLoad.ts","Sprite/Start.ts","Core/_Sprite/IWords.ts","Ev/_Sprite/IWordsAnimationMetas.ts","Ev/_Sprite/WordsAnimation.ts","Sprite/Words.ts","Core/_Sprite/ITray.ts","Ev/_Sprite/ITrayMenuMetas.ts","Ev/_Sprite/TrayMenu.ts","Ev/_Sprite/ITrayPanelMetas.ts","Ev/_Sprite/TrayPanel.ts","Sprite/Tray.ts","Core/_Sprite/IMenu.ts","Ev/_Sprite/IMenuCloseMetas.ts","Ev/_Sprite/MenuClose.ts","Ev/_Sprite/IMenuSaveMetas.ts","Ev/_Sprite/MenuSave.ts","Ev/_Sprite/IMenuLoadMetas.ts","Ev/_Sprite/MenuLoad.ts","Ev/_Sprite/IMenuSetMetas.ts","Ev/_Sprite/MenuSet.ts","Sprite/Menu.ts","Core/_Sprite/ISlots.ts","Ev/_Sprite/ISlotsCloseMetas.ts","Ev/_Sprite/SlotsClose.ts","Ev/_Sprite/ISlotsLoadMetas.ts","Ev/_Sprite/SlotsLoad.ts","Ev/_Sprite/ISlotsSaveMetas.ts","Ev/_Sprite/SlotsSave.ts","Sprite/Slots.ts","Sprite/Status.ts","Core/_Sprite/IPanel.ts","Ev/_Sprite/IPanelCloseMetas.ts","Ev/_Sprite/PanelClose.ts","Sprite/Panel.ts","Sprite/Tip.ts","Core/_Sprite/IChoose.ts","Ev/_Sprite/IChooseMetas.ts","Ev/_Sprite/Choose.ts","Sprite/Choose.ts","Sprite/CG.ts","Sprite/SeriesSlots.ts","Core/_Sprite/ISet.ts","Ev/_Sprite/ISetCloseMetas.ts","Ev/_Sprite/SetClose.ts","Ev/_Sprite/ISetVolumeMetas.ts","Ev/_Sprite/SetVolume.ts","Sprite/Set.ts","Sprite/Stars.ts","Sprite/_pack.ts","Runtime/_Director/CanvasDirector.ts","Runtime/_Director/DirectorFactory.ts","Ev/_Runtime/IResumeMetas.ts","Ev/_Runtime/Resume.ts","Ev/_Runtime/ILoadMetas.ts","Ev/_Runtime/Load.ts","Ev/_Runtime/ISceneMetas.ts","Ev/_Runtime/Scene.ts","Ev/_Runtime/IActionMetas.ts","Ev/_Runtime/Action.ts","Tag/_schema.ts","E.ts","Tag/Unknown.ts","Tag/Entity.ts","Tag/_Definition/Image.ts","Tag/_Definition/_Char/Avatar.ts","Tag/_Definition/ResTable.ts","Tag/_Definition/_Char/Poses.ts","Tag/_Definition/_Char/DefChar.ts","Tag/_Definition/Audio.ts","Tag/_Definition/DefBGM.ts","Tag/_Definition/DefCG.ts","Tag/_Definition/DefSE.ts","Tag/_Definition/_Map/BGImage.ts","Tag/_Definition/_Map/HLImage.ts","Tag/_Definition/_Map/Region.ts","Tag/_Definition/_Map/Target.ts","Tag/Action.ts","Tag/_Action/_Flow/Enter.ts","Tag/_Definition/_Map/Point.ts","Tag/_Definition/_Map/DefMap.ts","Tag/_Definition/_Room/Link.ts","Tag/_Definition/_Room/Times.ts","Tag/_Structure/_Scene/Type.ts","Tag/_Structure/_Scene/Conditions.ts","Tag/_Action/_Director/AsRoom.ts","Tag/_Action/_Director/CharOn.ts","Tag/_Action/_Director/PlayBGM.ts","Tag/_Action/_Director/PlaySE.ts","Tag/_Action/_Director/ShowCG.ts","Tag/Idable.ts","Tag/_Action/_Text/Speak.ts","Core/_Tag/IBlock.ts","Tag/_Action/_Logic/Loop.ts","Tag/_Structure/_Scene/Content.ts","Tag/_Structure/_Scene/Scene.ts","Tag/_Definition/_Room/DefRoom.ts","Tag/_Structure/Auto.ts","Tag/_Definition/Player.ts","Tag/_Structure/Theme.ts","Tag/_Structure/Resources.ts","Tag/_Structure/Status.ts","Tag/_Structure/_Panel/Panel.ts","Tag/_Structure/Root.ts","Tag/_Action/_Director/CharOff.ts","Tag/_Action/_Director/CharSet.ts","Tag/_Action/_Director/CharPose.ts","Tag/_Action/_Text/Monolog.ts","Tag/_Action/_Text/VoiceOver.ts","Tag/_Action/_Logic/Save.ts","Tag/_Action/_Flow/End.ts","Tag/_Action/_Flow/Fail.ts","Tag/_Action/_Flow/Stars.ts","Tag/_Action/_Director/HideCG.ts","Tag/_Action/_Director/AsTime.ts","Tag/_Action/_Flow/Freeze.ts","Tag/_Action/_Director/Weather.ts","Tag/_Action/_Logic/Assert.ts","Tag/_Action/_Logic/Assign.ts","Tag/_Action/_Logic/Compare.ts","Tag/_Action/_Logic/Increase.ts","Tag/_Action/_Flow/LoopBreak.ts","Tag/_Action/_Logic/And.ts","Tag/_Action/_Logic/Or.ts","Tag/_Action/_Logic/Otherwise.ts","Tag/_Action/_Logic/Then.ts","Tag/_Action/_Logic/When.ts","Tag/_Action/_Flow/Option.ts","Tag/_Action/_Flow/Choose.ts","Tag/_Action/_Text/Tip.ts","Tag/_Action/_Logic/Maximum.ts","Tag/_Action/_Director/CharMove.ts","Tag/_Action/_Logic/WhenVar.ts","Tag/_Action/_Director/StopBGM.ts","Tag/_Action/_Flow/DefOptions.ts","Tag/_Action/_Flow/AddOption.ts","Tag/_Action/_Flow/DropOption.ts","Tag/_Action/_Logic/Random.ts","Tag/_Action/_Logic/IfTime.ts","Tag/_Action/_Logic/Copy.ts","Tag/_Action/_Logic/Add.ts","Tag/_Action/_Logic/Subtract.ts","Tag/_Action/_Logic/Product.ts","Tag/_Action/_Logic/Define.ts","Tag/_Action/_Logic/Collection.ts","Tag/_Action/_Logic/CollPush.ts","Tag/_Action/_Logic/CollPop.ts","Tag/_State/Struct.ts","Tag/_State/Field.ts","Tag/_State/FieldType.ts","Tag/_State/FieldLimit.ts","Tag/_Structure/_Panel/CollPanel.ts","Tag/_Structure/_Panel/CollSource.ts","Tag/_Structure/_Panel/CollStruct.ts","Tag/_Structure/_Panel/SimpPanel.ts","Tag/_Structure/_Panel/SimpEle.ts","Tag/_Structure/_Panel/EleName.ts","Tag/_Structure/_Panel/EleType.ts","Tag/_Action/_Director/Pause.ts","Tag/_Action/_Director/Camera.ts","Tag/_Action/_Director/CameraMove.ts","Tag/_Action/_Director/CameraZoom.ts","Tag/_Action/_Director/CameraReset.ts","Tag/_Action/_Director/CameraSet.ts","Tag/_Action/_Director/Curtains.ts","Tag/_Action/_Director/CameraShake.ts","Ev/_Runtime/IDonateMetas.ts","Ev/_Runtime/Donate.ts","Tag/_Action/_Logic/Donate.ts","Ev/_Runtime/IFinMetas.ts","Ev/_Runtime/Fin.ts","Ev/_Runtime/IRankMetas.ts","Ev/_Runtime/Rank.ts","Ev/_Runtime/IPayMetas.ts","Ev/_Runtime/Pay.ts","Tag/_pack.ts","Runtime/Runtime.ts","Lex/TagLine.ts","Lex/Parser.ts","Bigine.ts"],"names":[],"mappings":"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","file":"bigine.js","sourcesContent":["/**\r\n * 定义（运行时）抽象事件组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/Event.ts\r\n */\r\n\r\n/// <reference path=\"../../include/tsd.d.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Event<T> implements Util.IEvent<T> {\r\n        /**\r\n         * 事件触发对象。\r\n         */\r\n        public target: T;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: Util.IEventMetas<T>) {\r\n            this.target = metas.target;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return '';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明标签接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/ITag.ts\r\n */\r\n\r\n/// <reference path=\"../_Runtime/IEpisode.ts\" />\r\n\r\nnamespace Core {\r\n    export interface ITag {\r\n        // new (params: string[], content: string, children: ITag[], lineNo: number): ITag;\r\n\r\n        /**\r\n         * 获取行号。\r\n         */\r\n        gL(): number;\r\n\r\n        /**\r\n         * 获取名称。\r\n         */\r\n        gN(): string;\r\n\r\n        /**\r\n         * 注册（自身实体）至作品。\r\n         */\r\n        r(ep: IEpisode): void;\r\n\r\n        /**\r\n         * 绑定作品（实体）。\r\n         */\r\n        b(ep: IEpisode): void;\r\n\r\n        /**\r\n         * 转化为（中文）剧本（代码）。\r\n         */\r\n        toString(): string;\r\n\r\n        /**\r\n         * 转化为运行时（Javascript）代码。\r\n         */\r\n        toJsrn(): string;\r\n\r\n        /**\r\n         * 获取父标签。\r\n         */\r\n        gU(): ITag;\r\n    }\r\n}\r\n","/**\r\n * 声明带唯一标识标签接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/IIdableTag.ts\r\n */\r\n\r\n/// <reference path=\"ITag.ts\" />\r\n\r\nnamespace Core {\r\n    // ITag:gL()\r\n    // ITag:gN()\r\n    // ITag:r()\r\n    // ITag:b()\r\n    // ITag:toString()\r\n    // ITag:toJsrn()\r\n    // ITag:gU()\r\n    export interface IIdableTag extends ITag {\r\n        /**\r\n         * 获取编号。\r\n         */\r\n        gI(): string;\r\n\r\n        /**\r\n         * 恢复编号。\r\n         */\r\n        i(id: string): void;\r\n    }\r\n}\r\n","/**\r\n * 声明实体定义标签接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/IEntityTag.ts\r\n */\r\n\r\n/// <reference path=\"ITag.ts\" />\r\n\r\nnamespace Core {\r\n    // ITag:gL()\r\n    // ITag:gN()\r\n    // ITag:r()\r\n    // ITag:b()\r\n    // ITag:toString()\r\n    // ITag:toJsrn()\r\n    // ITag:gU()\r\n    export interface IEntityTag extends ITag {\r\n        /**\r\n         * 获取唯一编号。\r\n         */\r\n        gI(): string;\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        gT(): IEpisode.Entity;\r\n    }\r\n}\r\n","/**\r\n * 声明根标签接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/IRootTag.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"IEntityTag.ts\" />\r\n\r\nnamespace Core {\r\n    import Util = __Bigine_Util;\r\n\r\n    // ITag:gL()\r\n    // ITag:gN()\r\n    // ITag:r()\r\n    // ITag:b()\r\n    // ITag:toString()\r\n    // ITag:toJsrn()\r\n    // ITag:gU()\r\n    export interface IRootTag extends ITag {\r\n        /**\r\n         * 是否自动播放。\r\n         */\r\n        a(): boolean;\r\n\r\n        /**\r\n         * 加载资源包。\r\n         */\r\n        l(callback: Util.ISuccessCallback<Util.IHashTable<IEntityTag>>): boolean;\r\n\r\n        /**\r\n         * 获取资源包名称。\r\n         */\r\n        gS(): string;\r\n\r\n        /**\r\n         * 加载主题。\r\n         */\r\n        t(callback: Util.ISuccessCallback<Util.IHashTable<any>>): void;\r\n\r\n        /**\r\n         * 获取主题名称。\r\n         */\r\n        gT(): string;\r\n\r\n        /**\r\n         * 获取状态配置。\r\n         */\r\n        s(): [string, string][];\r\n\r\n        /**\r\n         * 获取面板配置。\r\n         */\r\n        p(): Array<Util.IHashTable<any>>;\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）数据状态接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Runtime/IStates.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n\r\n/**\r\n * 1. `_` 表明为场效相关信息，需要被存档记录；\r\n *     * `_a` - 动作编号 - Runtime\r\n *     * `_b` - 背景音乐名 - Tag\r\n *     * `_c` - 特写名 - Tag\r\n *     * `_c<站位>` - 人物名 - Tag\r\n *     * `_s<站位>` - 人物神态名 - Tag\r\n *     * `_rc` - （所在）房间名 - Tag\r\n *     * `_rd` - （显示）房间名 - Tag\r\n *     * `_rt` - （移动目标）房间名 - Tag\r\n *     * `_p` - 时序类型 - Runtime\r\n *     * `_s` - 事件编号 - Runtime\r\n *     * `_t` - 时刻名 - Tag\r\n *     * `_w` - 天气名 - Tag\r\n *     * `_z` -  房间状态 - Tag    // 添加镜头控制命令时所需记录的存档信息\r\n *     * `_ra` -  切幕动画 - Tag    // 添加切幕动画命令时所需记录的存档信息\r\n * 2. `.` 表明为会话持久信息，不能被存档记录；\r\n *     * `.p<人物名>` - 人物站位 - Runtime/Tag\r\n *     * `.a` - 动作编号 - Runtime/Tag\r\n *     * `.s` - 事件编号 - Runtime\r\n *     * `.c` - 特写名 - Tag\r\n *     * `.c<站位>` - 人物名 - Tag\r\n *     * `.z` -  房间状态 - Tag\r\n *     * `.l` -  资源加载状态 - Tag\r\n * 3. `$` 表明为注册对象，不能被存档记录；\r\n *     * `$c` - 人物数量 - Runtime\r\n *     * `$d` - 事件逻辑层深度 - Tag\r\n *     * `$rc` - （所在）房间对象 - Tag\r\n *     * `$rd` - （显示）房间对象 - Tag\r\n *     * `$rt` - （移动目标）房间对象 - Tag\r\n *     * `$t<深度>` - 比较是否完成 - Tag\r\n *     * `$v<深度>` - 当前比较值 - Tag\r\n *     * `$_<选项名>` - 选项定义 - Tag\r\n * 4. 其它为作品运行信息，需要被存档记录。\r\n */\r\nnamespace Core {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IStates {\r\n        /**\r\n         * 设置值。\r\n         */\r\n        s(key: string, value: any): IStates;\r\n\r\n        /**\r\n         * 获取值。\r\n         */\r\n        g(key: string): any;\r\n\r\n        /**\r\n         * 删除值。\r\n         */\r\n        d(key: string): IStates;\r\n\r\n        /**\r\n         * 比较两个值是否一致。\r\n         */\r\n        a(key1: string, key2: string): boolean;\r\n\r\n        /**\r\n         * 复制值。\r\n         */\r\n        c(src: string, dest: string): IStates;\r\n\r\n        /**\r\n         * 移动值。\r\n         */\r\n        m(src: string, dest: string): IStates;\r\n\r\n        /**\r\n         * 转化文本中的变量名至实际值。\r\n         */\r\n        t(text: string): string;\r\n\r\n        /**\r\n         * 生成快照（以备存档）。\r\n         */\r\n        p(): IStates;\r\n\r\n        /**\r\n         * 导出数据（存档）。\r\n         *\r\n         * 此方法应触发 Save 事件。\r\n         */\r\n        e(manual: boolean, series?: boolean): Util.IHashTable<any>;\r\n\r\n        /**\r\n         * 导入数据。\r\n         */\r\n        i(data: Util.IHashTable<any>): IStates;\r\n\r\n        /**\r\n         * 查询档位信息。\r\n         */\r\n        q(index: string, type?: IStates.Save): [string, number];\r\n\r\n        /**\r\n         * 加载存档信息。\r\n         */\r\n        l(): Promise<IStates>;\r\n\r\n        /**\r\n         * 查询是否付费。\r\n         */\r\n        qp(id: string, count: number): boolean;\r\n\r\n        /**\r\n         * 加载付费信息。\r\n         */\r\n        lp(data: Util.IHashTable<string> | string): IStates;\r\n\r\n        /**\r\n         * 增加付费信息。\r\n         */\r\n        ep(id: string, count: number): IStates;\r\n    }\r\n\r\n    export namespace IStates {\r\n        /**\r\n         * 存档类型。\r\n         */\r\n        export enum Save {\r\n            /**\r\n             * 作品内部存档。\r\n             */\r\n            Work,\r\n            /**\r\n             * 前一集连载存档。\r\n             */\r\n            Series,\r\n            /**\r\n             * 本集连载存档。\r\n             */\r\n            End\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）资源（如：图片、音频等）组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Resource/IResource.ts\r\n */\r\n\r\nnamespace Core {\r\n    export interface IResource<T> {\r\n        // new (uri: string, type: IResource.Type): IResource;\r\n\r\n        /**\r\n         * 获取真实 URL 。\r\n         */\r\n        l(): string;\r\n\r\n        /**\r\n         * 获取 DOM 对象。\r\n         */\r\n        o(): Promise<T>;\r\n\r\n        /**\r\n         * 加载完成时通知。\r\n         */\r\n        w(callback: (value: T) => void): IResource<T>;\r\n    }\r\n\r\n    export namespace IResource {\r\n        /**\r\n         * 类型。\r\n         */\r\n        export enum Type {\r\n            /**\r\n             * 房间（图片）。\r\n             */\r\n            Room,\r\n            /**\r\n             * 地图（高亮图片）。\r\n             */\r\n            Map,\r\n            /**\r\n             * 人物立绘（图片）。\r\n             */\r\n            Pose,\r\n            /**\r\n             * 人物头像（图片）。\r\n             */\r\n            Avatar,\r\n            /**\r\n             * 特写（图片）。\r\n             */\r\n            CG,\r\n            /**\r\n             * 背景音乐。\r\n             */\r\n            BGM,\r\n            /**\r\n             * 音效。\r\n             */\r\n            SE,\r\n            /**\r\n             * 原生（图片）。\r\n             */\r\n            Raw\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明地图（定义）标签接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/IMapTag.ts\r\n */\r\n\r\n/// <reference path=\"IEntityTag.ts\" />\r\n/// <reference path=\"IPointTag.ts\" />\r\n\r\nnamespace Core {\r\n    import Util = __Bigine_Util;\r\n\r\n    // ITag:gL()\r\n    // ITag:gN()\r\n    // ITag:r()\r\n    // ITag:b()\r\n    // ITag:toString()\r\n    // ITag:toJsrn()\r\n    // ITag:gU()\r\n    // IEntityTag:gI()\r\n    // IEntityTag:gT()\r\n    export interface IMapTag extends IEntityTag {\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        o(): IResource<HTMLImageElement>;\r\n\r\n        /**\r\n         * 获取交互点集合。\r\n         */\r\n        gP(): Util.IHashTable<IPointTag>;\r\n        gP(id: string): IPointTag;\r\n    }\r\n}\r\n","/**\r\n * 声明房间（定义）标签接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/IRoomTag.ts\r\n */\r\n\r\n/// <reference path=\"IMapTag.ts\" />\r\n/// <reference path=\"ISceneHost.ts\" />\r\n/// <reference path=\"../_Resource/IResource.ts\" />\r\n\r\nnamespace Core {\r\n    // ITag:gL()\r\n    // ITag:gN()\r\n    // ITag:r()\r\n    // ITag:b()\r\n    // ITag:toString()\r\n    // ITag:toJsrn()\r\n    // ITag:gU()\r\n    // IEntityTag:gI()\r\n    // IEntityTag:gT()\r\n    // ISceneHost:a()\r\n    // ISceneHost:p()\r\n    export interface IRoomTag extends IEntityTag, ISceneHost {\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        o(id?: string): IResource<HTMLImageElement>;\r\n\r\n        /**\r\n         * 获取关联地图。\r\n         */\r\n        gM(): IMapTag;\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时场效）交互按钮接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Runtime/IButtonable.ts\r\n */\r\n\r\n/// <reference path=\"IRuntime.ts\" />\r\n\r\nnamespace Core {\r\n    export interface IButtonable {\r\n        /**\r\n         * 交互逻辑。\r\n         */\r\n        p(runtime: IRuntime): void;\r\n    }\r\n}\r\n","/**\r\n * 声明（地图）交互点标签接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/IPointTag.ts\r\n */\r\n\r\n/// <reference path=\"IRoomTag.ts\" />\r\n/// <reference path=\"../_Runtime/IButtonable.ts\" />\r\n/// <reference path=\"../_Resource/IResource.ts\" />\r\n\r\nnamespace Core {\r\n    // ITag:gL()\r\n    // ITag:gN()\r\n    // ITag:r()\r\n    // ITag:b()\r\n    // ITag:toString()\r\n    // ITag:toJsrn()\r\n    // ITag:gU()\r\n    // IButtonable:p()\r\n    export interface IPointTag extends ITag, IButtonable {\r\n        /**\r\n         * 获取唯一编号。\r\n         */\r\n        gI(): string;\r\n\r\n        /**\r\n         * 获取高亮图资源。\r\n         */\r\n        o(): IResource<HTMLImageElement>;\r\n\r\n        /**\r\n         * 获取横轴座标值。\r\n         */\r\n        gX(): number;\r\n\r\n        /**\r\n         * 获取纵轴座标值。\r\n         */\r\n        gY(): number;\r\n\r\n        /**\r\n         * 获取深轴座标值。\r\n         */\r\n        gZ(): number;\r\n\r\n        /**\r\n         * 获取宽度值。\r\n         */\r\n        gW(): number;\r\n\r\n        /**\r\n         * 获取高度值。\r\n         */\r\n        gH(): number;\r\n\r\n        /**\r\n         * 获取相关房间。\r\n         */\r\n        gR(): IRoomTag;\r\n    }\r\n}\r\n","/**\r\n * 声明选项动作标签接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/IOptionTag.ts\r\n */\r\n\r\n/// <reference path=\"ITag.ts\" />\r\n/// <reference path=\"../_Runtime/IButtonable.ts\" />\r\n/// <reference path=\"../_Tag/IIdableTag.ts\" />\r\n\r\nnamespace Core {\r\n    // ITag:gL()\r\n    // ITag:gN()\r\n    // ITag:r()\r\n    // ITag:b()\r\n    // ITag:toString()\r\n    // ITag:toJsrn()\r\n    // ITag:gU()\r\n    // IButtonable:p()\r\n    export interface IOptionTag extends ITag, IButtonable, IIdableTag {\r\n        /**\r\n         * 获取描述文字。\r\n         */\r\n        gT(): string;\r\n\r\n        /**\r\n         * 获取萝卜币。\r\n         */\r\n        gM(): number;\r\n\r\n        /**\r\n         * 获取是否已付费。\r\n         */\r\n        gA(): boolean;\r\n    }\r\n}\r\n","\r\n/**\r\n * 声明（运行时）场效调度器接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Runtime/IDirector.ts\r\n */\r\n\r\n/// <reference path=\"../_Resource/IResource.ts\" />\r\n/// <reference path=\"IRuntime.ts\" />\r\n/// <reference path=\"../_Tag/IPointTag.ts\" />\r\n/// <reference path=\"../_Tag/IOptionTag.ts\" />\r\n\r\nnamespace Core {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IDirector {\r\n        /**\r\n         * 预加载指定资源组。\r\n         *\r\n         * @param resources 一个（作品）事件所包含地所有资源\r\n         */\r\n        c(resources: IResource<string | HTMLImageElement>[][]): Promise<void>;\r\n\r\n        /**\r\n         * 开场动画。\r\n         */\r\n        OP(start: boolean, title: string, author: string): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 完结动画。\r\n         */\r\n        ED(): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 失败动画。\r\n         */\r\n        FAIL(): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 人物出场。\r\n         */\r\n        charOn(resource: IResource<HTMLImageElement>, position: IDirector.Position): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 人物离场。\r\n         */\r\n        charOff(position: IDirector.Position): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 设置人物。\r\n         */\r\n        charSet(resource: IResource<HTMLImageElement>, position: IDirector.Position): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 人物移动。\r\n         */\r\n        charMove(from: IDirector.Position, to: IDirector.Position): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 某白。\r\n         */\r\n        words(words: string, theme: string, who?: string, avatar?: IResource<HTMLImageElement>): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 提示。\r\n         */\r\n        tip(words: string): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 评分动画。\r\n         */\r\n        stars(rank: IDirector.Stars, grade: string, value: string): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 播放背景音乐。\r\n         */\r\n        playBGM(resource?: IResource<string>): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 播放音效。\r\n         */\r\n        playSE(resource?: IResource<string>): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 关闭特写。\r\n         */\r\n        hideCG(): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 展示特写。\r\n         */\r\n        showCG(resource: IResource<HTMLImageElement>): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 设置房间。\r\n         */\r\n        asRoom(resource: IResource<HTMLImageElement>, time?: boolean, map?: boolean): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 设置地图。\r\n         */\r\n        asMap(points: Util.IHashTable<IPointTag>): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 关灯（落幕）。\r\n         */\r\n        lightOff(): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 开灯（开幕）。\r\n         */\r\n        lightOn(): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 选择。\r\n         */\r\n        choose(options: IOptionTag[]): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 重置。\r\n         */\r\n        reset(): Promise<IRuntime>;\r\n\r\n        /**\r\n         * （读档继续时）设置特写。\r\n         */\r\n        setCG(resource: IResource<HTMLImageElement>): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 停顿。\r\n         */\r\n        pause(milsec: number): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 切幕动画。\r\n         */\r\n        curtain(name: string): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 移动镜头。\r\n         */\r\n        cameraMove(mx: number, my: number, ms: number): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 放大/缩小镜头。\r\n         */\r\n        cameraZoom(mx: number, my: number, ms: number, scale: number): Promise<IRuntime>;\r\n\r\n        /**\r\n         * 抖动镜头。\r\n         */\r\n        cameraShake(): Promise<IRuntime>;\r\n\r\n    }\r\n\r\n    export namespace IDirector {\r\n        /**\r\n         * 位置。\r\n         */\r\n        export enum Position {\r\n            /**\r\n             * 左。\r\n             */\r\n            Left = 1,\r\n            /**\r\n             * 左中。\r\n             */\r\n            CLeft,\r\n            /**\r\n             * 中。\r\n             */\r\n            Center,\r\n            /**\r\n             * 右中。\r\n             */\r\n            CRight,\r\n            /**\r\n             * 右。\r\n             */\r\n            Right\r\n        }\r\n\r\n        /**\r\n         * 评分星级。\r\n         */\r\n        export enum Stars {\r\n            /**\r\n             * 及格。\r\n             */\r\n            OK,\r\n            /**\r\n             * 优秀。\r\n             */\r\n            Awesome,\r\n            /**\r\n             * 完美。\r\n             */\r\n            Perfect,\r\n            /**\r\n             * 超绝。\r\n             */\r\n            Superb,\r\n            /**\r\n             * 传奇。\r\n             */\r\n            Legend\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明运行时接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Runtime/IRuntime.ts\r\n */\r\n\r\n/// <reference path=\"../_Tag/IRootTag.ts\" />\r\n/// <reference path=\"IStates.ts\" />\r\n/// <reference path=\"IDirector.ts\" />\r\n\r\nnamespace Core {\r\n    import Util = __Bigine_Util;\r\n\r\n    // IEmittable:addEventListener()\r\n    // IEmittable:removeEventListener()\r\n    // IEmittable:dispatchEvent()\r\n    export interface IRuntime extends Util.IEmittable {\r\n        // new (ep: Tag.IRoot): IRuntime;\r\n\r\n        /**\r\n         * 获取作品组件。\r\n         */\r\n        gE(): IEpisode;\r\n\r\n        /**\r\n         * 获取日志组件。\r\n         */\r\n        gL(): Util.ILogger;\r\n\r\n        /**\r\n         * 获取数据状态组件。\r\n         */\r\n        gS(): IStates;\r\n\r\n        /**\r\n         * 获取场效调度器组件。\r\n         */\r\n        gD(): IDirector;\r\n\r\n        /**\r\n         * 播放。\r\n         */\r\n        play(): IRuntime;\r\n\r\n        /**\r\n         * 重新播放。\r\n         */\r\n        replay(): IRuntime;\r\n\r\n        /**\r\n         * 销毁。\r\n         */\r\n        destroy(): Promise<IRuntime>;\r\n\r\n        /**\r\n         * DOM 定位修正。\r\n         */\r\n        fix(): void;\r\n\r\n        /**\r\n         * 设置或获取自动播放设置。\r\n         */\r\n        auto(auto?: boolean): boolean;\r\n\r\n        /**\r\n         * 设置或获取音量。\r\n         */\r\n        volume(volume?: number): number;\r\n\r\n        /**\r\n         * 是否正在播放。\r\n         */\r\n        isPlaying(): boolean;\r\n\r\n        /**\r\n         * 播报当前事件。\r\n         */\r\n        s(scene: ISceneTag, title: string, actions: string[]): IRuntime;\r\n\r\n        /**\r\n         * 播报当前关键帧。\r\n         */\r\n        a(action: IIdableTag): IRuntime;\r\n\r\n        /**\r\n         * 是否中止播放。\r\n         */\r\n        gH(): boolean;\r\n\r\n        /**\r\n         * 声明时序流。\r\n         */\r\n        t(flow: () => IRuntime | Thenable<IRuntime>): IRuntime;\r\n\r\n        /**\r\n         * 设置作品标题。\r\n         */\r\n        title(title: string): IRuntime;\r\n\r\n        /**\r\n         * 设置作者。\r\n         */\r\n        author(title: string): IRuntime;\r\n\r\n        /**\r\n         * 设置作者、token。\r\n         */\r\n        user(nickname: string): IRuntime;\r\n\r\n        /**\r\n         * 获取nickname\r\n         */\r\n        nickname(): string;\r\n\r\n        /**\r\n         * 获取剧情付费信息\r\n         */\r\n        plots(data: Util.IHashTable<string> | string): IRuntime;\r\n\r\n        /**\r\n         * 读取存档。\r\n         */\r\n        l(id?: string): void;\r\n\r\n        /**\r\n         * 绑定视图。\r\n         */\r\n        bind(viewport: HTMLElement): IRuntime;\r\n\r\n        /**\r\n         * 连载模式。\r\n         */\r\n        series(first?: boolean): IRuntime;\r\n    }\r\n\r\n    export namespace IRuntime {\r\n        /**\r\n         * 连载类型。\r\n         */\r\n        export enum Series {\r\n            /**\r\n             * 非连载。\r\n             */\r\n            Alone,\r\n            /**\r\n             * 第一集。\r\n             */\r\n            First,\r\n            /**\r\n             * 后续集。\r\n             */\r\n            Rest\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明可执行标签接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/IPerformableTag.ts\r\n */\r\n\r\n/// <reference path=\"ITag.ts\" />\r\n/// <reference path=\"../_Runtime/IRuntime.ts\" />\r\n\r\nnamespace Core {\r\n    // ITag:gL()\r\n    // ITag:gN()\r\n    // ITag:r()\r\n    // ITag:b()\r\n    // ITag:toString()\r\n    // ITag:toJsrn()\r\n    // ITag:gU()\r\n    export interface IPerformableTag extends ITag {\r\n        /**\r\n         * 执行。\r\n         */\r\n        p(runtime: IRuntime): IRuntime | Thenable<IRuntime>;\r\n    }\r\n}\r\n","/**\r\n * 声明（作品）事件标签接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/ISceneTag.ts\r\n */\r\n\r\n/// <reference path=\"IIdableTag.ts\" />\r\n/// <reference path=\"IPerformableTag.ts\" />\r\n\r\nnamespace Core {\r\n    // ITag:gL()\r\n    // ITag:gN()\r\n    // ITag:r()\r\n    // ITag:b()\r\n    // ITag:toString()\r\n    // ITag:toJsrn()\r\n    // ITag:gU()\r\n    // IIdableTag:gI()\r\n    // IIdableTag:i()\r\n    // IPerformableTag:p()\r\n    export interface ISceneTag extends IIdableTag, IPerformableTag {\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        gT(): ISceneTag.Type;\r\n    }\r\n\r\n    export namespace ISceneTag {\r\n        /**\r\n         * 类型。\r\n         */\r\n        export enum Type {\r\n            /**\r\n             * 开始时。\r\n             */\r\n            Begin,\r\n            /**\r\n             * 失败时。\r\n             */\r\n            Fail,\r\n            /**\r\n             * 完结时。\r\n             */\r\n            End,\r\n            /**\r\n             * 离开房间前。\r\n             */\r\n            PreLeave,\r\n            /**\r\n             * 进入房间前。\r\n             */\r\n            PreEnter,\r\n            /**\r\n             * 离开房间后。\r\n             */\r\n            PostLeave,\r\n            /**\r\n             * 进入房间后。\r\n             */\r\n            PostEnter\r\n        };\r\n    }\r\n}\r\n","/**\r\n * 声明（作品）事件宿主接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/ISceneHost.ts\r\n */\r\n\r\n/// <reference path=\"ISceneTag.ts\" />\r\n\r\nnamespace Core {\r\n    export interface ISceneHost {\r\n        /**\r\n         * 添加事件。\r\n         */\r\n        a(scene: ISceneTag): ISceneHost;\r\n\r\n        /**\r\n         * 播放。\r\n         */\r\n        p(type: ISceneTag.Type, runtime: IRuntime, name?: string): Promise<IRuntime>;\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）作品接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Runtime/IEpisode.ts\r\n */\r\n\r\n/// <reference path=\"../_Tag/ISceneHost.ts\" />\r\n/// <reference path=\"IRuntime.ts\" />\r\n/// <reference path=\"../_Tag/IEntityTag.ts\" />\r\n/// <reference path=\"../_Resource/IResource.ts\" />\r\n\r\nnamespace Core {\r\n    // ISceneHost:a()\r\n    // ISceneHost:p()\r\n    export interface IEpisode extends ISceneHost {\r\n        // new (ep: Tag.IRoot, runtime: IRuntime): IEpisode;\r\n\r\n        /**\r\n         * 注册实体。\r\n         */\r\n        f(tag: IEntityTag): IEpisode;\r\n\r\n        /**\r\n         * 查询实体。\r\n         */\r\n        q(id: string, type?: IEpisode.Entity, lineNo?: number): IEntityTag;\r\n\r\n        /**\r\n         * 注册资源。\r\n         */\r\n        r(uri: string, type: IResource.Type): IResource<string | HTMLImageElement>;\r\n\r\n        /**\r\n         * 获取素材包名称。\r\n         */\r\n        gS(): string;\r\n\r\n        /**\r\n         * 获取主题名称。\r\n         */\r\n        gT(): string;\r\n    }\r\n\r\n    export namespace IEpisode {\r\n        /**\r\n         * 实体类型。\r\n         */\r\n        export enum Entity {\r\n            /**\r\n             * 房间。\r\n             */\r\n            Room,\r\n            /**\r\n             * 角色。\r\n             */\r\n            Chr,\r\n            /**\r\n             * 背景音乐。\r\n             */\r\n            BGM,\r\n            /**\r\n             * 音效。\r\n             */\r\n            SE,\r\n            /**\r\n             * 特写。\r\n             */\r\n            CG,\r\n            /**\r\n             * 地图。\r\n             */\r\n            Map,\r\n            /**\r\n             * 天气。\r\n             */\r\n            Weather,\r\n            /**\r\n             * 主角（特殊类型）。\r\n             */\r\n            Player,\r\n            /**\r\n             * 结构。\r\n             */\r\n            Struct\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）（播放准备）就绪事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IReadyMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../Core/_Runtime/IEpisode.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IReadyMetas extends Util.IEventMetas<Core.IEpisode> {\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）（播放准备）就绪事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Ready.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IReadyMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class Ready extends Event<Core.IEpisode> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IReadyMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'ready';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）错误事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IErrorMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IErrorMetas extends Util.IEventMetas<any> {\r\n        /**\r\n         * 异常。\r\n         */\r\n        error: Error;\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）异常事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Error.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IErrorMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class Error extends Event<any> {\r\n        /**\r\n         * 异常。\r\n         */\r\n        public error: Error;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IErrorMetas) {\r\n            super(metas);\r\n            this.error = metas.error;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'error';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）完结事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IEndMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Runtime/IEpisode.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IEndMetas extends Util.IEventMetas<Core.IEpisode> {\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）完结事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/End.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IEndMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class End extends Event<Core.IEpisode> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IEndMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'end';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义资源组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Resource/Resource.ts\r\n */\r\n\r\n/// <reference path=\"../../include/tsd.d.ts\" />\r\n/// <reference path=\"../Core/_Resource/IResource.ts\" />\r\n\r\nnamespace Resource {\r\n    import Util = __Bigine_Util;\r\n\r\n    /**\r\n     * 资源池。\r\n     */\r\n    let $r: Util.IHashTable<Resource<any>> = {};\r\n\r\n    export class Resource<T> implements Core.IResource<T> {\r\n        /**\r\n         * 真实 URL 。\r\n         */\r\n        private _l: string;\r\n\r\n        /**\r\n         * 加载 Promise 对象。\r\n         */\r\n        private _q: Promise<T>;\r\n\r\n        /**\r\n         * 加载完成时回调。\r\n         */\r\n        private _w: ((value: T) => void)[];\r\n\r\n        /**\r\n         * 是否已加载。\r\n         */\r\n        private _r: boolean;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(uri: string, type: Core.IResource.Type) {\r\n            var env: typeof Util.ENV = Util.ENV,\r\n                types: typeof Core.IResource.Type = Core.IResource.Type,\r\n                ie9: boolean = env.MSIE && 'undefined' == typeof URL,\r\n                ext: string;\r\n            if (types.Raw == type) {\r\n                this._l = uri;\r\n                if ('//s.dahao.de/theme/' != this._l.substr(0, 19))\r\n                    throw new E(E.RES_INVALID_URI);\r\n                ext = this._l.substr(-4);\r\n                if (ie9 && ('.jpg' == ext || '.png' == ext))\r\n                    this._l = '//dahao.de/.9' + this._l.substr(18);\r\n            } else {\r\n                if (!/^[\\d0-f]{8}-[\\d0-f]{4}-[\\d0-f]{4}-[\\d0-f]{4}-[\\d0-f]{12}$/i.test(uri))\r\n                    throw new E(E.RES_INVALID_URI);\r\n                var height: number = 720 <= env.Screen.Height ? 720 : 360,\r\n                    filename: string = height + '.';\r\n                switch (type) {\r\n                    case types.Room:\r\n                    case types.CG:\r\n                        filename += 'jpg';\r\n                        break;\r\n                    case types.Map:\r\n                    case types.Pose:\r\n                        filename += 'png';\r\n                        break;\r\n                    case types.Avatar:\r\n                        filename = Math.round(height / 4) + '.png';\r\n                        break;\r\n                    case types.BGM:\r\n                    case types.SE:\r\n                        filename = (env.Mobile ? 64 : 128) + '.mp3';\r\n                        break;\r\n                }\r\n                this._l = '//a' + (1 + parseInt(uri[0], 16) % 8) + '.dahao.de/' + uri + '/' + filename;\r\n                if (ie9 && '.mp3' != this._l.substr(-4))\r\n                    this._l = '//dahao.de/.9' + this._l.substr(13);\r\n            }\r\n            this._l = env.Protocol + this._l;\r\n            this._w = [];\r\n            this._r = false;\r\n        }\r\n\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        public static g<U>(uri: string, type: Core.IResource.Type): Resource<U> {\r\n            uri = uri.replace(/^.+:\\/\\//, '//');\r\n            var key: string = uri + type;\r\n            if (!(key in $r))\r\n                $r[key] = new Resource<U>(uri, type);\r\n            return $r[key];\r\n        }\r\n\r\n        /**\r\n         * 获取真实 URL 。\r\n         */\r\n        public l(): string {\r\n            return this._l;\r\n        }\r\n\r\n        /**\r\n         * 获取 DOM 对象。\r\n         */\r\n        public o(): Promise<T> {\r\n            if (!this._q) {\r\n                this._q = new Promise<T>((resolve: (value?: T | Thenable<T>) => void, reject: (reason?: any) => void) => {\r\n                    var url: string = this._l + '?bigine-0.20.0',\r\n                        xhr: XMLHttpRequest,\r\n                        img: HTMLImageElement;\r\n                    if ('.mp3' == this._l.substr(-4)) {\r\n                        this._l = url;\r\n                        return resolve(<any> url);\r\n                    }\r\n                    if (Util.ENV.MSIE && 'undefined' != typeof URL) {\r\n                        xhr = new XMLHttpRequest();\r\n                        xhr.open('GET', url);\r\n                        xhr.onload = () => {\r\n                            var blob: string = URL.createObjectURL(xhr.response);\r\n                            img = new Image();\r\n                            img.onload = () => {\r\n                                URL.revokeObjectURL(blob);\r\n                                resolve(<any> img);\r\n                            };\r\n                            img.src = blob;\r\n                        };\r\n                        xhr.responseType = 'blob';\r\n                        xhr.send();\r\n                        return;\r\n                    }\r\n                    img = new Image();\r\n                    img.crossOrigin = '';\r\n                    img.onload = () => {\r\n                        resolve(<any> img);\r\n                    };\r\n                    img.src = url;\r\n                });\r\n                this._q.then(() => {\r\n                    this._r = true;\r\n                });\r\n                if (this._w.length) {\r\n                    Util.each(this._w.splice(0), (callback: (value: T) => void) => {\r\n                        this._q.then(callback);\r\n                    });\r\n                }\r\n            }\r\n            return this._q;\r\n        }\r\n\r\n        /**\r\n         * 加载完成时通知。\r\n         */\r\n        public w(callback: (value: T) => void): Resource<T> {\r\n            if (this._q) {\r\n                this._q.then(callback);\r\n            } else\r\n                this._w.push(callback);\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）作品组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Runtime/Episode.ts\r\n */\r\n\r\n/// <reference path=\"../Ev/_Runtime/Ready.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Error.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/End.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n\r\nnamespace Runtime {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Episode implements Core.IEpisode {\r\n        /**\r\n         * 已添加地事件。\r\n         */\r\n        private _a: Util.IHashTable<Core.ISceneTag[]>;\r\n\r\n        /**\r\n         * 已注册地实体。\r\n         */\r\n        private _e: Util.IHashTable<Util.IHashTable<Core.IEntityTag>>;\r\n\r\n        /**\r\n         * 主题。\r\n         */\r\n        private _c: Util.IHashTable<Util.IHashTable<any>>;\r\n\r\n        /**\r\n         * 是否自动播放标识。\r\n         */\r\n        private _p: boolean;\r\n\r\n        /**\r\n         * 素材包名称。\r\n         */\r\n        private _s: string;\r\n\r\n        /**\r\n         * 主题名称。\r\n         */\r\n        private _t: string;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(ep: Core.IRootTag, runtime: Core.IRuntime) {\r\n            this._a = {};\r\n            this._e = {};\r\n            this._p = ep.a();\r\n            this._s = ep.gS();\r\n            this._t = ep.gT();\r\n            ep.r(this);\r\n            Promise.all([\r\n                new Promise<void>((resolve: (value?: void | Thenable<void>) => void) => {\r\n                    var res: boolean = ep.l((entities: Util.IHashTable<Util.IHashTable<Core.IEntityTag>>) => {\r\n                        Util.each(entities, (typed: Util.IHashTable<Core.IEntityTag>) => {\r\n                            Util.each(typed, (entity: Core.IEntityTag) => {\r\n                                entity.r(this);\r\n                            });\r\n                        });\r\n                        resolve();\r\n                    });\r\n                    if (!res)\r\n                        resolve();\r\n                }).then(() => {\r\n                    ep.b(this);\r\n                }),\r\n                new Promise<void>((resolve: (value?: void | Thenable<void>) => void) => {\r\n                    ep.t((data: Util.IHashTable<Util.IHashTable<any>>) => {\r\n                        this._c = data;\r\n                        resolve();\r\n                    });\r\n                })\r\n            ]).then(() => {\r\n                runtime.dispatchEvent(new Ev.Ready({\r\n                    target: this\r\n                }));\r\n            })['catch']((error: any) => {\r\n                runtime.dispatchEvent(new Ev.Error({\r\n                    target: this,\r\n                    error: error\r\n                }));\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 添加事件。\r\n         */\r\n        public a(scene: Core.ISceneTag): Episode {\r\n            var type: Core.ISceneTag.Type = scene.gT();\r\n            this._a[type] = this._a[type] || [];\r\n            this._a[type].push(scene);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 播放。\r\n         */\r\n        public p(type: Core.ISceneTag.Type, runtime: Core.IRuntime): Promise<Core.IRuntime> {\r\n            var q: Promise<Core.IRuntime>;\r\n            if (type in this._a) {\r\n                runtime.gS().s('_p', type);\r\n                q = Util.Q.every(this._a[type], (scene: Core.ISceneTag) => {\r\n                    if (runtime.gH())\r\n                        return E.doHalt<Core.IRuntime>();\r\n                    return scene.p(runtime);\r\n                });\r\n            } else\r\n                q = Promise.resolve(runtime);\r\n            return q.then(() => {\r\n                if (Core.ISceneTag.Type.End == type)\r\n                    runtime.dispatchEvent(new Ev.End({\r\n                        target: this\r\n                    }));\r\n                return runtime;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 注册实体。\r\n         */\r\n        public f(tag: Core.IEntityTag): Episode {\r\n            var type: Core.IEpisode.Entity = tag.gT(),\r\n                id: string = tag.gI();\r\n            this._e[type] = this._e[type] || {};\r\n            if (id in this._e[type])\r\n                throw new E(E.EP_DUPLICATE_ENTITY, this._e[type][id].gL());\r\n            this._e[type][id] = tag;\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 查询实体。\r\n         */\r\n        public q(id: string, type: Core.IEpisode.Entity, lineNo?: number): Core.IEntityTag {\r\n            this._e[type] = this._e[type] || {};\r\n            if (!(id in this._e[type])) {\r\n                return this._e[type][' '];\r\n                //throw new E(E.EP_ENTITY_NOT_FOUND, lineNo || 0);\r\n            }\r\n            return this._e[type][id];\r\n        }\r\n\r\n        /**\r\n         * 注册资源。\r\n         */\r\n        public r(uri: string, type: Core.IResource.Type): Resource.Resource<string | HTMLImageElement> {\r\n            return Resource.Resource.g<string | HTMLImageElement>(uri, type);\r\n        }\r\n\r\n        /**\r\n         * 获取素材包名称。\r\n         */\r\n        public gS(): string {\r\n            return this._s;\r\n        }\r\n\r\n        /**\r\n         * 获取主题名称。\r\n         */\r\n        public gT(): string {\r\n            return this._t;\r\n        }\r\n\r\n        /**\r\n         * 是否自动播放。\r\n         */\r\n        public gA(): boolean {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 获取主题信息。\r\n         */\r\n        public gC(): Util.IHashTable<Util.IHashTable<any>> {\r\n            if (!this._c)\r\n                throw new E(E.EP_THEME_NOT_LOADED);\r\n            return this._c;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）查询存档数据事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IQueryMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../Core/_Runtime/IStates.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IQueryMetas extends Util.IEventMetas<Core.IStates> {\r\n        /**\r\n         * 数据导入回调函数。\r\n         */\r\n        callback: (slots: Util.IHashTable<Util.IHashTable<[string, number]>>) => void;\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）查询存档数据事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Query.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IQueryMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Query extends Event<Core.IStates> {\r\n        /**\r\n         * 数据导入回调函数。\r\n         */\r\n        public callback: (slots: Util.IHashTable<Util.IHashTable<[string, number]>>) => void;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IQueryMetas) {\r\n            super(metas);\r\n            this.callback = metas.callback;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'query';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）存档事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/ISaveMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../Core/_Runtime/IStates.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface ISaveMetas extends Util.IEventMetas<Core.IStates> {\r\n        /**\r\n         * 数据。\r\n         */\r\n        data: Util.IHashTable<any>;\r\n\r\n        /**\r\n         * 是否连载存档。\r\n         */\r\n        series?: boolean;\r\n\r\n        /**\r\n         * 是否手动存档。\r\n         */\r\n        manual: boolean;\r\n\r\n        /**\r\n         * 回调函数。\r\n         */\r\n        callback: (id: string) => void;\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）存档事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Save.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"ISaveMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Save extends Event<Core.IStates> {\r\n        /**\r\n         * 存档数据。\r\n         */\r\n        public data: Util.IHashTable<any>;\r\n\r\n        /**\r\n         * 是否连载存档。\r\n         */\r\n        public series: boolean;\r\n\r\n        /**\r\n         * 是否手动存档。\r\n         */\r\n        public manual: boolean;\r\n\r\n        /**\r\n         * 回调函数。\r\n         */\r\n        public callback: (id: string) => void;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: ISaveMetas) {\r\n            super(metas);\r\n            this.data = metas.data;\r\n            this.series = metas.series || false;\r\n            this.manual = metas.manual;\r\n            this.callback = metas.callback;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'save';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）数据变化时向外暴露元信息接口规范。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IStateMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../Core/_Runtime/IStates.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IStateMetas extends Util.IEventMetas<Core.IStates> {\r\n        /**\r\n         * 向外暴露的数据。\r\n         */\r\n        data: Util.IHashTable<any>;\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）存档事件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/State.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IStateMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class State extends Event<Core.IStates> {\r\n        /**\r\n         * 向外暴露的数据。\r\n         */\r\n        public data: Util.IHashTable<any>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IStateMetas) {\r\n            super(metas);\r\n            this.data = metas.data;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'state';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）数据状态管理器组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Runtime/States.ts\r\n */\r\n\r\n/// <reference path=\"../Core/_Runtime/IStates.ts\" />\r\n/// <reference path=\"../Core/_Runtime/IRuntime.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Query.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Save.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/State.ts\" />\r\n\r\nnamespace Runtime {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class States implements Core.IStates {\r\n        /**\r\n         * 数据池。\r\n         */\r\n        private _d: Util.IHashTable<any>;\r\n\r\n        /**\r\n         * 运行时。\r\n         */\r\n        private _r: Core.IRuntime;\r\n\r\n        /**\r\n         * 存档信息。\r\n         */\r\n        private _s: Util.IHashTable<Util.IHashTable<[string, number]>>;\r\n\r\n        /**\r\n         * 是否已加载存档信息。\r\n         */\r\n        private _l: boolean;\r\n\r\n        /**\r\n         * 付费信息。\r\n         */\r\n        private _sp: Util.IHashTable<string>;\r\n\r\n        /**\r\n         * 是否整章购买。\r\n         */\r\n        private _all: boolean;\r\n\r\n        /**\r\n         * 快照。\r\n         */\r\n        private _p: Util.IHashTable<any>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(runtime: Core.IRuntime) {\r\n            this._d = {};\r\n            this._r = runtime;\r\n            this._s = {\r\n                'series': {},\r\n                'work': {},\r\n                'end': {}\r\n            };\r\n            this._sp = {};\r\n            this._l = false;\r\n            this._all = false;\r\n        }\r\n\r\n        /**\r\n         * 设置值。\r\n         */\r\n        public s(key: string, value: any): States {\r\n            this._r.gL().d('[state]', key, '=', value);\r\n            this._d[key] = value;\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 获取值。\r\n         */\r\n        public g(key: string): any {\r\n            return this._d[key];\r\n        }\r\n\r\n        /**\r\n         * 删除值。\r\n         */\r\n        public d(key: string): States {\r\n            var length: number = key.length - 1,\r\n                logger: Util.ILogger = this._r.gL();\r\n            if ('*' == key[length]) {\r\n                key = key.substr(0, length);\r\n                Util.each(this._d, (value: any, index: string) => {\r\n                    if (index.length == length || index.substr(0, length) != key) return;\r\n                    logger.d('[state]', index, '=');\r\n                    delete this._d[index];\r\n                });\r\n                return this;\r\n            }\r\n            logger.d('[state]', key, '=');\r\n            delete this._d[key];\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 比较两个值是否一致。\r\n         */\r\n        public a(key1: string, key2: string): boolean {\r\n            return this._d[key1] == this._d[key2];\r\n        }\r\n\r\n        /**\r\n         * 复制值。\r\n         */\r\n        public c(src: string, dest: string): States {\r\n            this._r.gL().d('[state]', dest, '=', src);\r\n            this._d[dest] = this._d[src];\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 移动值。\r\n         */\r\n        public m(src: string, dest: string): States {\r\n            return this.c(src, dest)\r\n                .d(src);\r\n        }\r\n\r\n        /**\r\n         * 转化文本中的变量名至实际值。\r\n         */\r\n        public t(text: string): string {\r\n            var convert: (match: string, p1: string) => string = (match: string, p1: string) => <string> this._d[p1];\r\n            return text.replace(/〈([^〉]+)〉/g, convert).replace(/＜([^＞]+)＞/g, convert);\r\n        }\r\n\r\n        /**\r\n         * 生成快照（以备存档）。\r\n         */\r\n        public p(): States {\r\n            this._p = {};\r\n            Util.each(this._d, (value: any, key: string) => {\r\n                if ('.' != key[0] && '$' != key[0] && undefined != value)\r\n                    this._p[key] = value;\r\n            });\r\n            //start:生成快照的时候，向外暴露\r\n            this._r.dispatchEvent(new Ev.State({\r\n                target: this,\r\n                data: this._p\r\n            }));\r\n            //ended:生成快照的时候，向外暴露\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 导出数据（存档）。\r\n         *\r\n         * 此方法应触发 Save 事件。\r\n         */\r\n        public e(manual: boolean, series?: boolean): Util.IHashTable<any> {\r\n            if (!this._p)\r\n                return {};\r\n            let save: (id: string) => void = (id: string) => {\r\n                    this._s[series ? 'end' : 'work'][manual ? '1' : 'auto'] = [id, + new Date()];\r\n                },\r\n                data: Util.IHashTable<any> = this._p;\r\n            if (series) {\r\n                data = {\r\n                    ' ': true\r\n                };\r\n                Util.each(this._p, (value: any, key: string) => {\r\n                    if ('_' != key[0])\r\n                        data[key] = value;\r\n                });\r\n            }\r\n            this._r.dispatchEvent(new Ev.Save({\r\n                target: this,\r\n                series: series,\r\n                manual: manual,\r\n                data: data,\r\n                callback: save\r\n            }));\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 导入数据。\r\n         */\r\n        public i(data: Util.IHashTable<any>): States {\r\n            this._d = data;\r\n            this._p = Util.clone(data);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 查询档位存档编号。\r\n         */\r\n        public q(index: string, series?: Core.IStates.Save): [string, number] {\r\n            let save: typeof Core.IStates.Save = Core.IStates.Save,\r\n                type: string = 'work';\r\n            switch (series) {\r\n                case save.Series:\r\n                    type = 'series';\r\n                    break;\r\n                case save.End:\r\n                    type = 'end';\r\n                    break;\r\n            }\r\n            return this._s[type][index];\r\n        }\r\n\r\n        /**\r\n         * 加载存档信息。\r\n         */\r\n        public l(): Promise<States> {\r\n            return new Promise((resolve: (states: States) => void, reject: (reason?: any) => void) => {\r\n                if (this._l)\r\n                    return resolve(this);\r\n                this._l = true;\r\n                let query: (slots: Util.IHashTable<Util.IHashTable<[string, number]>>) => void = (slots: Util.IHashTable<Util.IHashTable<[string, number]>>) => {\r\n                    if (!slots) {\r\n                        this._l = false;\r\n                        return reject();\r\n                    }\r\n                    this._s = slots;\r\n                    resolve(this);\r\n                };\r\n                this._r.dispatchEvent(new Ev.Query({\r\n                    target: this,\r\n                    callback: query\r\n                }));\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 查询是否付费。\r\n         */\r\n        public qp(id: string, count: number): boolean {\r\n            if (this._all)\r\n                return true;\r\n            if ((id in this._sp) && this._sp[id] == count.toString())\r\n                return true;\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * 加载付费信息。\r\n         */\r\n        public lp(data: Util.IHashTable<string> | string): States {\r\n            this._all = false;\r\n            if (typeof data == 'string' && data == 'all') {\r\n                this._all = true;\r\n            } else if (typeof data == 'object') {\r\n                this._sp = <Util.IHashTable<string>> data;\r\n            }\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 增加付费信息。\r\n         */\r\n        public ep(id: string, count: number): States {\r\n            if (!this._all)\r\n                this._sp[id] = count.toString();\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（资源）预加载器组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Resource/Prefetcher.ts\r\n */\r\n\r\n/// <reference path=\"Resource.ts\" />\r\n\r\nnamespace Resource {\r\n    import Util = __Bigine_Util;\r\n\r\n    /**\r\n     * 唯一实例。\r\n     */\r\n    var instance: Prefecher;\r\n\r\n    export class Prefecher {\r\n        /**\r\n         * 处理句柄。\r\n         */\r\n        private _p: Promise<void>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor() {\r\n            this._p = Promise.resolve<void>();\r\n        }\r\n\r\n        /**\r\n         * 预加载资源。\r\n         */\r\n        public static c(resources: Resource<string | HTMLImageElement>[][], logger?: Util.ILogger): Promise<void> {\r\n            if (!resources.length)\r\n                return Promise.resolve<void>();\r\n            if (!instance)\r\n                instance = new Prefecher;\r\n            var ret: Promise<void>;\r\n            Util.each(resources, (group: Resource<string | HTMLImageElement>[]) => {\r\n                var p: Promise<void> = instance.q(group, logger);\r\n                if (!ret)\r\n                    ret = p;\r\n            });\r\n            return ret;\r\n        }\r\n\r\n        /**\r\n         * 排队。\r\n         */\r\n        private q(resources: Resource<string | HTMLImageElement>[], logger?: Util.ILogger): Promise<void> {\r\n            return new Promise<void>((resolve: () => void) => {\r\n                this._p = this._p.then(() => {\r\n                    if (logger)\r\n                        logger.d('[cache]', resources);\r\n                    var tasks: Promise<string | HTMLImageElement>[] = [];\r\n                    Util.each(resources, (resource: Resource<string | HTMLImageElement>) => {\r\n                        tasks.push(resource.o());\r\n                    });\r\n                    return Promise.all(tasks).then(() => {\r\n                        resolve();\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）开场事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IBeginMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Runtime/IEpisode.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IBeginMetas extends Util.IEventMetas<Core.IEpisode> {\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）开场事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Begin.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IBeginMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class Begin extends Event<Core.IEpisode> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IBeginMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'begin';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义抽象（运行时）场效调度器组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Runtime/_Director/Director.ts\r\n */\r\n\r\n/// <reference path=\"../../Core/_Runtime/IDirector.ts\" />\r\n/// <reference path=\"../../Resource/Prefetcher.ts\" />\r\n/// <reference path=\"../../Ev/_Runtime/Begin.ts\" />\r\n\r\nnamespace Runtime {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Director implements Core.IDirector {\r\n        /**\r\n         * 运行时。\r\n         */\r\n        protected _r: Core.IRuntime;\r\n\r\n        /**\r\n         * 反馈运行时的即时 Promise 。\r\n         */\r\n        protected _p: Promise<Core.IRuntime>;\r\n\r\n        /**\r\n         * 是否动态创建。\r\n         */\r\n        protected _d: boolean;\r\n\r\n        /**\r\n         * 自动播放标识。\r\n         */\r\n        protected _a: boolean;\r\n\r\n        /**\r\n         * 音量。\r\n         */\r\n        protected _v: number;\r\n\r\n        /**\r\n         * 是否读档。\r\n         */\r\n        protected _o: boolean;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(runtime: Core.IRuntime) {\r\n            this._r = runtime;\r\n            this._p = Promise.resolve(this._r);\r\n            this._d =\r\n            this._a =\r\n            this._o = false;\r\n            this._v = 1;\r\n        }\r\n\r\n        /**\r\n         * 预加载指定资源组。\r\n         *\r\n         * @param resources 一个（作品）事件所包含地所有资源\r\n         */\r\n        public c(resources: Resource.Resource<string | HTMLImageElement>[][]): Promise<void> {\r\n            return Resource.Prefecher.c(resources, this._r.gL());\r\n        }\r\n\r\n        /**\r\n         * 开始动画。\r\n         */\r\n        public OP(start: boolean, title: string, author: string): Promise<Core.IRuntime> {\r\n            if (!start)\r\n                this._r.dispatchEvent(new Ev.Begin({\r\n                    target: this._r.gE()\r\n                }));\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 完结动画。\r\n         */\r\n        public ED(): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 失败动画。\r\n         */\r\n        public FAIL(): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 人物出场。\r\n         */\r\n        public charOn(resource: Resource.Resource<HTMLImageElement>, position: Core.IDirector.Position): Promise<Core.IRuntime> {\r\n            return this.charSet(resource, position);\r\n        }\r\n\r\n        /**\r\n         * 人物离场。\r\n         */\r\n        public charOff(position: Core.IDirector.Position): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 设置人物。\r\n         */\r\n        public charSet(resource: Resource.Resource<HTMLImageElement>, position: Core.IDirector.Position): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 人物移动。\r\n         */\r\n        public charMove(from: Core.IDirector.Position, to: Core.IDirector.Position): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 某白。\r\n         */\r\n        public words(words: string, theme: string, who?: string, avatar?: Resource.Resource<HTMLImageElement>): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 提示。\r\n         */\r\n        public tip(words: string): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        };\r\n\r\n        /**\r\n         * 评分动画。\r\n         */\r\n        public stars(rank: Core.IDirector.Stars, grade: string, value: string): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 播放背景音乐。\r\n         */\r\n        public playBGM(resource?: Resource.Resource<string>): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 播放音效。\r\n         */\r\n        public playSE(resource?: Resource.Resource<string>): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 关闭特写。\r\n         */\r\n        public hideCG(): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 展示特写。\r\n         */\r\n        public showCG(resource: Resource.Resource<HTMLImageElement>): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 设置房间。\r\n         */\r\n        public asRoom(resource: Resource.Resource<HTMLImageElement>, time?: boolean, map?: boolean): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 设置地图。\r\n         */\r\n        public asMap(points: Util.IHashTable<Core.IPointTag>): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 关灯（落幕）。\r\n         */\r\n        public lightOff(): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 开灯（开幕）。\r\n         */\r\n        public lightOn(): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 选择。\r\n         */\r\n        public choose(options: Core.IOptionTag[]): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 重置人物及状态。\r\n         */\r\n        public reset(): Promise<Core.IRuntime> {\r\n            this._r.gS().s('$c', 0)\r\n                .d('.p*');\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * （读档继续时）设置特写。\r\n         */\r\n        public setCG(resource: Core.IResource<HTMLImageElement>): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 停顿。\r\n         */\r\n        public pause(milsec: number): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 切幕动画。\r\n         */\r\n        public curtain(name: string): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 移动镜头。\r\n         */\r\n        public cameraMove(mx: number, my: number, ms: number): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 放大/缩小镜头。\r\n         */\r\n        public cameraZoom(mx: number, my: number, ms: number, scale: number): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 抖动镜头。\r\n         */\r\n        public cameraShake(): Promise<Core.IRuntime> {\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 获取动态创建标识。\r\n         */\r\n        public gD(): boolean {\r\n            return this._d;\r\n        }\r\n\r\n        /**\r\n         * 使用主题。\r\n         */\r\n        public t(id: string, theme: Util.IHashTable<Util.IHashTable<any>>): Director {\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 配置状态。\r\n         */\r\n        public s(sheet: [string, string][]): Director {\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 配置面板。\r\n         */\r\n        public p(sheet: Array<Util.IHashTable<any>>): Director {\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 设置自动播放。\r\n         */\r\n        public a(auto: boolean): boolean {\r\n            return this._a = auto;\r\n        }\r\n\r\n        /**\r\n         * 设置音量。\r\n         */\r\n        public v(volume: number): Director {\r\n            this._v = volume;\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 修正 DOM 定位。\r\n         */\r\n        public f(): void {\r\n            //\r\n        }\r\n\r\n        /**\r\n         * 自我销毁。\r\n         */\r\n        public d(): void {\r\n            //\r\n        }\r\n\r\n        /**\r\n         * 取消阻塞。\r\n         */\r\n        public h(): void {\r\n            //\r\n        }\r\n\r\n        /**\r\n         * 绑定视图。\r\n         */\r\n        public b(viewport: HTMLElement): Director {\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 连载模式。\r\n         */\r\n        public e(type: Core.IRuntime.Series): Director {\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义 NodeJS 用（运行时）场效调度器组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Runtime/_Director/NodeDirector.ts\r\n */\r\n\r\n/// <reference path=\"Director.ts\" />\r\n\r\nnamespace Runtime {\r\n    export class NodeDirector extends Director {\r\n    }\r\n}\r\n","/**\r\n * 声明画面调度组件接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Sprite/ISprite.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../_Resource/IResource.ts\" />\r\n\r\nnamespace Core {\r\n    import G = __Bigine_C2D;\r\n\r\n    export interface ISprite extends G.Sprite {\r\n        /**\r\n         * 显示。\r\n         */\r\n        v(duration?: number): Promise<ISprite>;\r\n\r\n        /**\r\n         * 隐藏。\r\n         */\r\n        h(duration?: number): Promise<ISprite>;\r\n\r\n        /**\r\n         * 获取远端资源列表。\r\n         */\r\n        l(): Core.IResource<string | HTMLImageElement>[];\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度抽象组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Sprite.ts\r\n */\r\n\r\n/// <reference path=\"../Core/_Sprite/ISprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n\r\nnamespace Sprite {\r\n    import G = __Bigine_C2D;\r\n\r\n    export abstract class Sprite extends G.Sprite implements Core.ISprite {\r\n        /**\r\n         * 远端资源列表。\r\n         */\r\n        protected _rr: Resource.Resource<string | HTMLImageElement>[];\r\n\r\n        /**\r\n         * 显示动画时长。\r\n         */\r\n        protected _dv: number;\r\n\r\n        /**\r\n         * 隐藏动画时长。\r\n         */\r\n        protected _dh: number;\r\n\r\n        /**\r\n         * 显示。\r\n         */\r\n        public v(duration?: number): Promise<Sprite> {\r\n            if (0 === duration)\r\n                this.o(1);\r\n            if (this._o)\r\n                return Promise.resolve(this);\r\n            return <Promise<Sprite>> this.p(new G.FadeIn(duration || 250));\r\n        }\r\n\r\n        /**\r\n         * 隐藏。\r\n         */\r\n        public h(duration?: number): Promise<Sprite> {\r\n            if (0 === duration)\r\n                this.o(0);\r\n            if (!this._o)\r\n                return Promise.resolve(this);\r\n            return <Promise<Sprite>> this.p(new G.FadeOut(duration || 250));\r\n        }\r\n\r\n        /**\r\n         * 获取远端资源列表。\r\n         */\r\n        public l(): Resource.Resource<string | HTMLImageElement>[] {\r\n            return this._rr || [];\r\n        }\r\n\r\n        /**\r\n         * 识别文本对齐方式。\r\n         */\r\n        protected $a(desc: string): G.Text.Align {\r\n            let aligns: typeof G.Text.Align = G.Text.Align;\r\n            switch (desc) {\r\n                case 'center':\r\n                case 'middle':\r\n                    return aligns.Center;\r\n                case 'right':\r\n                    return aligns.Right;\r\n            }\r\n            return aligns.Left;\r\n        }\r\n\r\n        /**\r\n         * 处理文本高亮规则。\r\n         */\r\n        protected $w(element: G.Text, words: string, hiColor: string): Sprite {\r\n            let buffer: string = '',\r\n                hilite: boolean = false,\r\n                ii: number;\r\n            element.c();\r\n            for (ii = 0; ii < words.length; ii++) {\r\n                if ('【' == words[ii] && !hilite) {\r\n                    element.a(new G.TextPhrase(buffer));\r\n                    buffer = '';\r\n                    hilite = true;\r\n                } else if ('】' == words[ii] && hilite) {\r\n                    element.a(new G.TextPhrase(buffer, hiColor));\r\n                    buffer = '';\r\n                    hilite = false;\r\n                } else\r\n                    buffer += words[ii];\r\n            }\r\n            if (buffer)\r\n                element.a(new G.TextPhrase(buffer, hilite ? hiColor : ''));\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度幕帘组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Curtain.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n\r\nnamespace Sprite {\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Curtain extends Sprite {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(color: string = '#000') {\r\n            let w: number = 1280,\r\n                h: number = 720;\r\n            super(0, 0, w, h);\r\n            this.a(new G.Color(0, 0, w, h, color));\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度作者信息组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Author.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Author extends Sprite {\r\n        /**\r\n         * 名称对象。\r\n         */\r\n        private _x: G.TextPhrase;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(theme: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                _director: Util.IHashTable<any> = theme['director'],\r\n                _title: Util.IHashTable<any> = theme['title'];\r\n            super(0, 0, w, h);\r\n            (<Author> this.o(0))\r\n                .a(new G.Color(0, 0, w, h, '#000'))\r\n                .a(new G.Text(<G.IBounds> _director, _director['s'], _director['h'], this.$a(_director['a']))\r\n                    .tc(_director['c'])\r\n                    .a(new G.TextPhrase('作品'))\r\n                ).a(new G.Text(<G.IBounds> _title, _title['s'], _title['h'], this.$a(_title['a']))\r\n                    .tc(_title['c'])\r\n                    .a(this._x = new G.TextPhrase())\r\n                );\r\n        }\r\n\r\n        /**\r\n         * 设置名称。\r\n         */\r\n        public u(title: string): Author {\r\n            if (!/^[\\d0-f]{8}-[\\d0-f]{4}-[\\d0-f]{4}-[\\d0-f]{4}-[\\d0-f]{12}$/i.test(title)) {\r\n                this._x.t(title);\r\n            } else {\r\n                let res: Resource.Resource<HTMLImageElement> = Resource.Resource.g<HTMLImageElement>(title, Core.IResource.Type.Room);\r\n                this.a(new G.Image(res.o(), { x: 0, y: 0, w: 1280, h: 720 }));\r\n            }\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明画面调度开始菜单组件接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Sprite/IStart.ts\r\n */\r\n\r\n/// <reference path=\"ISprite.ts\" />\r\n\r\nnamespace Core {\r\n    export interface IStart extends ISprite {\r\n        /**\r\n         * 更新作品标题。\r\n         */\r\n        u(title: string, series: boolean): IStart;\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）开始菜单新游戏事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/IStartNewMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/IStart.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IStartNewMetas extends Util.IEventMetas<Core.IStart> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）开始菜单新游戏事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/StartNew.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IStartNewMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class StartNew extends Event<Core.IStart> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IStartNewMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'start.new';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）开始菜单连载游戏事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/IStartSeriesMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/IStart.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IStartSeriesMetas extends Util.IEventMetas<Core.IStart> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）开始菜单继续游戏事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/StartSeries.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IStartSeriesMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class StartSeries extends Event<Core.IStart> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IStartSeriesMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'start.series';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）开始菜单继续游戏事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/IStartLoadMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/IStart.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IStartLoadMetas extends Util.IEventMetas<Core.IStart> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）开始菜单继续游戏事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/StartLoad.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IStartLoadMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class StartLoad extends Event<Core.IStart> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IStartLoadMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'start.load';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度开始菜单组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Start.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/StartNew.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/StartSeries.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/StartLoad.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Start extends Sprite implements Core.IStart {\r\n        /**\r\n         * 名称对象。\r\n         */\r\n        private _x: G.TextPhrase;\r\n\r\n        /**\r\n         * 按钮集合。\r\n         */\r\n        private _y: Util.IHashTable<G.Button>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(id: string, theme: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/',\r\n                _new: Util.IHashTable<any> = theme['new'],\r\n                _series: Util.IHashTable<any> = theme['series'],\r\n                _load: Util.IHashTable<any> = theme['load'],\r\n                _title: Util.IHashTable<any> = theme['title'];\r\n            super(0, 0, w, h);\r\n            this._rr = [\r\n                rr.g<HTMLImageElement>(url + theme['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _new['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _new['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _series['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _series['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _load['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _load['ih'], raw)\r\n            ];\r\n            this._y = {};\r\n            (<Start> this.o(0))\r\n                .a(new G.Image(this._rr[0].o(), 0, 0, w, h))\r\n                .a(this._y['n'] = new G.Button(<G.IBounds> _new)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.StartNew({ target: this }));\r\n                    }, new G.Image(this._rr[2].o(), <G.IBounds> _new, true), new G.Image(this._rr[1].o(), <G.IBounds> _new, true))\r\n                ).a(this._y['s'] = <G.Button> new G.Button(<G.IBounds> _series)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.StartSeries({ target: this }));\r\n                    }, new G.Image(this._rr[4].o(), <G.IBounds> _series, true), new G.Image(this._rr[3].o(), <G.IBounds> _series, true))\r\n                    .o(0)\r\n                ).a(new G.Button(<G.IBounds> _load)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.StartLoad({ target: this }));\r\n                    }, new G.Image(this._rr[6].o(), <G.IBounds> _load, true), new G.Image(this._rr[5].o(), <G.IBounds> _load, true))\r\n                ).a(new G.Text(<G.IBounds> _title, _title['s'], _title['lh'], this.$a(_title['a']))\r\n                    .tc(_title['c'])\r\n                    .a(this._x = new G.TextPhrase())\r\n                );\r\n        }\r\n\r\n        /**\r\n         * 设置名称。\r\n         */\r\n        public u(title: string, series: boolean): Start {\r\n            if (title)\r\n                this._x.t(title);\r\n            if (series) {\r\n                this._y['n'].o(0);\r\n                this._y['s'].o(1);\r\n            }\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明画面调度某白接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/IWords.ts\r\n */\r\n\r\n/// <reference path=\"ISprite.ts\" />\r\n/// <reference path=\"../_Resource/IResource.ts\" />\r\n\r\nnamespace Core {\r\n    export interface IWords extends ISprite {\r\n        /**\r\n         * 旁白。\r\n         */\r\n        vv(clob: string, auto?: boolean): Promise<IWords>;\r\n\r\n        /**\r\n         * 独白。\r\n         */\r\n        vm(avatar: IResource<HTMLImageElement>, name: string, clob: string, auto?: boolean): Promise<IWords>;\r\n\r\n        /**\r\n         * 对白。\r\n         */\r\n        vs(avatar: IResource<HTMLImageElement>, name: string, clob: string, auto?: boolean): Promise<IWords>;\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）某白动画事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/IWordsAnimationMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/IWords.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export interface IWordsAnimationMetas extends Util.IEventMetas<Core.IWords> {\r\n        /**\r\n         * 动画。\r\n         */\r\n        animation: G.Animation;\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）某白动画事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/WordsAnimation.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IWordsAnimationMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    import G = __Bigine_C2D;\r\n\r\n    export class WordsAnimation extends Event<Core.IWords> {\r\n        /**\r\n         * 动画。\r\n         */\r\n        public animation: G.Animation;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IWordsAnimationMetas) {\r\n            super(metas);\r\n            this.animation = metas.animation;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'words.animation';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度某白组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Words.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/WordsAnimation.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Words extends Sprite implements Core.IWords {\r\n        /**\r\n         * 对象集合。\r\n         */\r\n        private _x: Util.IHashTable<G.Element | G.TextPhrase>;\r\n\r\n        /**\r\n         * 高亮色集合。\r\n         */\r\n        private _c: Util.IHashTable<string>;\r\n\r\n        /**\r\n         * 阻塞动画。\r\n         */\r\n        private _h: G.Animation;\r\n\r\n        /**\r\n         * 头像尺寸集合。\r\n         */\r\n        private _bs: Util.IHashTable<G.IBounds>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(id: string, voiceover: Util.IHashTable<Util.IHashTable<any>>, monolog: Util.IHashTable<Util.IHashTable<any>>, speak: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/',\r\n                _vback: Util.IHashTable<any> = voiceover['back'],\r\n                _vtext: Util.IHashTable<any> = voiceover['text'],\r\n                _mback: Util.IHashTable<any> = monolog['back'],\r\n                _mavat: Util.IHashTable<any> = monolog['avatar'],\r\n                _mname: Util.IHashTable<any> = monolog['name'],\r\n                _mtext: Util.IHashTable<any> = monolog['text'],\r\n                _sback: Util.IHashTable<any> = speak['back'],\r\n                _savat: Util.IHashTable<any> = speak['avatar'],\r\n                _sname: Util.IHashTable<any> = speak['name'],\r\n                _stext: Util.IHashTable<any> = speak['text'],\r\n                left: G.Text.Align = G.Text.Align.Left;\r\n            super(0, 0, w, h);\r\n            this._rr = [\r\n                rr.g<HTMLImageElement>(url + _vback['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _mback['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _sback['i'], raw)\r\n            ];\r\n            this._x = {};\r\n            this._c = {\r\n                v: _vtext['ch'],\r\n                m: _mtext['ch'],\r\n                s: _stext['ch']\r\n            };\r\n            this._bs = {\r\n                m: <G.IBounds> _mavat,\r\n                s: <G.IBounds> _savat\r\n            };\r\n            (<Words> this.o(0))\r\n                .a(this._x['v'] = new G.Sprite(<G.IBounds> _vback)\r\n                    .a(new G.Image(this._rr[0].o(), <G.IBounds> _vback, true))\r\n                    .a(this._x['vt'] = new G.Text(<G.IBounds> _vtext, _vtext['s'], _vtext['lh'], left, true)\r\n                        .tc(_vtext['c'])\r\n                        .ts(_vtext['ss'], _vtext['ss'], _vtext['ss'])\r\n                    ).o(0)\r\n                ).a(this._x['m'] = new G.Sprite(<G.IBounds> _mback)\r\n                    .a(new G.Image(this._rr[1].o(), <G.IBounds> _mback, true))\r\n                    .a(this._x['ma'] = new G.Sprite(<G.IBounds> _mavat, true))\r\n                    .a(new G.Text(<G.IBounds> _mname, _mname['s'], _mname['lh'], left, true)\r\n                        .tc(_mname['c'])\r\n                        .ts(_mname['ss'], _mname['ss'], _mname['ss'])\r\n                        .a(this._x['mn'] = new G.TextPhrase())\r\n                    ).a(this._x['mt'] = new G.Text(<G.IBounds> _mtext, _mtext['s'], _mtext['lh'], left, true)\r\n                        .tc(_mtext['c'])\r\n                        .ts(_mtext['ss'], _mtext['ss'], _mtext['ss'])\r\n                    ).o(0)\r\n                ).a(this._x['s'] = new G.Sprite(<G.IBounds> _sback)\r\n                    .a(new G.Image(this._rr[2].o(), <G.IBounds> _sback, true))\r\n                    .a(this._x['sa'] = new G.Sprite(<G.IBounds> _savat, true))\r\n                    .a(new G.Text(<G.IBounds> _sname, _sname['s'], _sname['lh'], left, true)\r\n                        .tc(_sname['c'])\r\n                        .ts(_sname['ss'], _sname['ss'], _sname['ss'])\r\n                        .a(this._x['sn'] = new G.TextPhrase())\r\n                    ).a(this._x['st'] = new G.Text(<G.IBounds> _stext, _stext['s'], _stext['lh'], left, true)\r\n                        .tc(_stext['c'])\r\n                        .ts(_stext['ss'], _stext['ss'], _stext['ss'])\r\n                    ).o(0)\r\n                );\r\n        }\r\n\r\n        /**\r\n         * 隐藏。\r\n         */\r\n        public h(duration?: number): Promise<Words> {\r\n            if (this._h) {\r\n                this._h.h();\r\n                this._h = undefined;\r\n                this.dispatchEvent(new Ev.WordsAnimation({\r\n                    target: this,\r\n                    animation: undefined\r\n                }));\r\n            }\r\n            return super.h(duration).then(() => {\r\n                (<G.Sprite> this._x['v']).o(0);\r\n                (<G.Sprite> this._x['m']).o(0);\r\n                (<G.Sprite> this._x['s']).o(0);\r\n                return this;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 旁白。\r\n         */\r\n        public vv(clob: string, auto: boolean = false): Promise<Words> {\r\n            let text: G.Text = <G.Text> this._x['vt'];\r\n            this.$w(<G.Text> text.o(0), clob, this._c['v']);\r\n            (<G.Sprite> this._x['v']).o(1);\r\n            return this.$v(text, auto).then(() => {\r\n                (<G.Sprite> this._x['v']).o(0);\r\n                return this;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 独白。\r\n         */\r\n        public vm(avatar: Resource.Resource<HTMLImageElement>, name: string, clob: string, auto: boolean = false): Promise<Words> {\r\n            let text: G.Text = <G.Text> this._x['mt'];\r\n            this.$w(<G.Text> text.o(0), clob, this._c['m']);\r\n            (<G.Sprite> this._x['ma'])\r\n                .c()\r\n                .a(new G.Image(avatar.o(), this._bs['m'], true));\r\n            (<G.TextPhrase> this._x['mn']).t(name);\r\n            (<G.Sprite> this._x['m']).o(1);\r\n            return this.$v(text, auto).then(() => {\r\n                (<G.Sprite> this._x['m']).o(0);\r\n                return this;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 对白。\r\n         */\r\n        public vs(avatar: Resource.Resource<HTMLImageElement>, name: string, clob: string, auto: boolean = false): Promise<Words> {\r\n            let text: G.Text = <G.Text> this._x['st'];\r\n            this.$w(<G.Text> text.o(0), clob, this._c['s']);\r\n            (<G.Sprite> this._x['sa'])\r\n                .c()\r\n                .a(new G.Image(avatar.o(), this._bs['s'], true));\r\n            (<G.TextPhrase> this._x['sn']).t(name);\r\n            (<G.Sprite> this._x['s']).o(1);\r\n            return this.$v(text, auto).then(() => {\r\n                (<G.Sprite> this._x['s']).o(0);\r\n                return this;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 显示内容文字。\r\n         */\r\n        private $v(text: G.Text, auto: boolean): Promise<G.Element> {\r\n            this.o(1);\r\n            return new Promise<void>((resolve: () => void) => {\r\n                let aType: G.Type = new G.Type(1),\r\n                    aWFC: G.WaitForClick;\r\n                if (auto)\r\n                    return text.p(aType).then(() => {\r\n                        resolve();\r\n                    });\r\n                aWFC = new G.WaitForClick(() => {\r\n                    aType.h();\r\n                });\r\n                this._h = aWFC;\r\n                this.dispatchEvent(new Ev.WordsAnimation({\r\n                    target: this,\r\n                    animation: aWFC\r\n                }));\r\n                Promise.race<any>([\r\n                    text.p(aType).then(() => {\r\n                        aWFC.h();\r\n                    }),\r\n                    this.p(aWFC)\r\n                ]).then(() => {\r\n                    this._h = undefined;\r\n                    this.dispatchEvent(new Ev.WordsAnimation({\r\n                        target: this,\r\n                        animation: undefined\r\n                    }));\r\n                    resolve();\r\n                });\r\n            }).then(() => {\r\n                let animation: G.Animation,\r\n                    target: G.Element;\r\n                if (auto) {\r\n                    animation = new G.TypeDelay(9);\r\n                    target = text;\r\n                } else {\r\n                    animation = new G.WaitForClick();\r\n                    target = this;\r\n                }\r\n                this._h = animation;\r\n                this.dispatchEvent(new Ev.WordsAnimation({\r\n                    target: this,\r\n                    animation: animation\r\n                }));\r\n                return target.p(animation);\r\n            });\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明画面调度常驻按钮组件接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Sprite/ITray.ts\r\n */\r\n\r\n/// <reference path=\"ISprite.ts\" />\r\n\r\nnamespace Core {\r\n    export interface ITray extends ISprite {\r\n        /**\r\n         * 配置面板。\r\n         */\r\n        u(panel: boolean): ITray;\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）常驻按钮菜单事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/ITrayMenuMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/ITray.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface ITrayMenuMetas extends Util.IEventMetas<Core.ITray> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）常驻按钮菜单事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/TrayMenu.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"ITrayMenuMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class TrayMenu extends Event<Core.ITray> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: ITrayMenuMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'tray.menu';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）常驻按钮面板事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/ITrayPanelMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/ITray.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface ITrayPanelMetas extends Util.IEventMetas<Core.ITray> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）常驻按钮面板事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/TrayPanel.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"ITrayPanelMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class TrayPanel extends Event<Core.ITray> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: ITrayPanelMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'tray.panel';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度常驻按钮栏组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Start.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/TrayMenu.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/TrayPanel.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Tray extends Sprite implements Core.ITray {\r\n        /**\r\n         * 面板按钮。\r\n         */\r\n        private _x: G.Button;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(id: string, theme: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/',\r\n                _menu: Util.IHashTable<any> = theme['menu'],\r\n                _panel: Util.IHashTable<any> = theme['panel'];\r\n            super(0, 0, w, h, true);\r\n            this._rr = [\r\n                rr.g<HTMLImageElement>(url + _menu['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _menu['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _panel['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _panel['ih'], raw)\r\n            ];\r\n            (<Tray> this.o(0))\r\n                .a(new G.Button(<G.IBounds> _menu)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.TrayMenu({ target: this }));\r\n                    }, new G.Image(this._rr[1].o(), <G.IBounds> _menu, true), new G.Image(this._rr[0].o(), <G.IBounds> _menu, true))\r\n                ).a(this._x = new G.Button(<G.IBounds> _panel)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.TrayPanel({ target: this }));\r\n                    }, new G.Image(this._rr[3].o(), <G.IBounds> _panel, true), new G.Image(this._rr[2].o(), <G.IBounds> _panel, true))\r\n                );\r\n        }\r\n\r\n        /**\r\n         * 配置面板。\r\n         */\r\n        public u(panel: boolean): Tray {\r\n            this._x.o(0 + <any> panel);\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明画面调度功能菜单组件接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Sprite/IMenu.ts\r\n */\r\n\r\n/// <reference path=\"ISprite.ts\" />\r\n\r\nnamespace Core {\r\n    export interface IMenu extends ISprite {\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）功能菜单关闭事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/IMenuCloseMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/IMenu.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IMenuCloseMetas extends Util.IEventMetas<Core.IMenu> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）功能菜单关闭事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/MenuClose.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IMenuCloseMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class MenuClose extends Event<Core.IMenu> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IMenuCloseMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'menu.close';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）功能菜单存档事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/IMenuSaveMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/IMenu.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IMenuSaveMetas extends Util.IEventMetas<Core.IMenu> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）功能菜单存档事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/MenuSave.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IMenuSaveMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class MenuSave extends Event<Core.IMenu> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IMenuSaveMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'menu.save';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）功能菜单读档事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/IMenuLoadMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/IMenu.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IMenuLoadMetas extends Util.IEventMetas<Core.IMenu> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）功能菜单读档事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/MenuLoad.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IMenuLoadMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class MenuLoad extends Event<Core.IMenu> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IMenuLoadMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'menu.load';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）功能菜单设置事件元信息接口规范。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/IMenuSetMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/IMenu.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IMenuSetMetas extends Util.IEventMetas<Core.IMenu> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）功能菜单设置事件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/MenuSet.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IMenuSetMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class MenuSet extends Event<Core.IMenu> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IMenuSetMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'menu.set';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度功能菜单组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Menu.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/MenuClose.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/MenuSave.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/MenuLoad.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/MenuSet.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Menu extends Sprite implements Core.IMenu {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(id: string, theme: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/',\r\n                _close: Util.IHashTable<any> = theme['close'],\r\n                _mask: Util.IHashTable<any> = theme['mask'],\r\n                _save: Util.IHashTable<any> = theme['save'],\r\n                _load: Util.IHashTable<any> = theme['load'],\r\n                _set: Util.IHashTable<any> = theme['set'];\r\n            super(0, 0, w, h);\r\n            this._rr = [\r\n                rr.g<HTMLImageElement>(url + _close['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _close['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _save['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _save['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _load['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _load['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _set['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _set['ih'], raw)\r\n            ];\r\n            (<Menu> this.o(0))\r\n                .a(new G.Color(0, 0, w, h, _mask['cb']).o(_mask['o']))\r\n                .a(new G.Button(<G.IBounds> _close)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.MenuClose({ target: this }));\r\n                    }, new G.Image(this._rr[1].o(), <G.IBounds> _close, true), new G.Image(this._rr[0].o(), <G.IBounds> _close, true))\r\n                ).a(new G.Button(<G.IBounds> _save)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.MenuSave({ target: this }));\r\n                    }, new G.Image(this._rr[3].o(), <G.IBounds> _save, true), new G.Image(this._rr[2].o(), <G.IBounds> _save, true))\r\n                ).a(new G.Button(<G.IBounds> _load)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.MenuLoad({ target: this }));\r\n                    }, new G.Image(this._rr[5].o(), <G.IBounds> _load, true), new G.Image(this._rr[4].o(), <G.IBounds> _load, true))\r\n                ).a(new G.Button(<G.IBounds> _set)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.MenuSet({ target: this }));\r\n                    }, new G.Image(this._rr[7].o(), <G.IBounds> _set, true), new G.Image(this._rr[6].o(), <G.IBounds> _set, true))\r\n                );\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明画面调度档位菜单组件接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Sprite/ISlots.ts\r\n */\r\n\r\n/// <reference path=\"ISprite.ts\" />\r\n/// <reference path=\"../_Runtime/IStates.ts\" />\r\n\r\nnamespace Core {\r\n    export interface ISlots extends ISprite {\r\n        /**\r\n         * 显示存档档位。\r\n         */\r\n        vs(states: IStates): Promise<ISlots>;\r\n\r\n        /**\r\n         * 显示读档档位。\r\n         */\r\n        vl(states: IStates): Promise<ISlots>;\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）档位菜单关闭事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/ISlotsCloseMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/ISlots.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface ISlotsCloseMetas extends Util.IEventMetas<Core.ISlots> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）档位菜单关闭事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/SlotsClose.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"ISlotsCloseMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class SlotsClose extends Event<Core.ISlots> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: ISlotsCloseMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'slots.close';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）档位菜单读档事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/ISlotsLoadMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/ISlots.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface ISlotsLoadMetas extends Util.IEventMetas<Core.ISlots> {\r\n        /**\r\n         * 存档编号。\r\n         */\r\n        id: string;\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）档位菜单读档事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/SlotsLoad.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"ISlotsLoadMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class SlotsLoad extends Event<Core.ISlots> {\r\n        /**\r\n         * 存档编号。\r\n         */\r\n        public id: string;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: ISlotsLoadMetas) {\r\n            super(metas);\r\n            this.id = metas.id;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'slots.load';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）档位菜单存档事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/ISlotsSaveMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/ISlots.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface ISlotsSaveMetas extends Util.IEventMetas<Core.ISlots> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）档位菜单存档事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/SlotsSave.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"ISlotsSaveMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class SlotsSave extends Event<Core.ISlots> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: ISlotsSaveMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'slots.save';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度档位菜单组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Slots.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/SlotsClose.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/SlotsLoad.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/SlotsSave.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Slots extends Sprite implements Core.ISlots {\r\n        /**\r\n         * 自动档位和一号档位配置。\r\n         */\r\n        private _c: Util.IHashTable<any>[];\r\n\r\n        /**\r\n         * 关键元素集合。\r\n         */\r\n        private _x: Util.IHashTable<G.Element>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(id: string, theme: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/',\r\n                _close: Util.IHashTable<any> = theme['close'],\r\n                _mask: Util.IHashTable<any> = theme['mask'],\r\n                _auto: Util.IHashTable<any> = theme['auto'],\r\n                _1: Util.IHashTable<any> = theme['1'],\r\n                _2: Util.IHashTable<any> = theme['2'],\r\n                _3: Util.IHashTable<any> = theme['3'],\r\n                _4: Util.IHashTable<any> = theme['4'];\r\n            super(0, 0, w, h);\r\n            this._c = [_auto, _1];\r\n            this._x = {};\r\n            this._rr = [\r\n                rr.g<HTMLImageElement>(url + _close['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _close['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _auto['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _auto['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _1['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _1['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _2['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _3['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _4['i'], raw)\r\n            ];\r\n            (<Slots> this.o(0))\r\n                .a(new G.Color(0, 0, w, h, _mask['cb']).o(_mask['o']))\r\n                .a(new G.Button(<G.IBounds> _close)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.SlotsClose({ target: this }));\r\n                    }, new G.Image(this._rr[1].o(), <G.IBounds> _close, true), new G.Image(this._rr[0].o(), <G.IBounds> _close, true))\r\n                ).a(new G.Image(this._rr[6].o(), <G.IBounds> _2))\r\n                .a(new G.Image(this._rr[7].o(), <G.IBounds> _3))\r\n                .a(new G.Image(this._rr[8].o(), <G.IBounds> _4));\r\n        }\r\n\r\n        /**\r\n         * 显示存档位。\r\n         */\r\n        public vs(states: Core.IStates, duration?: number): Promise<Slots> {\r\n            return states.l().then(() => {\r\n                let $1: [string, number] = states.q('1'),\r\n                    _1: Util.IHashTable<any> = this._c[1],\r\n                    _1t: Util.IHashTable<any> = _1['text'],\r\n                    right: G.Text.Align = G.Text.Align.Right;\r\n                this.a(this._x['1'] = new G.Button(<G.IBounds> _1)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.SlotsSave({ target: this }));\r\n                    }, new G.Image(this._rr[5].o(), <G.IBounds> _1, true), new G.Image(this._rr[4].o(), <G.IBounds> _1, true))\r\n                    .a(new G.Text(<G.IBounds> _1t, _1t['s'], _1t['lh'], right, true)\r\n                        .tc(_1t['c'])\r\n                        .a(new G.TextPhrase($1 ? this.$d($1[1]) : '（无）'))\r\n                    )\r\n                );\r\n                return this.v(duration);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 显示读档位。\r\n         */\r\n        public vl(states: Core.IStates, duration?: number): Promise<Slots> {\r\n            return states.l().then(() => {\r\n                let $a: [string, number] = states.q('auto'),\r\n                    _a: Util.IHashTable<any> = this._c[0],\r\n                    _at: Util.IHashTable<any> = _a['text'],\r\n                    $1: [string, number] = states.q('1'),\r\n                    _1: Util.IHashTable<any> = this._c[1],\r\n                    _1t: Util.IHashTable<any> = _1['text'],\r\n                    right: G.Text.Align = G.Text.Align.Right;\r\n                this.a(this._x['a'] = $a ?\r\n                    new G.Button(<G.IBounds> _a)\r\n                        .b(() => {\r\n                            this.dispatchEvent(new Ev.SlotsLoad({\r\n                                target: this,\r\n                                id: $a[0]\r\n                            }));\r\n                        }, new G.Image(this._rr[3].o(), <G.IBounds> _a, true), new G.Image(this._rr[2].o(), <G.IBounds> _a, true)) :\r\n                    new G.Sprite(<G.IBounds> _a)\r\n                        .a(new G.Image(this._rr[2].o(), <G.IBounds> _a, true))\r\n                ).a(this._x['1'] = $1 ?\r\n                    new G.Button(<G.IBounds> _1)\r\n                        .b(() => {\r\n                            this.dispatchEvent(new Ev.SlotsLoad({\r\n                                target: this,\r\n                                id: $1[0]\r\n                            }));\r\n                        }, new G.Image(this._rr[5].o(), <G.IBounds> _1, true), new G.Image(this._rr[4].o(), <G.IBounds> _1, true)) :\r\n                    new G.Sprite(<G.IBounds> _1)\r\n                        .a(new G.Image(this._rr[4].o(), <G.IBounds> _1, true))\r\n                    );\r\n                (<G.Sprite> this._x['a'])\r\n                    .a(new G.Text(<G.IBounds> _at, _at['s'], _at['lh'], right, true)\r\n                        .tc(_at['c'])\r\n                        .a(new G.TextPhrase($a ? this.$d($a[1]) : '（无）'))\r\n                    );\r\n                (<G.Sprite> this._x['1'])\r\n                    .a(new G.Text(<G.IBounds> _1t, _1t['s'], _1t['lh'], right, true)\r\n                        .tc(_1t['c'])\r\n                        .a(new G.TextPhrase($1 ? this.$d($1[1]) : '（无）'))\r\n                    );\r\n                return this.v(duration);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 隐藏。\r\n         */\r\n        public h(duration?: number): Promise<Slots> {\r\n            return super.h(duration).then(() => {\r\n                Util.each(this._x, (item: G.Element) => {\r\n                    this.e(item);\r\n                });\r\n                this._x = {};\r\n                return this;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 格式化时间。\r\n         */\r\n        private $d(stamp: number): string {\r\n            let date: Date = new Date(stamp),\r\n                field: number = date.getHours(),\r\n                clob: string = ' ' + (10 > field ? '0' : '') + field;\r\n            field = date.getMinutes();\r\n            clob += ':' + (10 > field ? '0' : '') + field;\r\n            return date.getFullYear() + '-' + (1 + date.getMonth()) + '-' + date.getDate() + clob;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度状态信息组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Status.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n/// <reference path=\"../Core/_Runtime/IRuntime.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/State.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Status extends Sprite {\r\n        /**\r\n         * 文字元素集合。\r\n         */\r\n        private _x: Util.IHashTable<G.Text>;\r\n\r\n        /**\r\n         * 数据名称集合。\r\n         */\r\n        private _y: Util.IHashTable<[string, string]>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(id: string, theme: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/',\r\n                left: G.Text.Align = G.Text.Align.Left,\r\n                right: G.Text.Align = G.Text.Align.Right,\r\n                _back: Util.IHashTable<any> = theme['back'],\r\n                i: number = 1,\r\n                j: Util.IHashTable<any>;\r\n            super(0, 0, w, h, true);\r\n            this._rr = [\r\n                rr.g<HTMLImageElement>(url + _back['i'], raw)\r\n            ];\r\n            (<Status> this.o(0))\r\n                .a(new G.Image(this._rr[0].o(), <G.IBounds> _back));\r\n            this._x = {};\r\n            this._y = {};\r\n            for (; i < 7; i++) {\r\n                j = theme[i];\r\n                this.a(this._x[i + 't'] = <G.Text> new G.Text(<G.IBounds> j['title'], j['title']['s'], j['title']['lh'], left)\r\n                    .tc(j['title']['c'])\r\n                    .o(0)\r\n                ).a(this._x[i + 'v'] = <G.Text> new G.Text(<G.IBounds> j['value'], j['value']['s'], j['value']['lh'], right)\r\n                    .tc(j['value']['c'])\r\n                    .o(0)\r\n                );\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 配置。\r\n         */\r\n        public u(sheet: [string, string][], runtime: Core.IRuntime): Status {\r\n            Util.each(sheet, (item: [string, string], index: number) => {\r\n                if (!item[0]) return;\r\n                (<G.Text> this._x[++index + 't'].o(1))\r\n                    .c()\r\n                    .a(new G.TextPhrase(item[0]));\r\n                this._x[index + 'v'].o(1);\r\n                this._y[item[1]] = [index + 'v', ''];\r\n            });\r\n            runtime.addEventListener('state', (ev: Ev.State) => {\r\n                Util.each(this._y, (conf: [string, string], name: string) => {\r\n                    let value: string = ev.data[name];\r\n                    if (undefined === value) {\r\n                        value = '';\r\n                    } else\r\n                        value = value.toString();\r\n                    if (value == conf[1]) return;\r\n                    this._y[name][1] = value;\r\n                    this._x[conf[0]].c().a(new G.TextPhrase(value));\r\n                });\r\n            });\r\n            this.o(1);\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明画面调度面板组件接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Sprite/IPanel.ts\r\n */\r\n\r\n/// <reference path=\"ISprite.ts\" />\r\n/// <reference path=\"../_Runtime/IRuntime.ts\" />\r\n\r\nnamespace Core {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IPanel extends ISprite {\r\n        /**\r\n         * 配置。\r\n         */\r\n        u(sheet: Array<Util.IHashTable<any>>, runtime: IRuntime): IPanel;\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）面板关闭事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/IPanelCloseMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/IPanel.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IPanelCloseMetas extends Util.IEventMetas<Core.IPanel> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）面板关闭事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/PanelClose.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IPanelCloseMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class PanelClose extends Event<Core.IPanel> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IPanelCloseMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'panel.close';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度面板信息组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Panel.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/PanelClose.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/State.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Panel extends Sprite {\r\n        /**\r\n         * 简单面板标题元素集合。\r\n         */\r\n        private _st: Util.IHashTable<G.Text>;\r\n        /**\r\n         * 简单面板值元素集合。\r\n         */\r\n        private _sv: Util.IHashTable<G.Text | G.Sprite>;\r\n        /**\r\n         * 记录数据类别。\r\n         */\r\n        private _svt: Util.IHashTable<string>;\r\n        /**\r\n         * 集合面板标题元素集合。\r\n         */\r\n        private _ct: Util.IHashTable<G.Text>;\r\n        /**\r\n         * 集合面板值元素集合。\r\n         */\r\n        private _cv: Util.IHashTable<G.Text | G.Sprite>;\r\n        /**\r\n         * 集合面板翻页元素集合。\r\n         */\r\n        private _ca: Util.IHashTable<G.Button>;\r\n        /**\r\n         * 面板主题配置集合。\r\n         */\r\n        private _pt: Util.IHashTable<Util.IHashTable<any>>;\r\n        /**\r\n         * 面板背景集合。\r\n         */\r\n        private _pb: Util.IHashTable<G.Image>;\r\n        /**\r\n         * 当前激活的标签索引号。\r\n         */\r\n        private _ti: number;\r\n        /**\r\n         * 记录标签按钮及标签激活状态的图片对象。\r\n         */\r\n        private _tai: Util.IHashTable<G.Button | G.Image | G.Text>;\r\n        /**\r\n         * 设置需要画图的数据类型\r\n         */\r\n        private _sTypes: string[];\r\n        /**\r\n         * 设置集合面板头像数据类型\r\n         */\r\n        private _eTypes: string[];\r\n        /**\r\n         * 设置需要画图的数据类型资源\r\n         */\r\n        private _tResource: Util.IHashTable<any>;\r\n        /**\r\n         * 当前集合面板中显示的集合\r\n         */\r\n        private _cc: Array<Util.IHashTable<any>>;\r\n        /**\r\n         * 当前集合面板中的页数\r\n         */\r\n        private _cp: number;\r\n        /**\r\n         * 当前集合面板中的页数\r\n         */\r\n        private _ep: Core.IEpisode;\r\n        /**\r\n         * 记录最新的数据值\r\n         */\r\n        private _dr: Util.IHashTable<any>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(id: string, theme: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/',\r\n                _mask: Util.IHashTable<any> = theme['mask'],\r\n                _back: Util.IHashTable<any> = theme['back'],\r\n                _close: Util.IHashTable<any> = theme['close'],\r\n                _tab: Util.IHashTable<any> = theme['tab'],\r\n                _simp: Util.IHashTable<any> = theme['simp'],\r\n                _coll: Util.IHashTable<any> = theme['coll'],\r\n                _type: Util.IHashTable<any> = theme['type'],\r\n                i: number = 1,\r\n                left: G.Text.Align = G.Text.Align.Left;\r\n                // j: Util.IHashTable<any>;\r\n            super(0, 0, w, h);\r\n            this._pt = theme;\r\n            this._ti = 0;\r\n            this._tai = {};\r\n            this._rr = [\r\n                // 0: 面板背景\r\n                rr.g<HTMLImageElement>(url + _back['i'], raw),\r\n                // 1: 关闭按钮\r\n                rr.g<HTMLImageElement>(url + _close['i'], raw),\r\n                // 2: 关闭按钮~hover\r\n                rr.g<HTMLImageElement>(url + _close['ih'], raw),\r\n                // 3: 标签按钮\r\n                rr.g<HTMLImageElement>(url + _tab['title']['i'], raw),\r\n                // 4: 标签按钮激活状态图片\r\n                rr.g<HTMLImageElement>(url + _tab['title']['ia'], raw),\r\n                // 5: 简单面板背景\r\n                rr.g<HTMLImageElement>(url + _simp['back']['i'], raw),\r\n                // 6: 集合面板背景\r\n                rr.g<HTMLImageElement>(url + _coll['back']['i'], raw),\r\n                // 7: 集合面板上一个按钮\r\n                rr.g<HTMLImageElement>(url + _coll['arrow']['p']['i'], raw),\r\n                // 8: 集合面板上一个按钮~hover\r\n                rr.g<HTMLImageElement>(url + _coll['arrow']['p']['ih'], raw),\r\n                // 9: 集合面板下一个按钮\r\n                rr.g<HTMLImageElement>(url + _coll['arrow']['n']['i'], raw),\r\n                // 10: 集合面板下一个按钮~hover\r\n                rr.g<HTMLImageElement>(url + _coll['arrow']['n']['ih'], raw)\r\n            ];\r\n            this._st = {};\r\n            this._sv = {};\r\n            this._svt = {};\r\n            this._ct = {};\r\n            this._cv = {};\r\n            this._ca = {};\r\n            this._pb = {};\r\n            this._sTypes = ['心', '星'];\r\n            this._eTypes = ['人物', '房间', '特写'];\r\n            this._tResource = {};\r\n            this._cc = [];\r\n            this._cp = 0;\r\n            this._dr = {};\r\n            // 渲染面板初始样式\r\n            (<Panel> this.o(0))\r\n                .a(new G.Color(0, 0, w, h, _mask['cb']).o(_mask['o']))\r\n                .a(new G.Image(this._rr[0].o(), <G.IBounds> _back))\r\n                .a(new G.Button(<G.IBounds> _close)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.PanelClose({ target: this }));\r\n                    }, new G.Image(this._rr[2].o(), <G.IBounds> _close, true), new G.Image(this._rr[1].o(), <G.IBounds> _close, true))\r\n                );\r\n            // 简单面板背景\r\n            this.a(this._pb['s'] = new G.Image(this._rr[5].o(), <G.IBounds> _simp['back'], true));\r\n            this._pb['s'].o(0);\r\n            // 集合面板背景\r\n            this.a(this._pb['c'] = new G.Image(this._rr[6].o(), <G.IBounds> _coll['back'], true));\r\n            this._pb['c'].o(0);\r\n\r\n            // 构造简单面板中渲染数据名的容器\r\n            for (; i < 13; i++) {\r\n                let titleTxt: G.Text = new G.Text(<G.IBounds> _simp[i]['title'], _simp[i]['title']['s'], _simp[i]['title']['lh'], left);\r\n                this._st[i + 't'] = titleTxt;\r\n                this.a(this._st[i + 't']).o(0);\r\n            }\r\n\r\n            Util.each(_type, (typeTheme: Util.IHashTable<any>, typeName: string) => {\r\n                this._tResource[typeName] = {};\r\n                this._tResource[typeName]['ei'] = rr.g<HTMLImageElement>(url + typeTheme['ei'], raw);\r\n                this._tResource[typeName]['fi'] = rr.g<HTMLImageElement>(url + typeTheme['fi'], raw);\r\n            });\r\n\r\n            // 集合面板数据标题和数据值\r\n            Util.each(_coll, (config: Util.IHashTable<any>, name: string) => {\r\n                if (name == 'back' || name == 'arrow') return ;\r\n                if (name == 'head') {\r\n                    // 初始化集合面板数据值显示元素\r\n                    this._cv[name] = new G.Sprite(<G.IBounds> config, false, true);\r\n                    this.a(this._cv[name]);\r\n                    this._cv[name].o(0);\r\n                }  else if (name == 'name') {\r\n                    // 初始化集合面板数据值显示元素\r\n                    let align: G.Text.Align = this.align(config['a']);\r\n                    this._cv[name] = new G.Text(<G.IBounds> config, config['s'], config['lh'], align, true);\r\n                    this.a(this._cv[name]);\r\n                    this._cv[name].o(0);\r\n                } else {\r\n                    let tBounds: G.IBounds = <G.IBounds> config['title'];\r\n                    let vBounds: G.IBounds = <G.IBounds> config['value'];\r\n                    // 初始化集合面板数据标题元素\r\n                    this._ct[name + 't'] = new G.Text(tBounds, tBounds['s'], tBounds['lh']);\r\n                    this.a(this._ct[name + 't']);\r\n                    this._ct[name + 't'].o(0);\r\n                    // 初始化集合面板数据值显示元素\r\n                    this._cv[name + 'v'] = new G.Sprite(vBounds, false, true);\r\n                    this.a(this._cv[name + 'v']);\r\n                    this._cv[name + 'v'].o(0);\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 配置。\r\n         */\r\n        public u(sheet: Array<Util.IHashTable<any>>, runtime: Core.IRuntime): Panel {\r\n            this._ep = runtime.gE();\r\n            if (sheet.length == 0) return this;\r\n            // 集合面板翻页上一页按钮\r\n            let pBounds: G.IBounds = <G.IBounds> this._pt['coll']['arrow']['p'];\r\n            this.a(this._ca['p'] = new G.Button(pBounds)\r\n                .b(() => {\r\n                    this._cp = this._cp == 0 ?  (this._cc.length - 1) : (this._cp - 1);\r\n                    this.uC(sheet[this._ti], this._dr);\r\n                },\r\n                new G.Image(this._rr[8].o(), pBounds, true),\r\n                new G.Image(this._rr[7].o(), pBounds, true)));\r\n            this._ca['p'].o(0);\r\n            // 集合面板翻页下一页按钮\r\n            let nBounds: G.IBounds = <G.IBounds> this._pt['coll']['arrow']['n'];\r\n            this.a(this._ca['n'] = new G.Button(nBounds)\r\n                .b(() => {\r\n                    this._cp = (this._cp == this._cc.length - 1) ? 0 : (this._cp + 1);\r\n                    this.uC(sheet[this._ti], this._dr);\r\n                },\r\n                new G.Image(this._rr[10].o(), nBounds, true),\r\n                new G.Image(this._rr[9].o(), nBounds, true)));\r\n            this._ca['n'].o(0);\r\n\r\n            this.uT(sheet);\r\n            // 显示第一个标签页的数据\r\n            this.uContent(sheet[0], null);\r\n            // 监听数据变化\r\n            runtime.addEventListener('state', (ev: Ev.State) => {\r\n                this._dr = ev.data;\r\n                this.uContent(sheet[this._ti], ev.data);\r\n            });\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 绘制面板标签\r\n         */\r\n        private uT(sheet: Array<Util.IHashTable<any>>): Panel {\r\n            let align: G.Text.Align = this.align(this._pt['tab']['title']['a']);\r\n            let activeImage: G.Image;\r\n            // 渲染面板切换标签\r\n            Util.each(sheet, (data: Util.IHashTable<string>, index: number) => {\r\n                let tabBtn: G.Button = <G.Button> this._tai[data['n']];\r\n                if (!tabBtn) {\r\n                    let tabPosi: Util.IHashTable<any> = this._pt['tab'][index + 1 + ''];\r\n                    let titleBounds: G.IBounds = Util.clone(this._pt['tab']['title']);\r\n                    let tabText: G.Text = new G.Text(titleBounds, titleBounds['s'], titleBounds['lh'], align);\r\n                    this._tai[index + 't'] = tabText;\r\n                    let tabBounds: G.IBounds = Util.clone(titleBounds);\r\n                    tabBounds['x'] = tabPosi['x'];\r\n                    tabBounds['y'] = tabPosi['y'];\r\n                    let tabImage: G.Image = new G.Image(this._rr[3].o(), tabBounds, true);\r\n                    this._tai[data['n']] = tabBtn = new G.Button(tabBounds)\r\n                        .b(() => {\r\n                            if (index == this._ti) return;\r\n                            this._ti = index;\r\n                            this._cp = 0;\r\n                            this.clean();\r\n                            this.uT(sheet);\r\n                            this.uContent(data, this._dr);\r\n                        }, null, tabImage);\r\n                    tabBtn.a(tabText.a(new G.TextPhrase(data['n']))).o(1);\r\n                    this.a(tabBtn);\r\n                }\r\n                if (index == this._ti) {\r\n                    activeImage = new G.Image(this._rr[4].o(), tabBtn.gB(), true);\r\n                    tabBtn.a(activeImage, this._tai[this._ti + 't']);\r\n                } else {\r\n                    tabBtn.e(this._tai['a']);\r\n                }\r\n                if (index >= 5) return false;\r\n            });\r\n            this._tai['a'] = activeImage;\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 绘制面板内容\r\n         */\r\n        private uContent(sheet: Util.IHashTable<any>, data: Util.IHashTable<any>): Panel {\r\n            if (!sheet) return this;\r\n            this.clean();\r\n            let type: string = sheet['：'];\r\n            switch (type) {\r\n                case 'simp':\r\n                    this.uS(sheet, data);\r\n                    break;\r\n                case 'coll':\r\n                    this.uC(sheet, data);\r\n                    break;\r\n            }\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 绘制简单面板\r\n         */\r\n        private uS(sheet: Util.IHashTable<any>, data: Util.IHashTable<any>): Panel {\r\n            this._pb['s'].o(1);\r\n            let simpData: Array<Util.IHashTable<any>> = sheet['c'];\r\n            if (!simpData || simpData.length == 0) return this;\r\n            let simpTheme: Util.IHashTable<any> = this._pt['simp'],\r\n                left: G.Text.Align = G.Text.Align.Left;\r\n            Util.each(simpData, (simpField: Util.IHashTable<any>, index: number) => {\r\n                // 画出简单面板中显示的数据名\r\n                this._st[index + 1 + 't'].c().a(new G.TextPhrase(simpField['alias'])).o(1);\r\n                /* 画出简单面板中显示的数据值 */\r\n                // 获取数据类型\r\n                let type: string = this._svt[simpField['name']] || simpField['type'];\r\n                // 保存数据类型到本地\r\n                if (type && !this._svt[simpField['name']]) {\r\n                    this._svt[simpField['name']] = type;\r\n                }\r\n                // 获取数据值\r\n                let value: string = data ? data[simpField['name']] : '';\r\n                // 构建数据值渲染容器\r\n                if (!this._sv[simpField['name']]) {\r\n                    let i: string = index + 1 + '';\r\n                    if (type && Util.indexOf(this._sTypes, type) > -1) {\r\n                        this.a(this._sv[simpField['name']] = new G.Sprite(<G.IBounds> simpTheme[i]['value'], false, true));\r\n                    } else {\r\n                        this.a(this._sv[simpField['name']] = new G.Text(<G.IBounds> simpTheme[i]['value'], simpTheme[i]['value']['s'], simpTheme[i]['value']['lh'], left));\r\n                    }\r\n                }\r\n                // 如果数据类型是图片类型\r\n                if (type && Util.indexOf(this._sTypes, type) > -1) {\r\n                    (<G.Sprite> this._sv[simpField['name']]).c();\r\n                    let rValue: number = value ? parseInt(value, 10) : 0;\r\n                    for (let j: number = 0; j < rValue; j++) {\r\n                        let typeBound: G.IBounds = <G.IBounds> Util.clone(this._pt['type'][type]);\r\n                        typeBound['x'] = j * (this._pt['type'][type]['m'] + this._pt['type'][type]['w']);\r\n                        typeBound['y'] = (simpTheme[index + 1 + '']['value']['lh'] - this._pt['type'][type]['h']) / 2;\r\n                        let image: G.Image = new G.Image(this._tResource[type]['ei'].o(), <G.IBounds> typeBound, false);\r\n                        (<G.Sprite> this._sv[simpField['name']]).a(image);\r\n                    }\r\n                    (<G.Sprite> this._sv[simpField['name']]).o(1);\r\n                } else { // 如果数据类型是普通类型\r\n                    (<G.Text> this._sv[simpField['name']]).c().a(new G.TextPhrase(value + '')).o(1);\r\n                }\r\n            });\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 绘制集合面板\r\n         */\r\n        private uC(sheet: Util.IHashTable<any>, data: Util.IHashTable<any>): Panel {\r\n            if (!data) return this;\r\n            // 渲染背景\r\n            this._pb['c'].o(1);\r\n            // 取出集合数据\r\n            let collName: string = sheet['cn'][0];\r\n            this._cc = data[collName][''];\r\n            let collData: Util.IHashTable<any> = this._cc[this._cp];\r\n            // 取出集合的结构\r\n            let cStruct: Tag.Struct = <Tag.Struct> this._ep.q(sheet['s'], Core.IEpisode.Entity.Struct);\r\n            let i: number = 1;\r\n            Util.each(cStruct.gS(), (field: Tag.Field) => {\r\n                let fieldName: string = field.$c(),\r\n                    fieldValue: string | number | Tag.Entity = collData[fieldName],\r\n                    fieldType: string = field.gT();\r\n                // 渲染头像\r\n                if (field.iE()) {\r\n                    let hBounds: G.IBounds = <G.IBounds> this._pt['coll']['head'];\r\n                    let iBounds: G.IBounds = <G.IBounds> {x: 0, y: 0, w: hBounds['w'], h: hBounds['h']};\r\n                    let entity: Tag.Entity = field.gIE(<string> fieldValue);\r\n                    (<G.Sprite> this._cv['head']).c().a(\r\n                        new G.Image((<any> entity).o().o(), iBounds)\r\n                        ).o(1);\r\n                } else if (field.iN()) { // 渲染名称\r\n                    (<G.Text> this._cv['name']).c().a(\r\n                        new G.TextPhrase(<string> fieldValue)\r\n                        ).o(1);\r\n                } else { // 其它字段\r\n                    if (fieldValue == '空') {\r\n                        i ++;\r\n                        return;\r\n                    }\r\n                    (<G.Text> this._ct[i + 't']).c().a(\r\n                        new G.TextPhrase(fieldName)\r\n                        ).o(1);\r\n                    // 心或星类型的字段\r\n                    (<G.Sprite> this._cv[i + 'v']).c();   // 先清空\r\n                    if (Util.indexOf(this._sTypes, field.gT()) > -1) {\r\n                        let lValue: number = <number> field.gL(),\r\n                            rValue: number = <number> fieldValue;\r\n                        for (let j: number = 0; j < lValue; j++) {\r\n                            let tTheme: Util.IHashTable<any> = this._pt['type'][field.gT()],\r\n                                typeBound: G.IBounds = <G.IBounds> Util.clone(tTheme),\r\n                                res: Resource.Resource<HTMLImageElement> = j < rValue ? this._tResource[fieldType]['ei'] : this._tResource[fieldType]['fi'],\r\n                                image: G.Image = new G.Image(res.o(), <G.IBounds> typeBound, false);\r\n                            typeBound['x'] = j * (this._pt['type'][fieldType]['m'] + this._pt['type'][fieldType]['w']);\r\n                            typeBound['y'] = (this._pt['coll'][i + '']['value']['lh'] - this._pt['type'][fieldType]['h']) / 2;\r\n                            (<G.Sprite> this._cv[i + 'v']).a(image);\r\n                        }\r\n                        this._cv[i + 'v'].o(1);\r\n                    } else {\r\n                        // 普通字段\r\n                        let tValue: Util.IHashTable<any> = this._pt['coll'][i + '']['value'],\r\n                            iBound: G.IBounds = <G.IBounds> Util.clone(tValue),\r\n                            align: G.Text.Align = G.Text.Align.Left;\r\n                        iBound['x'] = 0;\r\n                        iBound['y'] = 0;\r\n                        (<G.Sprite> this._cv[i + 'v']).a(\r\n                            new G.Text(iBound, iBound['s'], iBound['lh'], align, false).c().a(\r\n                                new G.TextPhrase(fieldValue + '')\r\n                                )\r\n                            ).o(1);\r\n\r\n                    }\r\n                    i ++;\r\n                }\r\n            });\r\n            this._ca['p'].o(1);\r\n            this._ca['n'].o(1);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 清除面板\r\n         */\r\n        private clean(): void {\r\n            // 清除简单面板标题元素集合\r\n            Util.each(this._st, (text: G.Text) => {\r\n                text.c().o(0);\r\n            });\r\n            // 清除简单面板值元素集合\r\n            Util.each(this._sv, (text: G.Text | G.Sprite) => {\r\n                text.c().o(0);\r\n            });\r\n            // 清除集合面板标题元素集合\r\n            Util.each(this._ct, (text: G.Text) => {\r\n                text.c().o(0);\r\n            });\r\n            // 清除集合面板值元素集合\r\n            Util.each(this._cv, (text: G.Text | G.Sprite) => {\r\n                text.c().o(0);\r\n            });\r\n            // 清除集合面板翻页元素集合\r\n            Util.each(this._ca, (btn: G.Button) => {\r\n                btn.o(0);\r\n            });\r\n            // 清除简单面板背景\r\n            this._pb['s'].o(0);\r\n            // 清除集合面板背景\r\n            this._pb['c'].o(0);\r\n        }\r\n\r\n        /**\r\n         * 获取对齐方式\r\n         */\r\n        private align(ali: string): G.Text.Align {\r\n            let align: G.Text.Align = G.Text.Align.Center;\r\n            switch (ali) {\r\n                case 'l':\r\n                    align = G.Text.Align.Left;\r\n                    break;\r\n                case 'r':\r\n                    align = G.Text.Align.Right;\r\n                    break;\r\n                default:\r\n                    align = G.Text.Align.Center;\r\n                    break;\r\n            }\r\n            return align;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度提示组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Tip.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Tip extends Sprite {\r\n        /**\r\n         * 文字元素。\r\n         */\r\n        private _x: G.Text;\r\n\r\n        /**\r\n         * 文字高亮色。\r\n         */\r\n        private _c: string;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(id: string, theme: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/',\r\n                _back: Util.IHashTable<any> = theme['back'],\r\n                _text: Util.IHashTable<any> = theme['text'];\r\n            super(0, 0, w, h);\r\n            this._rr = [\r\n                rr.g<HTMLImageElement>(url + _back['i'], raw)\r\n            ];\r\n            this._c = _text['ch'];\r\n            (<Tip> this.o(0))\r\n                .a(new G.Image(this._rr[0].o(), <G.IBounds> _back))\r\n                .a(this._x = new G.Text(<G.IBounds> _text, _text['s'], _text['lh'], G.Text.Align.Center)\r\n                    .tc(_text['c'])\r\n                    .ts(_text['ss'])\r\n                );\r\n        }\r\n\r\n        /**\r\n         * 更新文本。\r\n         */\r\n        public u(clob: string): Tip {\r\n            return <Tip> this.$w(this._x, clob, this._c);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明画面调度功能选择组件接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Sprite/IChoose.ts\r\n */\r\n\r\n/// <reference path=\"ISprite.ts\" />\r\n/// <reference path=\"../_Tag/IOptionTag.ts\" />\r\n\r\nnamespace Core {\r\n    export interface IChoose extends ISprite {\r\n        /**\r\n         * 配置。\r\n         */\r\n        u(options: IOptionTag[]): IChoose;\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）选择事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/IChooseMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/IChoose.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IChooseMetas extends Util.IEventMetas<Core.IChoose> {\r\n        /**\r\n         * 选择值。\r\n         */\r\n        choice: Core.IOptionTag;\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）选择事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/Choose.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IChooseMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class Choose extends Event<Core.IChoose> {\r\n        /**\r\n         * 选择项。\r\n         */\r\n        public choice: Core.IOptionTag;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IChooseMetas) {\r\n            super(metas);\r\n            this.choice = metas.choice;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'choose';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度选择组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Choose.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/Choose.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Choose extends Sprite implements Core.IChoose {\r\n        /**\r\n         * 配置。\r\n         */\r\n        private _c: Util.IHashTable<any>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(id: string, theme: Util.IHashTable<any>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/';\r\n            super(0, 0, w, h);\r\n            this._rr = [\r\n                rr.g<HTMLImageElement>(url + theme['back']['i'], raw),\r\n                rr.g<HTMLImageElement>(url + theme['back']['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + theme['radish']['i'], raw)\r\n            ];\r\n            this._c = theme;\r\n            this.o(0);\r\n        }\r\n\r\n        /**\r\n         * 配置。\r\n         */\r\n        public u(options: Core.IOptionTag[]): Choose {\r\n            let margin: number = this._c['m'],\r\n                _back: Util.IHashTable<any> = this._c['back'],\r\n                _text: Util.IHashTable<any> = this._c['text'],\r\n                _count: Util.IHashTable<any> = this._c['count'],\r\n                _radish: Util.IHashTable<any> = this._c['radish'],\r\n                opts: Core.IOptionTag[] = options.slice(0, 6),\r\n                x: number = 0 | (1280 - _back['w']) / 2,\r\n                y: number = 0 | (720 - opts.length * _back['h'] - (opts.length - 1) * margin) / 2;\r\n            this.c();\r\n            Util.each(options.slice(0, 6), (option: Core.IOptionTag) => {\r\n                let text: G.Text = new G.Text(x + _text['x'], y + _text['y'], _text['w'], _text['h'], _text['s'], _text['lh'], G.Text.Align.Center)\r\n                    .tc(_text['c'])\r\n                    .ts(_text['ss']);\r\n                let money: number = option.gA() ? 0 : option.gM();\r\n                this.$w(text, option.gT(), _text['ch']);\r\n                this.a(new G.Button(x, y, _back['w'], _back['h'])\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.Choose({\r\n                            target: this,\r\n                            choice: option\r\n                        }));\r\n                    }, new G.Image(this._rr[1].o(), x, y, _back['w'], _back['h'], true), new G.Image(this._rr[0].o(), x, y, _back['w'], _back['h'], true))\r\n                ).a(text);\r\n                if (money) {\r\n                    let xC: number = x + _text['x'] + _text['w'] - _count['w'],\r\n                        yC: number = y + _text['y'] + 0.5 * _back['h'],\r\n                        xR: number = x + _text['x'] + _text['w'] - _count['w'] - _radish['w'] - 10,\r\n                        yR: number = y + _text['y'] + 0.5 * (_back['h'] - _radish['h']),\r\n                        count: G.Text = new G.Text(xC, yC, _count['w'], _count['h'], _count['s'], _count['lh'], G.Text.Align.Left)\r\n                            .tc(_count['c'])\r\n                            .ts(_count['ss']);\r\n                    this.$w(count, money.toString(), _count['ch']);\r\n                    this.a(new G.Image(this._rr[2].o(), xR, yR, _radish['w'], _radish['h'], true))\r\n                        .a(count);\r\n                }\r\n                y += _back['h'] + margin;\r\n            });\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度特写组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/CG.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class CG extends Sprite {\r\n        /**\r\n         * 配置。\r\n         */\r\n        private _c: G.IBounds;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(theme: Util.IHashTable<any>) {\r\n            super(0, 0, 1280, 720);\r\n            this._c = <G.IBounds> theme;\r\n            this.o(0);\r\n        }\r\n\r\n        /**\r\n         * 更新图片。\r\n         */\r\n        public u(image: Resource.Resource<HTMLImageElement>): CG {\r\n            return image ? (<CG> this.c()\r\n                    .a(new G.Image(image.o(), this._c))) :\r\n                (<CG> this.c()\r\n                    .a(new G.Color(<G.IBounds> this._c, '#000')));\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度连载档位菜单组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/SeriesSlots.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/SlotsClose.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/SlotsLoad.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/SlotsSave.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class SeriesSlots extends Sprite implements Core.ISlots {\r\n        /**\r\n         * 自动档位和一号档位配置。\r\n         */\r\n        private _c: Util.IHashTable<any>[];\r\n\r\n        /**\r\n         * 关键元素集合。\r\n         */\r\n        private _x: Util.IHashTable<G.Element>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(id: string, theme: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/',\r\n                _close: Util.IHashTable<any> = theme['close'],\r\n                _mask: Util.IHashTable<any> = theme['mask'],\r\n                _auto: Util.IHashTable<any> = theme['auto'],\r\n                _1: Util.IHashTable<any> = theme['1'],\r\n                _2: Util.IHashTable<any> = theme['2'],\r\n                _3: Util.IHashTable<any> = theme['3'],\r\n                _4: Util.IHashTable<any> = theme['4'];\r\n            super(0, 0, w, h);\r\n            this._c = [_auto, _1];\r\n            this._x = {};\r\n            this._rr = [\r\n                rr.g<HTMLImageElement>(url + _close['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _close['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _auto['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _auto['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _1['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _1['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _2['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _3['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _4['i'], raw)\r\n            ];\r\n            (<SeriesSlots> this.o(0))\r\n                .a(new G.Color(0, 0, w, h, _mask['cb']).o(_mask['o']))\r\n                .a(new G.Button(<G.IBounds> _close)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.SlotsClose({ target: this }));\r\n                    }, new G.Image(this._rr[1].o(), <G.IBounds> _close, true), new G.Image(this._rr[0].o(), <G.IBounds> _close, true))\r\n                ).a(new G.Image(this._rr[6].o(), <G.IBounds> _2))\r\n                .a(new G.Image(this._rr[7].o(), <G.IBounds> _3))\r\n                .a(new G.Image(this._rr[8].o(), <G.IBounds> _4));\r\n        }\r\n\r\n        /**\r\n         * 显示存档位。\r\n         */\r\n        public vs(states: Core.IStates, duration?: number): Promise<SeriesSlots> {\r\n            return states.l().then(() => {\r\n                let type: Core.IStates.Save = Core.IStates.Save.End,\r\n                    $1: [string, number] = states.q('1', type),\r\n                    _1: Util.IHashTable<any> = this._c[1],\r\n                    _1t: Util.IHashTable<any> = _1['text'],\r\n                    right: G.Text.Align = G.Text.Align.Right;\r\n                this.a(this._x['1'] = new G.Button(<G.IBounds> _1)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.SlotsSave({ target: this }));\r\n                    }, new G.Image(this._rr[5].o(), <G.IBounds> _1, true), new G.Image(this._rr[4].o(), <G.IBounds> _1, true))\r\n                    .a(new G.Text(<G.IBounds> _1t, _1t['s'], _1t['lh'], right, true)\r\n                        .tc(_1t['c'])\r\n                        .a(new G.TextPhrase($1 ? this.$d($1[1]) : '（无）'))\r\n                    )\r\n                );\r\n                return this.v(duration);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 显示读档位。\r\n         */\r\n        public vl(states: Core.IStates, duration?: number): Promise<SeriesSlots> {\r\n            return states.l().then(() => {\r\n                let type: Core.IStates.Save = Core.IStates.Save.Series,\r\n                    $a: [string, number] = states.q('auto', type),\r\n                    _a: Util.IHashTable<any> = this._c[0],\r\n                    _at: Util.IHashTable<any> = _a['text'],\r\n                    $1: [string, number] = states.q('1', type),\r\n                    _1: Util.IHashTable<any> = this._c[1],\r\n                    _1t: Util.IHashTable<any> = _1['text'],\r\n                    right: G.Text.Align = G.Text.Align.Right;\r\n                this.a(this._x['a'] = $a ?\r\n                    new G.Button(<G.IBounds> _a)\r\n                        .b(() => {\r\n                            this.dispatchEvent(new Ev.SlotsLoad({\r\n                                target: this,\r\n                                id: $a[0]\r\n                            }));\r\n                        }, new G.Image(this._rr[3].o(), <G.IBounds> _a, true), new G.Image(this._rr[2].o(), <G.IBounds> _a, true)) :\r\n                    new G.Sprite(<G.IBounds> _a)\r\n                        .a(new G.Image(this._rr[2].o(), <G.IBounds> _a, true))\r\n                ).a(this._x['1'] = $1 ?\r\n                    new G.Button(<G.IBounds> _1)\r\n                        .b(() => {\r\n                            this.dispatchEvent(new Ev.SlotsLoad({\r\n                                target: this,\r\n                                id: $1[0]\r\n                            }));\r\n                        }, new G.Image(this._rr[5].o(), <G.IBounds> _1, true), new G.Image(this._rr[4].o(), <G.IBounds> _1, true)) :\r\n                    new G.Sprite(<G.IBounds> _1)\r\n                        .a(new G.Image(this._rr[4].o(), <G.IBounds> _1, true))\r\n                    );\r\n                (<G.Sprite> this._x['a'])\r\n                    .a(new G.Text(<G.IBounds> _at, _at['s'], _at['lh'], right, true)\r\n                        .tc(_at['c'])\r\n                        .a(new G.TextPhrase($a ? this.$d($a[1]) : '（无）'))\r\n                    );\r\n                (<G.Sprite> this._x['1'])\r\n                    .a(new G.Text(<G.IBounds> _1t, _1t['s'], _1t['lh'], right, true)\r\n                        .tc(_1t['c'])\r\n                        .a(new G.TextPhrase($1 ? this.$d($1[1]) : '（无）'))\r\n                    );\r\n                return this.v(duration);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 隐藏。\r\n         */\r\n        public h(duration?: number): Promise<SeriesSlots> {\r\n            return super.h(duration).then(() => {\r\n                Util.each(this._x, (item: G.Element) => {\r\n                    this.e(item);\r\n                });\r\n                this._x = {};\r\n                return this;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 格式化时间。\r\n         */\r\n        private $d(stamp: number): string {\r\n            let date: Date = new Date(stamp),\r\n                field: number = date.getHours(),\r\n                clob: string = ' ' + (10 > field ? '0' : '') + field;\r\n            field = date.getMinutes();\r\n            clob += ':' + (10 > field ? '0' : '') + field;\r\n            return date.getFullYear() + '-' + (1 + date.getMonth()) + '-' + date.getDate() + clob;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明画面调度设置菜单组件接口规范。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Sprite/ISet.ts\r\n */\r\n\r\n/// <reference path=\"ISprite.ts\" />\r\n/// <reference path=\"../_Runtime/IStates.ts\" />\r\n\r\nnamespace Core {\r\n    export interface ISet extends ISprite {\r\n        /**\r\n         * 显示音乐/音效调节。\r\n         */\r\n        vv(bVolume: number, eVolume: number, on: boolean, duration?: number): Promise<ISet>;\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）设置菜单关闭事件元信息接口规范。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/ISetCloseMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/ISet.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface ISetCloseMetas extends Util.IEventMetas<Core.ISet> {\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）设置菜单关闭事件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/SetClose.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"ISetCloseMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class SetClose extends Event<Core.ISet> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: ISetCloseMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'set.close';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（画面调度）设置菜单音量调节事件元信息接口规范。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/ISetVolumeMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Sprite/ISet.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface ISetVolumeMetas extends Util.IEventMetas<Core.ISet> {\r\n        /**\r\n         * 音乐音量\r\n         */\r\n        bVolume: number;\r\n\r\n        /**\r\n         * 音效音量\r\n         */\r\n        eVolume: number;\r\n    }\r\n}\r\n","/**\r\n * 定义（画面调度）设置菜单音量调节事件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Sprite/SetVolume.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"ISetVolumeMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class SetVolume extends Event<Core.ISet> {\r\n        /**\r\n         * 音乐音量。\r\n         */\r\n        public bVolume: number;\r\n\r\n        /**\r\n         * 音效音量。\r\n         */\r\n        public eVolume: number;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: ISetVolumeMetas) {\r\n            super(metas);\r\n            this.bVolume = metas.bVolume;\r\n            this.eVolume = metas.eVolume;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'set.volume';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度设置菜单组件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Set.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n/// <reference path=\"../Resource/Resource.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/SetClose.ts\" />\r\n/// <reference path=\"../Ev/_Sprite/SetVolume.ts\" />\r\n\r\nnamespace Sprite {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class Set extends Sprite implements Core.ISet {\r\n        /**\r\n         * 音效音量。\r\n         */\r\n        private _ve: number;\r\n\r\n        /**\r\n         * 音效音量字体元件。\r\n         */\r\n        private _xe: G.Text;\r\n\r\n        /**\r\n         * 音效音量图片元件。\r\n         */\r\n        private _ie: G.Image;\r\n\r\n        /**\r\n         * 音乐音量。\r\n         */\r\n        private _vb: number;\r\n\r\n        /**\r\n         * 音乐音量字体元件。\r\n         */\r\n        private _xb: G.Text;\r\n\r\n        /**\r\n         * 音乐音量图片元件。\r\n         */\r\n        private _ib: G.Image;\r\n\r\n        /**\r\n         * 设置主题配置集合。\r\n         */\r\n        private _pt: Util.IHashTable<Util.IHashTable<any>>;\r\n\r\n        /**\r\n         * 面板声音开关。\r\n         */\r\n        private _vo: boolean;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(id: string, theme: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/',\r\n                _close: Util.IHashTable<any> = theme['close'],\r\n                _mask: Util.IHashTable<any> = theme['mask'],\r\n                _title: Util.IHashTable<any> = theme['title'],\r\n                _bgm: Util.IHashTable<any> = theme['bgm'],\r\n                _se: Util.IHashTable<any> = theme['se'];\r\n            super(0, 0, w, h);\r\n            this._pt = theme;\r\n            this._vo = true;\r\n            this._rr = [\r\n                rr.g<HTMLImageElement>(url + _close['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _close['ih'], raw),\r\n                rr.g<HTMLImageElement>(url + _bgm['bar']['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _bgm['bg']['i'], raw),\r\n                rr.g<HTMLImageElement>(url + _bgm['bar']['ih'], raw)\r\n            ];\r\n            (<Set> this.o(0))\r\n                .a(new G.Color(0, 0, w, h, _mask['cb']).o(_mask['o']))\r\n                .a(new G.Button(<G.IBounds> _close)\r\n                    .b(() => {\r\n                        this.dispatchEvent(new Ev.SetClose({ target: this }));\r\n                    }, new G.Image(this._rr[1].o(), <G.IBounds> _close, true), new G.Image(this._rr[0].o(), <G.IBounds> _close, true))\r\n                ).a(new G.Text(<G.IBounds> _title, _title['s'], _title['lh'], this.$a(_title['a']), true)\r\n                    .tc(_title['c'])\r\n                    .a(new G.TextPhrase('声音设定'))\r\n                ).a(new G.Text(<G.IBounds> _bgm['name'], _bgm['name']['s'], _bgm['name']['lh'], this.$a(_bgm['name']['a']), true)\r\n                    .tc(_bgm['name']['c'])\r\n                    .a(new G.TextPhrase('音乐'))\r\n                ).a(new G.Button(<G.IBounds> _bgm['bar'])\r\n                    .b((event) => {\r\n                        this.sv(event['x'], 'bgm');\r\n                    }, new G.Image(this._rr[2].o(), <G.IBounds> _bgm['bar'], true), new G.Image(this._rr[2].o(), <G.IBounds> _bgm['bar'], true))\r\n                ).a(new G.Image(this._rr[3].o(), <G.IBounds> _bgm['bg'], true))\r\n                .a(this._xb = new G.Text(<G.IBounds> _bgm['volume'], _bgm['volume']['s'], _bgm['volume']['lh'], this.$a(_bgm['volume']['a']), true)\r\n                ).a(new G.Text(<G.IBounds> _se['name'], _se['name']['s'], _se['name']['lh'], this.$a(_se['name']['a']), true)\r\n                    .tc(_se['name']['c'])\r\n                    .a(new G.TextPhrase('音效'))\r\n                ).a(new G.Button(<G.IBounds> _se['bar'])\r\n                    .b((event) => {\r\n                        this.sv(event['x'], 'se');\r\n                    }, new G.Image(this._rr[2].o(), <G.IBounds> _se['bar'], true), new G.Image(this._rr[2].o(), <G.IBounds> _se['bar'], true))\r\n                ).a(new G.Image(this._rr[3].o(), <G.IBounds> _se['bg'], true))\r\n                .a(this._xe = new G.Text(<G.IBounds> _se['volume'], _se['volume']['s'], _se['volume']['lh'], this.$a(_se['volume']['a']), true));\r\n        }\r\n\r\n        /**\r\n         * 调节音乐/音效。\r\n         */\r\n        protected sv(x: number, voice: string): void {\r\n            if (!this._vo) return;\r\n            let gBound: G.IBounds = <G.IBounds> Util.clone(this._pt[voice]['bar']),\r\n                width: number = Math.max(gBound['x'], Math.min(x, gBound['w'] + gBound['x'])) - gBound['x'],\r\n                count: number = Math.round(width / this._pt[voice]['bar']['w'] * 100);\r\n            if (count <= 2) {\r\n                count = gBound['w'] = 0;\r\n            } else if (count >= 98) {\r\n                count = 100;\r\n            } else {\r\n                gBound['w'] = width;\r\n            }\r\n            switch (voice) {\r\n                case 'bgm':\r\n                    this._vb = count;\r\n                    (<G.Text> this._xb).c().a(new G.TextPhrase(this._vb.toString()));\r\n                    if (this._ib) {\r\n                        this.e(this._ib);\r\n                        this._ib = undefined;\r\n                    }\r\n                    if (count != 0) this.a(this._ib = new G.Image(this._rr[4].o(), gBound, true));\r\n                    break;\r\n                case 'se':\r\n                    this._ve = count;\r\n                    (<G.Text> this._xe).c().a(new G.TextPhrase(this._ve.toString()));\r\n                    if (this._ie) {\r\n                        this.e(this._ie);\r\n                        this._ie = undefined;\r\n                    }\r\n                    if (count != 0) this.a(this._ie = new G.Image(this._rr[4].o(), gBound, true));\r\n                    break;\r\n            }\r\n            this.dispatchEvent(new Ev.SetVolume({ target: this, bVolume: this._vb, eVolume: this._ve }));\r\n        }\r\n        /**\r\n         * 显示音乐/音效调节。\r\n         */\r\n        public vv(bVolume: number, eVolume: number, on: boolean, duration?: number): Promise<Set> {\r\n            this._vo = on;\r\n            if (!this._vo) bVolume = eVolume = 0;\r\n            this._vb = Math.round(bVolume * 100);\r\n            this._ve = Math.round(eVolume * 100);\r\n            (<G.Text> this._xb).c().a(new G.TextPhrase(this._vb.toString()));\r\n            (<G.Text> this._xe).c().a(new G.TextPhrase(this._ve.toString()));\r\n            let bBound: G.IBounds = <G.IBounds> Util.clone(this._pt['bgm']['bar']),\r\n                eBound: G.IBounds = <G.IBounds> Util.clone(this._pt['se']['bar']);\r\n            bBound['w'] = Math.round(bVolume * bBound['w']);\r\n            eBound['w'] = Math.round(eVolume * eBound['w']);\r\n            if (this._ib) {\r\n                this.e(this._ib);\r\n                this._ib = undefined;\r\n            }\r\n            if (this._ie) {\r\n                this.e(this._ie);\r\n                this._ie = undefined;\r\n            }\r\n            if (this._vb != 0) this.a(this._ib = new G.Image(this._rr[4].o(), bBound, true));\r\n            if (this._ve != 0) this.a(this._ie = new G.Image(this._rr[4].o(), eBound, true));\r\n            return this.v(duration);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面调度评分组件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/Stars.ts\r\n */\r\n\r\n/// <reference path=\"Sprite.ts\" />\r\n\r\nnamespace Sprite {\r\n    import G = __Bigine_C2D;\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Stars extends Sprite {\r\n        /**\r\n         * 用户姓名。\r\n         */\r\n        private _nt: G.Text;\r\n        /**\r\n         * 数据值。\r\n         */\r\n        private _vt: G.Text;\r\n        /**\r\n         * 放置背景评分图片。\r\n         */\r\n        private _xs: G.Sprite;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(theme: Util.IHashTable<Util.IHashTable<any>>) {\r\n            let w: number = 1280,\r\n                h: number = 720,\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                rr: typeof Resource.Resource = Resource.Resource,\r\n                url: string = '//s.dahao.de/theme/',\r\n                _name: Util.IHashTable<any> = theme['name'],\r\n                _value: Util.IHashTable<any> = theme['value'],\r\n                _pic: Util.IHashTable<any> = theme['pic'],\r\n                center: G.Text.Align = G.Text.Align.Center;\r\n            super(0, 0, w, h);\r\n            this._rr = [\r\n                rr.g<HTMLImageElement>(url + _pic['1'], raw),\r\n                rr.g<HTMLImageElement>(url + _pic['2'], raw),\r\n                rr.g<HTMLImageElement>(url + _pic['3'], raw),\r\n                rr.g<HTMLImageElement>(url + _pic['4'], raw),\r\n                rr.g<HTMLImageElement>(url + _pic['5'], raw)\r\n            ];\r\n            // 渲染评分初始样式\r\n            (<Stars> this.o(0))\r\n                .a(this._xs = new G.Sprite(<G.IBounds> { x: 0, y: 0, w: w, h: h }))\r\n                .a(this._nt = new G.Text(<G.IBounds> _name, _name['s'], _name['lh'], center))\r\n                .a(this._vt = new G.Text(<G.IBounds> _value, _value['s'], _value['lh'], center));\r\n        }\r\n\r\n        /**\r\n         * 设置名称、数据值。\r\n         */\r\n        public u(key: number, name: string, value: string): Stars {\r\n            this._xs.c().a(new G.Image(this._rr[key].o(), { x: 0, y: 0, w: 1280, h: 720 }));\r\n            this._nt.c().a(new G.TextPhrase(name));\r\n            this._vt.c().a(new G.TextPhrase(value));\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 打包所有已定义地画面调度组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Sprite/_pack.ts\r\n */\r\n\r\n/// <reference path=\"Curtain.ts\" />\r\n/// <reference path=\"Author.ts\" />\r\n/// <reference path=\"Start.ts\" />\r\n/// <reference path=\"Words.ts\" />\r\n/// <reference path=\"Tray.ts\" />\r\n/// <reference path=\"Menu.ts\" />\r\n/// <reference path=\"Slots.ts\" />\r\n/// <reference path=\"Status.ts\" />\r\n/// <reference path=\"Panel.ts\" />\r\n/// <reference path=\"Tip.ts\" />\r\n/// <reference path=\"Choose.ts\" />\r\n/// <reference path=\"CG.ts\" />\r\n/// <reference path=\"SeriesSlots.ts\" />\r\n/// <reference path=\"Set.ts\" />\r\n/// <reference path=\"Stars.ts\" />\r\n","/**\r\n * 定义基于 HTML Canvas 的（运行时）场效调度器组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Runtime/_Director/CanvasDirector.ts\r\n */\r\n\r\n/// <reference path=\"Director.ts\" />\r\n/// <reference path=\"../../Sprite/_pack.ts\" />\r\n\r\n/**\r\n * * b - 背景\r\n * * M - 地图\r\n * * c - 人物\r\n * * L - 加载进度条\r\n * * e - 完成进度条\r\n */\r\nnamespace Runtime {\r\n    import Util = __Bigine_Util;\r\n    import G = __Bigine_C2D;\r\n\r\n    export class CanvasDirector extends Director {\r\n        /**\r\n         * 尺寸。\r\n         */\r\n        public static BOUNDS: G.IBounds = {\r\n            x: 0,\r\n            y: 0,\r\n            w: 1280,\r\n            h: 720\r\n        };\r\n\r\n        /**\r\n         * 画板。\r\n         */\r\n        private _c: G.Stage;\r\n\r\n        /**\r\n         * 声音。\r\n         */\r\n        private _s: Util.IHashTable<HTMLAudioElement>;\r\n\r\n        /**\r\n         * 基础图片。\r\n         */\r\n        private _i: Util.IHashTable<Resource.Resource<string | HTMLImageElement>>;\r\n\r\n        /**\r\n         * 文字配置。\r\n         */\r\n        private _f: Util.IHashTable<Util.IHashTable<string | number>>;\r\n\r\n        /**\r\n         * 自动播放相关动画。\r\n         */\r\n        private _t: G.Animation;\r\n\r\n        /**\r\n         * 阻塞类相关动画。\r\n         */\r\n        private _h: G.Animation;\r\n\r\n        /**\r\n         * 阻塞类 Promise 。\r\n         */\r\n        private _q: () => void;\r\n\r\n        /**\r\n         * 预加载进度。\r\n         */\r\n        private _e: [number, number];\r\n\r\n        /**\r\n         * 键盘事件监听函数。\r\n         */\r\n        private _l: (event: KeyboardEvent) => void;\r\n\r\n        /**\r\n         * 画面组件集合。\r\n         */\r\n        private _x: Util.IHashTable<Sprite.Sprite>;\r\n\r\n        /**\r\n         * 连载模式。\r\n         */\r\n        private _fs: Core.IRuntime.Series;\r\n\r\n        /**\r\n         * 切幕动画。\r\n         */\r\n        private _ca: string;\r\n\r\n        /**\r\n         * 声音开关。\r\n         */\r\n        private _vo: boolean;\r\n\r\n        /**\r\n         * 面板主题配置集合。\r\n         */\r\n        private _pt: Util.IHashTable<Util.IHashTable<any>>;\r\n\r\n        /**\r\n         * 记录点击的选项。\r\n         */\r\n        private _pc: Tag.Option;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(runtime: Core.IRuntime) {\r\n            super(runtime);\r\n            var doc: Document = document,\r\n                els: NodeList | HTMLElement[] = doc.querySelectorAll('.bg-work'),\r\n                canvas: HTMLCanvasElement = doc.createElement('canvas'),\r\n                raw: Core.IResource.Type = Core.IResource.Type.Raw,\r\n                bounds: G.IBounds = CanvasDirector.BOUNDS,\r\n                assets: string = '//s.dahao.de/theme/_/';\r\n            canvas.width = bounds.w;\r\n            canvas.height = bounds.h;\r\n            canvas.className = 'viewport';\r\n            if (!els.length) {\r\n                this._d = true;\r\n                els = [doc.createElement('div')];\r\n                (<HTMLElement> els[0]).className = 'bg-work dynamic';\r\n                doc.body.appendChild(els[0]);\r\n            }\r\n            els[0].appendChild(canvas);\r\n            this._x = {};\r\n            this._c = <G.Stage> new G.Stage(canvas.getContext('2d'))\r\n                .a(new G.Color(bounds, '#000').i('b'))\r\n                .a(new G.Sprite(bounds).i('M').o(0))\r\n                .a(new G.Sprite(bounds).i('c').o(0))\r\n                .a(this._x['c'] = new Sprite.Curtain())\r\n                .a(new G.Sprite(0, bounds.h - 3, bounds.w, 3).a(new G.Color(0, 0, bounds.w, 3, '#0cf').i('e')).i('L').o(0));\r\n            this.f();\r\n            this._vo = true;\r\n            this._ca = undefined;\r\n            this._pc = undefined;\r\n            this._i = {\r\n                o: Resource.Resource.g<HTMLImageElement>(assets + 'logo.png', raw),\r\n                e: Resource.Resource.g<HTMLImageElement>(assets + 'thx.png', raw),\r\n                s: Resource.Resource.g<string>(assets + 'oops.mp3', raw),\r\n                f: Resource.Resource.g<string>(assets + 'focus.mp3', raw),\r\n                c: Resource.Resource.g<string>(assets + 'click.mp3', raw)\r\n            };\r\n            this._s = {\r\n                b: new Audio(),\r\n                e: new Audio()\r\n            };\r\n            this._s['b'].autoplay = true;\r\n            this._s['b'].loop = true;\r\n            this._s['e'].autoplay = true;\r\n            this._s['e']['cd'] = -1;\r\n            this._s['b'].src = this._i['s'].l();\r\n            this._f = {};\r\n            this._e = [0, 0];\r\n            this._l = (event: KeyboardEvent) => {\r\n                if ((event.keyCode == 13 || event.keyCode == 17) && !this._a && this._t)\r\n                    this._t.h();\r\n            };\r\n            this._fs = Core.IRuntime.Series.Alone;\r\n            window.addEventListener('keydown', this._l);\r\n        }\r\n\r\n        /**\r\n         * 预加载指定资源组。\r\n         *\r\n         * @param resources 一个（作品）事件所包含地所有资源\r\n         */\r\n        public c(resources: Resource.Resource<string | HTMLImageElement>[][]): Promise<void> {\r\n            var gLoading: G.Sprite = <G.Sprite> this._c.q('L')[0],\r\n                gElapsed: G.Element = gLoading.q('e')[0],\r\n                bounds: G.IBounds = CanvasDirector.BOUNDS,\r\n                progress: (done: boolean) => void = (done: boolean) => {\r\n                    var e: [number, number] = this._e;\r\n                    e[0 + <any> done]++;\r\n                    if (e[0] == e[1]) {\r\n                        this._e = [0, 0];\r\n                        return gLoading.o(0);\r\n                    }\r\n                    gElapsed.x((e[1] / e[0] - 1) * bounds.w);\r\n                    gLoading.o(1);\r\n                };\r\n            Util.each(resources, (frame: Resource.Resource<string | HTMLImageElement>[]) => {\r\n                Util.each(frame, (resource: Resource.Resource<string | HTMLImageElement>) => {\r\n                    progress(false);\r\n                    resource.w((value: string | HTMLImageElement) => {\r\n                        progress(true);\r\n                    });\r\n                });\r\n            });\r\n            return Resource.Prefecher.c(resources, this._r.gL());\r\n        }\r\n\r\n        /**\r\n         * 开始动画。\r\n         */\r\n        public OP(start: boolean, title: string, author: string): Promise<Core.IRuntime> {\r\n            (<Sprite.Start> this._x['s']).u(title, Core.IRuntime.Series.Rest == this._fs);\r\n            return this.c([[this._i['o']]])\r\n                .then(() => this.reset())\r\n                .then(() => {\r\n                    let gLogo: G.Image = new G.Image(this._i['o'].o(), CanvasDirector.BOUNDS);\r\n                    this._c.z()\r\n                        .a(gLogo, this._x['c']);\r\n                    return this.lightOn()\r\n                        .then(() => gLogo.p(new G.Delay(1000)))\r\n                        .then(() => this.lightOff())\r\n                        .then(() => {\r\n                            this._c.e(gLogo);\r\n                            if (!author && !title) return;\r\n                            let gAuthor: Sprite.Author = (<Sprite.Author> this._x['a']).u(author ? author : title);\r\n                            gAuthor.v(0);\r\n                            return this.lightOn()\r\n                                .then(() => gAuthor.p(new G.Delay(1000)))\r\n                                .then(() => this.lightOff())\r\n                                .then(() => gAuthor.o(0));\r\n                        }).then(() => super.OP(start, title, author))\r\n                        .then((runtime: Core.IRuntime) => {\r\n                            if (!this._a)\r\n                                this._x['t'].v(0);\r\n                            if (!start)\r\n                                return runtime;\r\n                            this._x['s'].v(0);\r\n                            return this.lightOn();\r\n                        });\r\n                });\r\n        }\r\n\r\n        /**\r\n         * 完结动画。\r\n         */\r\n        public ED(): Promise<Core.IRuntime> {\r\n            return this.c([[this._i['e']]])\r\n                .then(() => {\r\n                    var gED: G.Image = new G.Image(this._i['e'].o(), CanvasDirector.BOUNDS);\r\n                    this.playBGM();\r\n                    this.playSE();\r\n                    return this.lightOff()\r\n                        .then(() => {\r\n                            this._r.dispatchEvent(new Ev.Fin({\r\n                                target: this._r.gE()\r\n                            }));\r\n                            this._c.a(gED, this._x['c']);\r\n                            this._x['t'].h(0);\r\n                            return this.lightOn();\r\n                        }).then(() => gED.p(new G.Delay(2000)))\r\n                        .then(() => this.lightOff())\r\n                        .then(() => {\r\n                            this._c.e(gED);\r\n                            return super.ED();\r\n                        });\r\n                }).then(() => this.$s());\r\n        }\r\n\r\n        /**\r\n         * 连载存档。\r\n         */\r\n        protected $s(): Promise<Core.IRuntime> {\r\n            if (Core.IRuntime.Series.Alone == this._fs)\r\n                return Promise.resolve(this._r);\r\n            return new Promise((resolve: (runtime: Core.IRuntime) => void) => {\r\n                let $c: string = 'slots.close',\r\n                    close: () => void = () => {\r\n                        this._x['ss'].removeEventListener($c, close);\r\n                        resolve(this._r);\r\n                    },\r\n                    $s: string = 'slots.save',\r\n                    save: () => void = () => {\r\n                        this._x['ss'].removeEventListener($s, save);\r\n                        resolve(this._r);\r\n                    };\r\n                this.lightOn().then(() => {\r\n                    (<Sprite.SeriesSlots> this._x['ss']\r\n                        .addEventListener($c, close)\r\n                        .addEventListener($s, save)\r\n                    ).vs(this._r.gS());\r\n                });\r\n            }).then(() => this.lightOff());\r\n        }\r\n\r\n        /**\r\n         * 人物出场。\r\n         */\r\n        public charOn(resource: Resource.Resource<HTMLImageElement>, position: Core.IDirector.Position): Promise<Core.IRuntime> {\r\n            var states: Core.IStates = this._r.gS(),\r\n                gChars: G.Sprite = <G.Sprite> this._c.q('c')[0],\r\n                kamount: string = '$c',\r\n                gChar: G.Image = this.$c(resource, position);\r\n            states.s(kamount, 1 + (<number> states.g(kamount) || 0));\r\n            gChars.a(gChar.i(<any> position));\r\n            if (this._x['G'].gO()) {\r\n                gChar.o(1);\r\n                return this._p;\r\n            }\r\n            gChars.o(1);\r\n            return gChar.p(new G.FadeIn(500))\r\n                .then(() => this._r);\r\n        }\r\n\r\n        /**\r\n         * 人物离场。\r\n         */\r\n        public charOff(position: Core.IDirector.Position): Promise<Core.IRuntime> {\r\n            var states: Core.IStates = this._r.gS(),\r\n                kamount: string = '$c',\r\n                amount: number = states.g(kamount),\r\n                gChars: G.Sprite = <G.Sprite> this._c.q('c')[0],\r\n                gChar: G.Element = gChars.q(<any> position)[0];\r\n            if (gChar) {\r\n                states.s(kamount, --amount);\r\n                return gChar.p(new G.FadeOut(500)).then(() => {\r\n                    gChars.e(gChar);\r\n                    if (!amount)\r\n                        gChars.o(0);\r\n                    return this._r;\r\n                });\r\n            }\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 设置人物。\r\n         */\r\n        public charSet(resource: Resource.Resource<HTMLImageElement>, position: Core.IDirector.Position): Promise<Core.IRuntime> {\r\n            var states: Core.IStates = this._r.gS(),\r\n                kamount: string = '$c',\r\n                gChars: G.Sprite = <G.Sprite> this._c.q('c')[0],\r\n                gChar: G.Element = gChars.q(<any> position)[0];\r\n            if (gChar) {\r\n                gChars.e(gChar);\r\n            } else\r\n                states.s(kamount, 1 + (<number> states.g(kamount) || 0));\r\n            gChar = this.$c(resource, position).o(1).i(<any> position);\r\n            gChars.a(gChar);\r\n            if (!this._x['G'].gO())\r\n                gChars.o(1);\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 人物移动。\r\n         */\r\n        public charMove(from: Core.IDirector.Position, to: Core.IDirector.Position): Promise<Core.IRuntime> {\r\n            var gChars: G.Sprite = <G.Sprite> this._c.q('c')[0],\r\n                gChar: G.Element = gChars.q(<any> from)[0],\r\n                pos: typeof Core.IDirector.Position = Core.IDirector.Position,\r\n                x: number;\r\n            if (!gChar)\r\n                return this._p;\r\n            switch (to) {\r\n                case pos.Left:\r\n                    x = -400;\r\n                    break;\r\n                case pos.CLeft:\r\n                    x = -200;\r\n                    break;\r\n                case pos.Center:\r\n                    x = 0;\r\n                    break;\r\n                case pos.CRight:\r\n                    x = 200;\r\n                    break;\r\n                case pos.Right:\r\n                    x = 400;\r\n                    break;\r\n            }\r\n            return gChar.p(new G.Move(500, {\r\n                x: x,\r\n                y: gChar.gB().y\r\n            })).then(() => {\r\n                gChar.i(<any> to);\r\n                return this._r;\r\n                });\r\n        }\r\n\r\n        /**\r\n         * 创建立绘。\r\n         */\r\n        protected $c(resource: Resource.Resource<HTMLImageElement>, position: Core.IDirector.Position): G.Image {\r\n            // 为防止立绘随着镜头的缩放而缩放，这里的立绘显示暂设定为固定IBounds{ x: 0, y: 0, w: 1280, h: 720 }\r\n            //var bounds: G.IBounds = CanvasDirector.BOUNDS,\r\n            var bounds: G.IBounds = <G.IBounds> { x: 0, y: 0, w: 1280, h: 720 },\r\n                pos: typeof Core.IDirector.Position = Core.IDirector.Position,\r\n                x: number;\r\n            switch (position) {\r\n                case pos.Left:\r\n                    x = -400;\r\n                    break;\r\n                case pos.CLeft:\r\n                    x = -200;\r\n                    break;\r\n                case pos.Center:\r\n                    x = 0;\r\n                    break;\r\n                case pos.CRight:\r\n                    x = 200;\r\n                    break;\r\n                case pos.Right:\r\n                    x = 400;\r\n                    break;\r\n            }\r\n            // 为防止立绘在镜头的变化过程中错位，这里暂使用绝对定位（第六个参数设为true）\r\n            return <G.Image> new G.Image(resource.o(), x, 0, bounds.w, bounds.h, true)\r\n                .i(<any> position)\r\n                .o(0);\r\n        }\r\n\r\n        /**\r\n         * 某白。\r\n         */\r\n        public words(words: string, theme: string, who?: string, avatar?: Resource.Resource<HTMLImageElement>): Promise<Core.IRuntime> {\r\n            let sprite: Sprite.Words = <Sprite.Words> this._x['W'];\r\n            return this._x['c'].h(20).then(() => {\r\n                let type: string = theme[0];\r\n                if ('v' == type)\r\n                    return sprite.vv(words, this._a);\r\n                return sprite['v' + type](avatar, who, words, this._a);\r\n            }).then(() => {\r\n                sprite.h(0);\r\n                return this._r;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 提示。\r\n         */\r\n        public tip(words: string): Promise<Core.IRuntime> {\r\n            let gTip: Sprite.Tip = <Sprite.Tip> this._x['T'];\r\n            return this.lightOn()\r\n                .then(() => gTip.u(words).v())\r\n                .then(() => gTip.p(new G.WaitForClick()))\r\n                .then(() => gTip.h())\r\n                .then(() => this._r);\r\n        };\r\n\r\n        /**\r\n         * 评分动画。\r\n         */\r\n        public stars(rank: Core.IDirector.Stars, grade: string, value?: string): Promise<Core.IRuntime> {\r\n            var stars: Sprite.Stars = <Sprite.Stars> this._x['sr'],\r\n                key: number = rank,\r\n                score: number = parseInt(value, 10) || 0;\r\n            return this.lightOff()\r\n                .then(() => {\r\n                    this._r.dispatchEvent(new Ev.Rank({\r\n                        target: this._r.gE(),\r\n                        grade: grade,\r\n                        score: score\r\n                    }));\r\n                    this._x['t'].h(0);\r\n                    stars.u(key, this._r.nickname(), value).v();\r\n                    return this.lightOn();\r\n                }).then(() => stars.p(new G.Delay(2000)))\r\n                .then(() => this.lightOff())\r\n                .then(() => {\r\n                    stars.h(0);\r\n                    return this._r;\r\n                });\r\n        }\r\n\r\n        /**\r\n         * 播放背景音乐。\r\n         */\r\n        public playBGM(resource?: Resource.Resource<string>): Promise<Core.IRuntime> {\r\n            var oops: string = this._i['s'].l(),\r\n                url: string = resource ? resource.l() : oops,\r\n                bgm: HTMLAudioElement = this._s['b'],\r\n                volume: number = bgm.volume,\r\n                change: () => Promise<Core.IRuntime> = () => {\r\n                    bgm.volume = volume;\r\n                    if (bgm.src != url)\r\n                        bgm.src = url;\r\n                    return super.playBGM(resource);\r\n                };\r\n            if (!resource)\r\n                bgm.play();\r\n            if (bgm.src && bgm.src != oops)\r\n                return new G.AudioFadeOut(1500).p(bgm).then(change);\r\n            return change();\r\n        }\r\n\r\n        /**\r\n         * 播放音效。\r\n         */\r\n        public playSE(resource?: Resource.Resource<string>): Promise<Core.IRuntime> {\r\n            var url: string = (resource || this._i['s']).l(),\r\n                se: HTMLAudioElement = this._s['e'],\r\n                type: string = 'ended',\r\n                resume: () => void = () => {\r\n                    se.removeEventListener(type, resume);\r\n                    this._s['b'].play();\r\n                };\r\n            se.addEventListener(type, resume);\r\n            se.src = url;\r\n            if (!resource)\r\n                this._s['e'].play();\r\n            return super.playSE(resource);\r\n        }\r\n\r\n        /**\r\n         * 关闭特写。\r\n         */\r\n        public hideCG(): Promise<Core.IRuntime> {\r\n            return super.hideCG().then((runtime: Core.IRuntime) => {\r\n                let gCG: Sprite.CG = <Sprite.CG> this._x['G'],\r\n                    gChars: G.Element = this._c.q('c')[0];\r\n                return Promise.all([\r\n                    gChars.p(new G.FadeIn(500)),\r\n                    gCG.h()\r\n                ]).then(() => {\r\n                    if (!this._r.gS().g('$c'))\r\n                        gChars.o(0);\r\n                    return runtime;\r\n                });\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 展示特写。\r\n         */\r\n        public showCG(resource: Resource.Resource<HTMLImageElement>): Promise<Core.IRuntime> {\r\n            return super.showCG(resource).then((runtime: Core.IRuntime) => {\r\n                var gChars: G.Element = this._c.q('c')[0],\r\n                    gCG: Sprite.CG = <Sprite.CG> this._x['G'];\r\n                return this.lightOn()\r\n                    .then(() => {\r\n                        return Promise.all([\r\n                            gChars.p(new G.FadeOut(500)),\r\n                            gCG.u(resource).v()\r\n                        ]).then(() => gCG.p(this._h = new G.WaitForClick()));\r\n                    }).then(() => runtime);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 设置房间。\r\n         */\r\n        public asRoom(resource: Resource.Resource<HTMLImageElement>, time: boolean = false, map: boolean = false): Promise<Core.IRuntime> {\r\n            return super.asRoom(resource)\r\n                .then((runtime: Core.IRuntime) => {   // 强制复位\r\n                    var camera: string = <string> runtime.gS().g('.z'),\r\n                        strArr: Array <string>,\r\n                        mx: number,\r\n                        my: number;\r\n                    if (!camera)\r\n                        return runtime;\r\n                    strArr = camera.split(',');\r\n                    mx = parseFloat(strArr[0]);\r\n                    my = parseFloat(strArr[1]);\r\n                    return this.cameraZoom(mx, my, 20, -1);\r\n                }).then((runtime: Core.IRuntime) => {    // 进入房间特效\r\n                    runtime.gS().d('.z');\r\n                    runtime.gS().d('_z');\r\n                    var gOld: G.Element = this._c.q('b')[0],\r\n                        gNew: G.Element = new G.Image(resource.o(), CanvasDirector.BOUNDS).i('b')\r\n                            .o(0);\r\n                    this._c.a(gNew, 'M');\r\n                    if (time) {\r\n                        return gNew.p(new G.FadeIn(1000)).then(() => {\r\n                            this._c.e(gOld);\r\n                            return runtime;\r\n                        });\r\n                    }\r\n                    if (!this._ca || map) {\r\n                        return this.lightOn().then(() => {\r\n                            this._c.e(gOld);\r\n                            gNew.o(1);\r\n                            return runtime;\r\n                        });\r\n                    }\r\n\r\n                    return this.$ca(gOld, gNew);\r\n                });\r\n        }\r\n\r\n        /**\r\n         * 进入房间特效。\r\n         */\r\n        protected $ca(gOld: G.Element, gNew: G.Element): Promise<Core.IRuntime> {\r\n            let gCurtain: Sprite.Curtain = this._x['c'],\r\n                curtain: G.Animation;\r\n            switch (this._ca) {\r\n                case 'Fade':\r\n                    return gCurtain.v(1500)\r\n                        .then(() => {\r\n                            gOld.o(0);\r\n                            gCurtain.h(20);\r\n                        }).then(() =>\r\n                            gNew.p(new G.FadeIn(1500))\r\n                        ).then(() => {\r\n                            this._c.e(gOld);\r\n                            return this._r;\r\n                        });\r\n                case 'ShutterH':\r\n                    curtain = new G.Shutter(1000, { direction: 'H' });\r\n                    break;\r\n                case 'ShutterV':\r\n                    curtain = new G.Shutter(1000, { direction: 'V' });\r\n                    break;\r\n                default:\r\n                    curtain = new G.FadeIn(20);\r\n                    break;\r\n            }\r\n            return this.lightOn()\r\n                .then(() =>\r\n                    gNew.p(curtain)\r\n                ).then(() => {\r\n                    this._c.e(gOld);\r\n                    gNew.o(1);\r\n                    return this._r;\r\n                });\r\n        }\r\n\r\n        /**\r\n         * 设置地图。\r\n         */\r\n        public asMap(points: Util.IHashTable<Core.IPointTag>): Promise<Core.IRuntime> {\r\n            var gMap: G.Sprite = <G.Sprite> this._c.q('M')[0],\r\n                gPoints: [number, G.Button][] = [],\r\n                bounds: G.IBounds = CanvasDirector.BOUNDS,\r\n                gPoint: G.Button,\r\n                z: number,\r\n                added: boolean;\r\n            Util.each(points, (point: Core.IPointTag) => {\r\n                z = point.gZ();\r\n                gPoint = <G.Button> new G.Button(point.gX(), point.gY(), point.gW(), point.gH())\r\n                    .b(() => {\r\n                        this.playSE(this._i['c']);\r\n                        point.p(this._r);\r\n                    }, new G.Image(point.o().o(), bounds, true))\r\n                    .addEventListener('$focus', () => {\r\n                        this.playSE(this._i['f']);\r\n                    });\r\n                added = Util.some(gPoints, (item: [number, G.Button], index: number) => {\r\n                    if (z >= item[0])\r\n                        return false;\r\n                    gPoints.splice(index, 0, [z, gPoint]);\r\n                    return true;\r\n                });\r\n                if (!added)\r\n                    gPoints.push([z, gPoint]);\r\n            });\r\n            gMap.c()\r\n                .o(1);\r\n            Util.each(gPoints, (item: [number, G.Button]) => {\r\n                gMap.a(item[1]);\r\n            });\r\n            return this._p;\r\n        }\r\n\r\n        /**\r\n         * 关灯（落幕）。\r\n         */\r\n        public lightOff(): Promise<Core.IRuntime> {\r\n            return this._x['c'].v().then(() => this._r);\r\n        }\r\n\r\n        /**\r\n         * 开灯（开幕）。\r\n         */\r\n        public lightOn(): Promise<Core.IRuntime> {\r\n            return this._x['c'].h().then(() => this._r);\r\n        }\r\n\r\n        /**\r\n         * 选择。\r\n         */\r\n        public choose(options: Core.IOptionTag[]): Promise<Core.IRuntime> {\r\n            return new Promise((resolve: (data: Core.IRuntime) => void, reject: (reason?: any) => void) => {\r\n                this._q = () => {\r\n                    E.doHalt<Core.IRuntime>()['catch']((error: any) => {\r\n                        reject(error);\r\n                    });\r\n                };\r\n                let gChoose: Sprite.Choose = <Sprite.Choose> this._x['C'],\r\n                    event: string = 'choose',\r\n                    handler: () => void = () => {\r\n                        if (this._pc) {\r\n                            let option: Tag.Option = this._pc,\r\n                                amount: number = option.gA() ? 0 : option.gM();\r\n                            if (!amount) {\r\n                                option.p(this._r);\r\n                                gChoose.removeEventListener(event, handler);\r\n                                gChoose.h().then(() => {\r\n                                    resolve(this._r);\r\n                                });\r\n                                this._pc = undefined;\r\n                            } else {\r\n                                let states: Core.IStates = this._r.gS(),\r\n                                    id: string = option.gI(),\r\n                                    fail: () => void = () => { return; },\r\n                                    suc: () => void = () => {\r\n                                        option.p(this._r);\r\n                                        states.ep(id, amount);\r\n                                        gChoose.removeEventListener(event, handler);\r\n                                        gChoose.h().then(() => {\r\n                                            resolve(this._r);\r\n                                        });\r\n                                        this._pc = undefined;\r\n                                    };\r\n                                this._r.dispatchEvent(new Ev.Pay({\r\n                                    target: states,\r\n                                    amount: amount,\r\n                                    id: id,\r\n                                    suc: suc,\r\n                                    fail: fail\r\n                                }));\r\n                            }\r\n                        }\r\n                    };\r\n                gChoose.u(options).addEventListener(event, handler);\r\n                this.lightOn()\r\n                    .then(() => gChoose.v());\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 重置状态。\r\n         */\r\n        public reset(): Promise<Core.IRuntime> {\r\n            return super.reset().then((runtime: Core.IRuntime) => {\r\n                var gBack: G.Element = this._c.q('b')[0],\r\n                    gColor: G.Color = new G.Color(CanvasDirector.BOUNDS, '#000');\r\n                // 需要先删除旧选择再添加新选择，否则在选择处读档时，时序流中断(因为未删除监听事件)\r\n                this._c.e(this._x['C']);\r\n                this._x['C'] = <Sprite.Choose> new Sprite.Choose('', this._pt['choose'])\r\n                    .addEventListener('choose', (ev: Ev.Choose) => {\r\n                        this._pc = <Tag.Option> ev.choice;\r\n                    });\r\n                this._c.a(this._x['C'], this._x['t']);\r\n                this._c.a(gColor, gBack)\r\n                    .e(gBack);\r\n                gColor.i('b');\r\n                (<G.Sprite> this._c.q('M')[0]).c();\r\n                (<G.Sprite> this._c.q('c')[0]).c()\r\n                    .o(0);\r\n                this._pc = undefined;\r\n                this._x['G'].h(0);\r\n                this._x['W'].h(0);\r\n                this._x['T'].h(0);\r\n                this._x['C'].h(0);\r\n                return runtime;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * （读档继续时）设置特写。\r\n         */\r\n        public setCG(resource: Resource.Resource<HTMLImageElement>): Promise<Core.IRuntime> {\r\n            return super.setCG(resource).then((runtime: Core.IRuntime) => {\r\n                (<Sprite.CG> this._x['G']).u(resource).v(0);\r\n                return runtime;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 停顿。\r\n         */\r\n        public pause(milsec: number): Promise<Core.IRuntime> {\r\n            if (milsec) {\r\n                return this._c.p(new G.Delay(milsec)).then(() => {\r\n                    return super.pause(milsec);\r\n                });\r\n            } else {\r\n                // 建立临时透明层，使得可以响应WaitForClick事件。\r\n                let sPause: G.Sprite = new G.Sprite(CanvasDirector.BOUNDS, false);\r\n                this._c.a(sPause.i('P').o(1));\r\n                return sPause.p(new G.WaitForClick()).then(() => {\r\n                    this._c.e(sPause);\r\n                    return super.pause(milsec);\r\n                });\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 切幕动画。\r\n         */\r\n        public curtain(name: string): Promise<Core.IRuntime> {\r\n            this._ca = name;\r\n            return super.curtain(name);\r\n        }\r\n\r\n        /**\r\n         * 移动镜头。\r\n         */\r\n        public cameraMove(mx: number, my: number, ms: number): Promise<Core.IRuntime> {\r\n            var gRoom: G.Image = <G.Image> this._c.q('b')[0],\r\n                x: number = Math.round(mx * (1 - 5 / 3) * 1280),\r\n                y: number = Math.round(my * (1 - 5 / 3) * 720);\r\n            if (!gRoom) return this._p;\r\n            let sClick: G.Sprite = new G.Sprite(CanvasDirector.BOUNDS, false);  // 建立临时透明层，使得可以响应WaitForClick事件。\r\n            this._c.a(sClick.i('P').o(1));\r\n            return new Promise((resolve: (runtime: Core.IRuntime) => void) => {\r\n                let aMove: G.Move = new G.Move(ms, { x: x, y: y }),\r\n                    aWFC: G.WaitForClick = new G.WaitForClick(() => {\r\n                        aMove.h();\r\n                    });\r\n                this._t = this._h = aWFC;\r\n                Promise.race<any>([\r\n                    gRoom.p(aMove).then(() => {\r\n                        aWFC.h();\r\n                    }),\r\n                    sClick.p(aWFC)\r\n                ]).then(() => {\r\n                    this._c.e(sClick);\r\n                    this._t = this._h = undefined;\r\n                    aMove.h();\r\n                    gRoom.x(x).y(y);\r\n                    resolve(this._r);\r\n                });\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 放大/缩小镜头。\r\n         */\r\n        public cameraZoom(mx: number, my: number, ms: number, scale: number): Promise<Core.IRuntime> {\r\n            var gRoom: G.Image = <G.Image> this._c.q('b')[0],\r\n                bound: G.IBounds = gRoom.gB();\r\n            if (!gRoom) return this._p;\r\n            let sClick: G.Sprite = new G.Sprite(CanvasDirector.BOUNDS, false);  // 建立临时透明层，使得可以响应WaitForClick事件。\r\n            this._c.a(sClick.i('P').o(1));\r\n            return new Promise((resolve: (runtime: Core.IRuntime) => void) => {\r\n                let aZoom: G.Zoom = new G.Zoom(ms, { mx: mx, my: my, scale: scale }),\r\n                    aWFC: G.WaitForClick = new G.WaitForClick(() => {\r\n                        aZoom.h();\r\n                    });\r\n                this._t = this._h = aWFC;\r\n                Promise.race<any>([\r\n                    gRoom.p(aZoom).then(() => {\r\n                        aWFC.h();\r\n                    }),\r\n                    sClick.p(aWFC)\r\n                ]).then(() => {\r\n                    this._c.e(sClick);\r\n                    this._t = this._h = undefined;\r\n                    aZoom.h();\r\n                    let px: number = scale * (5 / 3 - 1) * 1280,\r\n                        py: number = scale * (5 / 3 - 1) * 720;\r\n                    gRoom.x(Math.round(bound.x - mx * px))\r\n                        .y(Math.round(bound.y - my * py))\r\n                        .sW(Math.round(bound.w + px))\r\n                        .sH(Math.round(bound.h + py));\r\n                    resolve(this._r);\r\n                });\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 抖动镜头。\r\n         */\r\n        public cameraShake(): Promise<Core.IRuntime> {\r\n            var gRoom: G.Image = <G.Image> this._c.q('b')[0];\r\n            return gRoom.p(new G.Shake(500))\r\n                .then(() => super.cameraShake());\r\n        }\r\n\r\n        /**\r\n         * 使用主题。\r\n         */\r\n        public t(id: string, theme: Util.IHashTable<Util.IHashTable<any>>): CanvasDirector {\r\n            let resources: Resource.Resource<string | HTMLImageElement>[][] = [],\r\n                gCurtain: Sprite.Curtain = this._x['c'],\r\n                slotsFromStart: boolean = false;\r\n            this._pt = theme;\r\n            // 特写。\r\n            this._c.a(this._x['G'] = <Sprite.CG> new Sprite.CG(theme['cg']), gCurtain);\r\n            // 状态。\r\n            this._x['S'] = <Sprite.Status> new Sprite.Status(id, theme['status']);\r\n            resources.unshift(this._x['S'].l());\r\n            this._c.a(this._x['S'], gCurtain);\r\n            // 某白。\r\n            this._x['W'] = <Sprite.Words> new Sprite.Words(id, theme['voiceover'], theme['monolog'], theme['speak'])\r\n                .addEventListener('words.animation', (ev: Ev.WordsAnimation) => {\r\n                    this._t = this._h = ev.animation;\r\n                });\r\n            resources.unshift(this._x['W'].l());\r\n            this._c.a(this._x['W'], gCurtain);\r\n            // 选择。\r\n            this._x['C'] = <Sprite.Choose> new Sprite.Choose(id, theme['choose']);\r\n            resources.unshift(this._x['C'].l());\r\n            this._c.a(this._x['C'], gCurtain);\r\n            // 常驻按钮。\r\n            this._x['t'] = <Sprite.Tray> new Sprite.Tray(id, theme['tray'])\r\n                .addEventListener('tray.menu', () => {\r\n                    this._x['m'].v();\r\n                    this._x['t'].h();\r\n                }).addEventListener('tray.panel', () => {\r\n                    this._x['P'].v();\r\n                    this._x['t'].h();\r\n                });\r\n            resources.unshift(this._x['t'].l());\r\n            this._c.a(this._x['t'], gCurtain);\r\n            // 提示。\r\n            this._x['T'] = <Sprite.Tip> new Sprite.Tip(id, theme['tip']);\r\n            resources.unshift(this._x['T'].l());\r\n            this._c.a(this._x['T'], gCurtain);\r\n            // 面板。\r\n            this._x['P'] = <Sprite.Panel> new Sprite.Panel(id, theme['panel'])\r\n                .addEventListener('panel.close', () => {\r\n                    this._x['t'].v();\r\n                    this._x['P'].h();\r\n                });\r\n            resources.unshift(this._x['P'].l());\r\n            this._c.a(this._x['P'], gCurtain);\r\n            // 功能菜单。\r\n            this._x['m'] = <Sprite.Menu> new Sprite.Menu(id, theme['menu'])\r\n                .addEventListener('menu.close', () => {\r\n                    this._x['t'].v();\r\n                    this._x['m'].h();\r\n                }).addEventListener('menu.save', () => {\r\n                    slotsFromStart = false;\r\n                    (<Sprite.Slots> this._x['sl']).vs(this._r.gS())\r\n                        .then(() => {\r\n                            this._x['m'].h();\r\n                        })['catch'](() => {\r\n                            return;\r\n                        });\r\n                }).addEventListener('menu.load', () => {\r\n                    slotsFromStart = false;\r\n                    (<Sprite.Slots> this._x['sl']).vl(this._r.gS())\r\n                        .then(() => {\r\n                            this._x['m'].h();\r\n                        })['catch'](() => {\r\n                            return;\r\n                        });\r\n                }).addEventListener('menu.set', () => {\r\n                    slotsFromStart = false;\r\n                    (<Sprite.Set> this._x['st']).vv(this._s['b'].volume, this._s['e'].volume, this._vo)\r\n                        .then(() => {\r\n                            this._x['m'].h();\r\n                        })['catch'](() => {\r\n                            return;\r\n                        });\r\n                });\r\n            resources.unshift(this._x['m'].l());\r\n            this._c.a(this._x['m'], gCurtain);\r\n            // 开始菜单。\r\n            this._x['s'] = <Sprite.Start> new Sprite.Start(id, theme['start'])\r\n                .addEventListener('start.new', (event: Ev.StartNew) => {\r\n                    this.playSE(this._i['c']);\r\n                    this.lightOff().then(() => {\r\n                        event.target.h(0);\r\n                        this._r.dispatchEvent(new Ev.Begin({ target: this._r.gE() }));\r\n                    });\r\n                }).addEventListener('start.series', (event: Ev.StartSeries) => {\r\n                    slotsFromStart = true;\r\n                    this.playSE(this._i['c']);\r\n                    (<Sprite.SeriesSlots> this._x['ss']).vl(this._r.gS());\r\n                }).addEventListener('start.load', (event: Ev.StartLoad) => {\r\n                    slotsFromStart = true;\r\n                    this.playSE(this._i['c']);\r\n                    (<Sprite.Slots> this._x['sl']).vl(this._r.gS())\r\n                        ['catch'](() => {\r\n                            return;\r\n                        });\r\n                });\r\n            resources.unshift(this._x['s'].l());\r\n            this._c.a(this._x['s'], gCurtain);\r\n            // 档位菜单。\r\n            this._x['sl'] = <Sprite.Slots> new Sprite.Slots(id, theme['slots'])\r\n                .addEventListener('slots.close', () => {\r\n                    this._x[slotsFromStart ? 's' : 'm'].v();\r\n                    this._x['sl'].h();\r\n                }).addEventListener('slots.save', () => {\r\n                    this._x[slotsFromStart ? 's' : 'm'].v();\r\n                    this._x['sl'].h();\r\n                    this._r.gS().e(true);\r\n                }).addEventListener('slots.load', (ev: Ev.SlotsLoad) => {\r\n                    this.lightOff().then(() => {\r\n                        this._x['sl'].h(0);\r\n                        this._x['s'].h(0);\r\n                        if (!this._a)\r\n                            this._x['t'].v(0);\r\n                        this._r.l(ev.id);\r\n                    });\r\n                });\r\n            resources.push(this._x['sl'].l());\r\n            this._c.a(this._x['sl'], gCurtain);\r\n            // 连载档位菜单。\r\n            this._x['ss'] = <Sprite.SeriesSlots> new Sprite.SeriesSlots(id, theme['series'])\r\n                .addEventListener('slots.close', () => {\r\n                    if (!slotsFromStart)\r\n                        this._r.gS().e(false, true);\r\n                    slotsFromStart = false;\r\n                    this._x['ss'].h();\r\n                }).addEventListener('slots.save', () => {\r\n                    this._x['ss'].h();\r\n                    this._r.gS().e(true, true);\r\n                }).addEventListener('slots.load', (ev: Ev.SlotsLoad) => {\r\n                    slotsFromStart = false;\r\n                    this.lightOff().then(() => {\r\n                        this._x['ss'].h(0);\r\n                        this._x['s'].h(0);\r\n                        if (!this._a)\r\n                            this._x['t'].v(0);\r\n                        this._r.l(ev.id);\r\n                    });\r\n                });\r\n            resources.push(this._x['ss'].l());\r\n            this._c.a(this._x['ss'], gCurtain);\r\n            // 设置菜单。\r\n            this._x['st'] = <Sprite.Set> new Sprite.Set(id, theme['set'])\r\n                .addEventListener('set.close', () => {\r\n                    this._x[slotsFromStart ? 's' : 'm'].v();\r\n                    this._x['st'].h();\r\n                }).addEventListener('set.volume', (ev: Ev.SetVolume) => {\r\n                    this._s['b'].volume = ev.bVolume * 0.01;\r\n                    this._s['e'].volume = ev.eVolume * 0.01;\r\n                });\r\n            resources.push(this._x['st'].l());\r\n            this._c.a(this._x['st'], gCurtain);\r\n\r\n            // 保存评分配置\r\n            this._c.a(this._x['sr'] = <Sprite.Stars> new Sprite.Stars(theme['stars']), gCurtain);\r\n            resources.push(this._x['sr'].l());\r\n\r\n            // 作者\r\n            this._c.a(this._x['a'] = new Sprite.Author(theme['author']), gCurtain);\r\n\r\n            this.c(resources);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 配置状态。\r\n         */\r\n        public s(sheet: [string, string][]): CanvasDirector {\r\n            if (sheet.length)\r\n                (<Sprite.Status> this._x['S']).u(sheet, this._r);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 配置面板。\r\n         */\r\n        public p(sheet: Array<Util.IHashTable<any>>): CanvasDirector {\r\n            if (sheet && sheet.length > 0) {\r\n                (<Sprite.Panel> this._x['P']).u(sheet, this._r);\r\n            } else\r\n                (<Sprite.Tray> this._x['t']).u(false);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 设置自动播放。\r\n         */\r\n        public a(auto: boolean): boolean {\r\n            let tray: Sprite.Sprite = this._x['t'];\r\n            if (tray) {\r\n                tray[auto ? 'h' : 'v']();\r\n                if (auto) {\r\n                    this._x['m'].h();\r\n                    this._x['P'].h();\r\n                }\r\n            }\r\n            if (this._t) {\r\n                this._t.h();\r\n                this._t = undefined;\r\n            }\r\n            return super.a(auto);\r\n        }\r\n\r\n        /**\r\n         * 设置音量。\r\n         */\r\n        public v(volume: number): CanvasDirector {\r\n            this._s['b'].volume = volume;\r\n            this._s['e'].volume = volume;\r\n            this._vo = volume == 1;\r\n            let set: Sprite.Set = <Sprite.Set> this._x['st'];\r\n            if (set.gO() > 0) set.vv(volume, volume, this._vo);\r\n            return <CanvasDirector> super.v(volume);\r\n        }\r\n\r\n        /**\r\n         * 修正 DOM 定位。\r\n         */\r\n        public f(): void {\r\n            var work: HTMLElement = <HTMLElement> document.querySelectorAll('.bg-work')[0],\r\n                canvas: HTMLElement = <HTMLElement> work.firstChild,\r\n                w0: number = work.offsetWidth,\r\n                h0: number = work.offsetHeight,\r\n                w: number = (h0 * 16 / 9) | 0,\r\n                h: number = h0,\r\n                l: number = 0,\r\n                t: number = 0;\r\n            if (w > w0) {\r\n                w = w0;\r\n                h = (w0 * 9 / 16) | 0;\r\n                t = ((h0 - h) / 2) | 0;\r\n            } else if (w < w0)\r\n                l = ((w0 - w) / 2) | 0;\r\n            canvas.style.width = w + 'px';\r\n            canvas.style.marginLeft = l + 'px';\r\n            canvas.style.height = h + 'px';\r\n            canvas.style.marginTop = t + 'px';\r\n            this._c.z();\r\n    }\r\n\r\n        /**\r\n         * 自我销毁。\r\n         */\r\n        public d(): void {\r\n            this._c.h();\r\n            this._c = undefined;\r\n            this._s['b'].pause();\r\n            this._s['e'].pause();\r\n            this._s = {};\r\n            window.removeEventListener('keydown', this._l);\r\n        }\r\n\r\n        /**\r\n         * 取消阻塞。\r\n         */\r\n        public h(): void {\r\n            if (this._h) {\r\n                this._h.h();\r\n                this._h = undefined;\r\n            }\r\n            if (this._q) {\r\n                this._x['C'].c().o(0);\r\n                this._q();\r\n                this._q = undefined;\r\n            }\r\n            this.playBGM();\r\n            this.playSE();\r\n        }\r\n\r\n        /**\r\n         * 绑定视图。\r\n         */\r\n        public b(viewport: HTMLElement): CanvasDirector {\r\n            this._c.b(viewport);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 连载模式。\r\n         */\r\n        public e(type: Core.IRuntime.Series): CanvasDirector {\r\n            this._fs = type;\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）场效调度器工厂组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Runtime/_Director/DirectorFactory.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"NodeDirector.ts\" />\r\n/// <reference path=\"CanvasDirector.ts\" />\r\n\r\nnamespace Runtime {\r\n    import Util = __Bigine_Util;\r\n\r\n    export namespace DirectorFactory {\r\n        export function c(runtime: Core.IRuntime): Director {\r\n            var env: Util.IEnvType = Util.ENV;\r\n            if (!env.Window)\r\n                return new NodeDirector(runtime);\r\n            if (!env.Canvas)\r\n                throw new E(E.SUPPORT_NO_CANVAS);\r\n            return new CanvasDirector(runtime);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）继续游戏事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IResumeMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Runtime/IEpisode.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IResumeMetas extends Util.IEventMetas<Core.IEpisode> {\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）继续游戏事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Resume.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IResumeMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class Resume extends Event<Core.IEpisode> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IResumeMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'resume';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）读档事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/ILoadMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../Core/_Runtime/IStates.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface ILoadMetas extends Util.IEventMetas<Core.IStates> {\r\n        /**\r\n         * 数据导入回调函数。\r\n         */\r\n        callback: (data: Util.IHashTable<any>) => void;\r\n\r\n        /**\r\n         * 存档编号。\r\n         */\r\n        id: string;\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）读档事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Load.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"ILoadMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Load extends Event<Core.IStates> {\r\n        /**\r\n         * 数据导入回调函数。\r\n         */\r\n        public callback: (data: Util.IHashTable<any>) => void;\r\n\r\n        /**\r\n         * 存档编号。\r\n         */\r\n        public id: string;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: ILoadMetas) {\r\n            super(metas);\r\n            this.callback = metas.callback;\r\n            this.id = metas.id;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'load';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）剧情事件播报事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/ISceneMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Tag/ISceneTag.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface ISceneMetas extends Util.IEventMetas<Core.ISceneTag> {\r\n        /**\r\n         * 标题。\r\n         */\r\n        title: string;\r\n\r\n        /**\r\n         * 动作编号集合。\r\n         */\r\n        actions: string[];\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）剧情事件播报事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Scene.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"ISceneMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class Scene extends Event<Core.ISceneTag> {\r\n        /**\r\n         * 编号。\r\n         */\r\n        public id: string;\r\n\r\n        /**\r\n         * 标题。\r\n         */\r\n        public title: string;\r\n\r\n        /**\r\n         * 动作编号集合。\r\n         */\r\n        public actions: string[];\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: ISceneMetas) {\r\n            super(metas);\r\n            this.id = metas.target.gI();\r\n            this.title = metas.title;\r\n            this.actions = metas.actions;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'scene';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）关键帧播报事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IActionMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Tag/IIdableTag.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IActionMetas extends Util.IEventMetas<Core.IIdableTag> {\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）关键帧播报事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Action.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IActionMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class Action extends Event<Core.IIdableTag> {\r\n        /**\r\n         * 编号。\r\n         */\r\n        public id: string;\r\n\r\n        /**\r\n         * 类型。\r\n         */\r\n        public kind: string;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IActionMetas) {\r\n            super(metas);\r\n            this.id = metas.target.gI();\r\n            this.kind = metas.target.gN().toLowerCase();\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'action';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义语法规约。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_schema.ts\r\n */\r\n\r\nnamespace Tag {\r\n    /**\r\n     * 类到标签映射。\r\n     */\r\n    export var T: { [name: string]: string } = {\r\n        Unknown: 'UNKNOWN',\r\n        Root: 'ROOT',\r\n\r\n        DefBGM: '音乐',\r\n        Audio: '音源',\r\n        Image: '画面',\r\n        DefCG: '特写',\r\n        DefChar: '人物',\r\n        Avatar: '头像',\r\n        Poses: '姿态',\r\n        DefMap: '地图',\r\n        BGImage: '底图',\r\n        Point: '交互点',\r\n        HLImage: '高亮',\r\n        Region: '区域',\r\n        Target: '对应房间',\r\n        DefRoom: '房间',\r\n        Link: '使用地图',\r\n        Times: '时刻',\r\n        DefSE: '音效',\r\n        DefWeather: '天气',\r\n\r\n        Struct: '结构',\r\n        Field: '字段',\r\n        FieldType: '类别',\r\n        FieldLimit: '上限',\r\n\r\n        Auto: '自动播放',\r\n        Player: '主角',\r\n        Resources: '素材包',\r\n        Theme: '主题',\r\n        Status: '状态',\r\n        Panel: '面板',\r\n        SimpPanel: '简单面板',\r\n        SimpEle: '条目',\r\n        EleName: '数据名',\r\n        EleType: '数据类别',\r\n        CollPanel: '集合面板',\r\n        CollSource: '使用集合',\r\n        CollStruct: '集合结构',\r\n\r\n        Scene: '事件',\r\n        Type: '类型',\r\n        Conditions: '条件',\r\n        Content: '内容',\r\n\r\n        CharOn: '人物出场',\r\n        CharOff: '人物离场',\r\n        CharSet: '设置人物',\r\n        CharPose: '改变神态',\r\n        CharMove: '人物移动',\r\n\r\n        CameraSet: '设置镜头',\r\n        CameraZoom: '放大镜头',\r\n        CameraReset: '复位镜头',\r\n        CameraMove: '移动镜头',\r\n        CameraShake: '抖动镜头',\r\n\r\n        Monolog: '独白',\r\n        Speak: '对白',\r\n        Tip: '提示',\r\n        VoiceOver: '旁白',\r\n\r\n        Save: '自动存档',\r\n        End: '游戏完结',\r\n        Fail: '游戏失败',\r\n        Stars: '评分',\r\n\r\n        PlayBGM: '播放音乐',\r\n        HideCG: '关闭特写',\r\n        ShowCG: '展示特写',\r\n        AsRoom: '设置房间',\r\n        Freeze: '移动中止',\r\n        AsTime: '设置时间',\r\n        Enter: '进入房间',\r\n        PlaySE: '播放音效',\r\n        Weather: '设置天气',\r\n        StopBGM: '停止音乐',\r\n        Pause: '停顿',\r\n        Curtains: '切幕动画',\r\n\r\n        Assert: '当数据',\r\n        Assign: '设置数据',\r\n        Compare: '对比数据',\r\n        Increase: '增加数据',\r\n        LoopBreak: '循环中止',\r\n        Maximum: '最大数据',\r\n        Minimum: '最小数据',\r\n        Choose: '选择',\r\n        Random: '随机数据',\r\n        IfTime: '当时间',\r\n        Copy: '复制数据',\r\n        Add: '数据合值',\r\n        Subtract: '数据差值',\r\n        Product: '数据倍值',\r\n        Define: '定义数据',\r\n        Collection: '定义集合',\r\n        CollPop: '删除元素',\r\n        CollPush: '增加元素',\r\n        Donate: '打赏',\r\n\r\n        DefOptions: '定义选择',\r\n        AddOption: '添加选项',\r\n        DropOption: '去除选项',\r\n        Option: '选项',\r\n\r\n        And: '且',\r\n        Or: '或',\r\n        Otherwise: '否则',\r\n        Then: '那么',\r\n        When: '如果',\r\n        Loop: '循环',\r\n        WhenVar: '如果数据'\r\n    };\r\n\r\n    /**\r\n     * 语法规则。\r\n     *\r\n     * {\r\n     *     [index: number]: {\r\n     *         name: string,\r\n     *         params: number[], // [最小量, 最大量]\r\n     *         content: number // -1 禁止，0 可选，1 必须,\r\n     *         children: {\r\n     *             [index: number]: number[] // [最小量, 最大量]\r\n     *         }\r\n     *     }\r\n     * }\r\n     */\r\n    export var S: { [index: number]: any[] } = { // next 100\r\n        '-1': ['Root', 0, -1, {\r\n            54: [0, 1],\r\n            55: [0, 1],\r\n            56: 1,\r\n            57: 1,\r\n            73: [0, 1],\r\n            74: [0, 1],\r\n            76: [0],\r\n            49: [1],\r\n            33: [0],\r\n            34: [0],\r\n            35: [0],\r\n            38: [0],\r\n            44: [0],\r\n            47: [0],\r\n            48: [0]\r\n        }],\r\n\r\n        54: ['Auto', 0, -1],\r\n        55: ['Player', 0, 1], // 人物名\r\n        56: ['Resources', 0, 1], // 素材包名\r\n        57: ['Theme', 0, 1], // 主题名\r\n        73: ['Status', 0, -1, {\r\n            53: [0, 6]\r\n        }],\r\n        74: ['Panel', 0, -1, {\r\n            84: [0],\r\n            88: [0]\r\n        }],\r\n        84: ['SimpPanel', 0, 1, { // 面板名\r\n            85: [1]\r\n        }],\r\n        85: ['SimpEle', 0, 1, { // 条目名\r\n            86: 1,\r\n            87: [0, 1]\r\n        }],\r\n        86: ['EleName', 0, 1], // 数据名\r\n        87: ['EleType', 0, 1], // 数据类别\r\n        88: ['CollPanel', 0, 1, { // 面板名\r\n            89: 1,\r\n            90: 1\r\n        }],\r\n        89: ['CollSource', 0, 1], // 集合名\r\n        90: ['CollStruct', 0, 1], // 结构名\r\n\r\n        49: ['Scene', 0, 1, { // 名称\r\n            50: 1,\r\n            51: [0, 1],\r\n            52: 1\r\n        }],\r\n        50: ['Type', 0, 1], // 类型\r\n        51: ['Conditions', 0, -1, {\r\n            '-1': [0]\r\n        }],\r\n        52: ['Content', 0, -1, {\r\n            '-1': [1]\r\n        }],\r\n\r\n        33: ['DefBGM', 0, 1, { // 名称\r\n            32: 1\r\n        }],\r\n        32: ['Audio', 0, 1], // 资源编号\r\n\r\n        34: ['DefCG', 0, 1, { // 名称\r\n            31: 1\r\n        }],\r\n        31: ['Image', 0, 1], // 资源编号\r\n\r\n        35: ['DefChar', [0, 1], 1, { // [原型人物名?], 名称\r\n            36: [0, 1],\r\n            37: [0, 1]\r\n        }],\r\n        36: ['Avatar', 0, 1], // 素材编号\r\n        37: ['Poses', 0, -1, {\r\n            53: [0]\r\n        }],\r\n\r\n        38: ['DefMap', [0, 1], 1, { // [原型地图名?], 名称\r\n            39: [0, 1],\r\n            40: [1]\r\n        }],\r\n        39: ['BGImage', 0, 1], // 素材编号\r\n        40: ['Point', [0, 1], 1, { // [原型交互点名?], 名称\r\n            41: [0, 1],\r\n            42: [0, 1],\r\n            43: [0, 1]\r\n        }],\r\n        41: ['HLImage', 0, 1], // 素材编号\r\n        42: ['Region', 0, 1], // 上边距, 右边距, 下边距, 左边距, 深高?\r\n        43: ['Target', 0, 1], // 房间名\r\n\r\n        44: ['DefRoom', 0, 1, { // 名称\r\n            45: [0, 1],\r\n            46: [0, 1]\r\n        }],\r\n        45: ['Link', 0, 1], // 地图名\r\n        46: ['Times', 0, -1, {\r\n            53: [1]\r\n        }],\r\n\r\n        47: ['DefSE', 0, 1, { // 名称\r\n            32: 1\r\n        }],\r\n\r\n        48: ['DefWeather', 0, 1], // 名称\r\n\r\n        53: ['Unknown', [1, 2], 0], // [标签名称] 内容\r\n\r\n        0: ['CharOn', [0, 1], 1], // [位置?] 人物名, 姿态?\r\n        1: ['CharOff', 1, -1], // [人物名]\r\n        2: ['CharSet', [0, 1], 1], // [位置?] 人物名, 姿态?\r\n        3: ['CharPose', 1, 1], // [人物名] 姿态\r\n        62: ['CharMove', 1, 1], // [人物] 新位置\r\n        4: ['Monolog', 0, 1], // 文字\r\n        5: ['Speak', [2, 3], 1], // [说话人物名, 对象人物名, 显示名称?] 文字\r\n        6: ['Tip', 0, 1], // 文字\r\n        7: ['VoiceOver', 0, 1], // 文字\r\n        8: ['Save', [0, 1], -1], // [存档标题?]\r\n        9: ['End', 0, -1],\r\n        10: ['Fail', 0, -1],\r\n        11: ['Stars', [1, 2], -1], // [星级, 数据值?]\r\n        12: ['PlayBGM', 1, -1], // [背景音乐名]\r\n        64: ['StopBGM', 0, -1],\r\n        13: ['HideCG', 0, -1],\r\n        14: ['ShowCG', 1, -1], // [特写名]\r\n        15: ['AsRoom', 1, -1], // [房间名]\r\n        16: ['Freeze', 0, -1],\r\n        17: ['AsTime', 1, -1], // [房间时刻名]\r\n        18: ['Enter', 1, -1], // [房间名]\r\n        19: ['PlaySE', 1, -1], // [音效名]\r\n        20: ['Weather', 1, -1], // [天气名]\r\n        91: ['Pause', [0, 1], -1], // [停顿时间：长、中、短]\r\n        92: ['CameraSet', 0, 1],  // 镜头设置的位置\r\n        93: ['CameraReset', [0, 1], -1], // [速度：快、中、慢]\r\n        94: ['CameraZoom', [0, 1], 1],   // [速度：快、中、慢] 镜头放大到的位置\r\n        95: ['CameraMove', [0, 1], 1],   // [速度：快、中、慢] 镜头移动到的位置\r\n        96: ['Curtains', [0, 1], -1], // [切幕动画名称]\r\n        97: ['CameraShake', 0, -1],\r\n\r\n        58: ['Loop', 0, -1, {\r\n            '-1': [1]\r\n        }],\r\n        59: ['LoopBreak', 0, -1],\r\n\r\n        25: ['Choose', [0, 1], 0, { // [变量名] 选项名?\r\n            53: [0],\r\n            99: [0]\r\n        }],\r\n        65: ['DefOptions', 0, 1, { // 选项名\r\n            53: [0],\r\n            99: [0]\r\n        }],\r\n        66: ['AddOption', [2, 3], 0], // [选项名，值，金钱?] 描述?\r\n        67: ['DropOption', 2, -1], // [选项名，值]\r\n        99: ['Option', [1, 2], 0], // [选项名，值] 描述?\r\n\r\n        23: ['Assign', 1, 1], // [变量名] 值\r\n        30: ['Increase', 1, 1], // [变量名] 值\r\n        68: ['Random', 1, -1], // [变量名]\r\n        69: ['IfTime', 1, -1], // [时刻名]\r\n        70: ['Copy', 2, -1], // [变量名, 源变量名]\r\n        71: ['Add', 1, -1, { // [变量名]\r\n            53: [1]\r\n        }],\r\n        72: ['Subtract', 2, -1, { // [变量名, 基数变量名]\r\n            53: [1]\r\n        }],\r\n        75: ['Product', 1, -1, { // [变量名]\r\n            53: [1]\r\n        }],\r\n\r\n        22: ['Assert', [2, 3], -1], // [变量名, 比较值, 操作符?]\r\n        98: ['Donate', 1, -1], // [萝卜币]\r\n        24: ['Compare', 1, -1], // [变量名]\r\n        21: ['And', 0, -1, {\r\n            '-1': [1]\r\n        }],\r\n        26: ['Or', 0, -1, {\r\n            '-1': [1]\r\n        }],\r\n        60: ['Maximum', [0, 1], -1, { // [变量名]\r\n            53: [1]\r\n        }],\r\n        61: ['Minimum', [0, 1], -1, { // [变量名]\r\n            53: [1]\r\n        }],\r\n\r\n        28: ['Then', 0, -1, {\r\n            '-1': [1]\r\n        }],\r\n        29: ['When', 1, -1, { // [比较值]\r\n            '-1': [1]\r\n        }],\r\n        63: ['WhenVar', 1, -1, { // [比较数据]\r\n            '-1': [1]\r\n        }],\r\n        27: ['Otherwise', 0, -1, {\r\n            '-1': [1]\r\n        }],\r\n\r\n        76: ['Struct', 0, 1, { // 命名\r\n            77: [1]\r\n        }],\r\n        77: ['Field', 0, 1, { // 命名\r\n            78: [0, 1],\r\n            79: [0, 1]\r\n        }],\r\n        78: ['FieldType', 0, 1], // 类别值\r\n        79: ['FieldLimit', 0, 1], // 上限值\r\n        80: ['Define', 1, 1, { // [结构名] 数据名\r\n            53: [0]\r\n        }],\r\n        81: ['Collection', 1, 1, { // [结构名] 数据名\r\n            53: [0]\r\n        }],\r\n        82: ['CollPush', 1, 1], // [集合名] 数据名\r\n        83: ['CollPop', 1, 1] // [集合名] 数据名\r\n    };\r\n    var ii: any,\r\n        jj: any;\r\n    for (ii in S)\r\n        if (S.hasOwnProperty(ii)) {\r\n            if (!(S[ii][1] instanceof Array))\r\n                S[ii][1] = [S[ii][1], S[ii][1]];\r\n            if (S[ii][3])\r\n                for (jj in S[ii][3])\r\n                    if (!(S[ii][3][jj] instanceof Array))\r\n                        S[ii][3][jj] = [S[ii][3][jj], S[ii][3][jj]];\r\n        }\r\n\r\n    /**\r\n     * 标签到类映射。\r\n     */\r\n    export var C: { [tag: string]: string } = {\r\n        游戏结束: 'End',\r\n        当线索: 'Assert',\r\n        设置线索: 'Assign',\r\n        对比线索: 'Compare'\r\n    };\r\n    for (ii in T)\r\n        if (T.hasOwnProperty(ii) && !(T[ii] in C))\r\n            C[T[ii]] = ii;\r\n\r\n    /**\r\n     * 标签索引。\r\n     */\r\n    export var I: { [name: string]: number } = {};\r\n    for (ii in S)\r\n        if (S.hasOwnProperty(ii))\r\n            I[S[ii][0]] = ii;\r\n}\r\n","/**\r\n * 定义引擎异常。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      E.ts\r\n */\r\n\r\n/// <reference path=\"../include/tsd.d.ts\" />\r\n\r\nclass E extends Error {\r\n    public static SCHEMA_TAG_NOT_DECLARED: string = '标签尚未声明语法规则';\r\n\r\n    public static SCHEMA_CHILD_NOT_ALLOWED: string = '上级标签不支持此子标签';\r\n\r\n    public static LEX_ILLEGAL_SOURCE: string = '语法格式错误';\r\n\r\n    public static LEX_UNEXPECTED_INDENTATION: string = '缩进深度错误';\r\n\r\n    public static TAG_PARAMS_TOO_FEW: string = '标签参数个数不满足最低要求';\r\n\r\n    public static TAG_PARAMS_TOO_MANY: string = '标签参数个数超过最大限制';\r\n\r\n    public static TAG_PARAMS_NOT_TRUE: string = '标签参数不正确';\r\n\r\n    public static TAG_CONTENT_FORBIDEN: string = '标签不接受内容';\r\n\r\n    public static TAG_CONTENT_REQUIRED: string = '标签内容缺失';\r\n\r\n    public static TAG_CHILDREN_TOO_FEW: string = '子标签数量不满足最低要求';\r\n\r\n    public static TAG_CHILDREN_TOO_MANY: string = '子标签数量超过最大限制';\r\n\r\n    public static DEF_CHAR_AVATAR_NOT_FOUND: string = '头像标签缺失';\r\n\r\n    public static DEF_CHAR_POSES_NOT_FOUND: string = '姿态标签未定义';\r\n\r\n    public static DEF_EPISODE_NOT_REGISTERED: string = '关联实体尚未注册';\r\n\r\n    public static DEF_EPISODE_NOT_BINDED: string = '关联实体尚未绑定';\r\n\r\n    public static DEF_ROOM_EMPTY: string = '使用地图标签和时刻标签均未定义';\r\n\r\n    public static DEF_MAP_REGION_BROKEN: string = '区域定义信息出错';\r\n\r\n    public static DEF_MAP_BGIMAGE_NOT_FOUND: string = '底图标签缺失';\r\n\r\n    public static DEF_MAP_HLIMAGE_NOT_FOUND: string = '高亮图标签缺失';\r\n\r\n    public static DEF_MAP_REGION_NOT_FOUND: string = '区域标签缺失';\r\n\r\n    public static DEF_MAP_TARGET_NOT_FOUND: string = '对应房间标签缺失';\r\n\r\n    public static DEF_MAP_POINT_NOT_FOUND: string = '继承交互点未定义';\r\n\r\n    public static SCENE_TYPE_UNKNOWN: string = '无效的事件类型';\r\n\r\n    public static ROOT_NOT_PARENT: string = '根标签没有父标签';\r\n\r\n    public static ACT_ILLEGAL_POSITION: string = '无效地人物站位';\r\n\r\n    public static ACT_ILLEGAL_CAMERA_MOVE: string = '无效地镜头移动位置';\r\n\r\n    public static ACT_CHAR_NOT_ON: string = '人物并不在场';\r\n\r\n    public static ACT_CHAR_ONSTAGE: string = '人物已在场';\r\n\r\n    public static ACT_ILLEGAL_STARS: string = '无效地评分星级';\r\n\r\n    public static ACT_CG_NOT_SHOWN: string = '并未展示任何特写';\r\n\r\n    public static ACT_CG_ALREADY_SHOWN: string = '正在展示另一特写';\r\n\r\n    public static ACT_ILLEGAL_OP: string = '无效的比较符';\r\n\r\n    public static ACT_OPTION_CAST_FAILURE: string = '无法转化为选项';\r\n\r\n    public static RES_INVALID_URI: string = '无效的资源地址';\r\n\r\n    public static ENV_NOT_AVAILABLE: string = '环境不满足播放条件';\r\n\r\n    public static EP_DUPLICATE_ENTITY: string = '实体编号重复';\r\n\r\n    public static EP_ENTITY_NOT_FOUND: string = '实体不存在';\r\n\r\n    public static EP_THEME_NOT_LOADED: string = '主题数据尚未加载完成';\r\n\r\n    public static G_PARENT_NOT_FOUND: string = '画面父元素未绑定';\r\n\r\n    public static SUPPORT_NO_CANVAS: string = '浏览器不支持 Canvas';\r\n\r\n    public static UTIL_REMOTE_TIMEOUT: string = '远端请求超时';\r\n\r\n    public static OPT_OPTIONS_MISSING: string = '选项声明缺失';\r\n\r\n    public static OPT_OPTIONS_CONFLICT: string = '选项声明冲突';\r\n\r\n    public static COLL_STRUCT_DISMATCHED: string = '数据非指定结构类型';\r\n\r\n    public static STRUCT_FIELD_MISSING: string = '实体字段内容缺失';\r\n\r\n    public static STRUCT_FIELD_TYPE_TOO_MANY: string = '指定类型的字段定义过多';\r\n\r\n    public static STRUCT_FIELD_CANNOT_EMPTY: string = '非空字段未设置数据';\r\n\r\n    /**\r\n     * 信号。\r\n     */\r\n    public signal: E.Signal;\r\n\r\n    /**\r\n     * 构造函数。\r\n     */\r\n    constructor(message: string, lineNo?: number) {\r\n        super();\r\n        if ('captureStackTrace' in Error)\r\n            Error['captureStackTrace'](this, E);\r\n        this.signal = (lineNo in E.Signal) ?\r\n            lineNo :\r\n            E.Signal.OK;\r\n        if (0 < lineNo)\r\n            message = '第 ' + lineNo + ' 行' + message;\r\n        this.name = 'BigineError';\r\n        this.message = message;\r\n    }\r\n\r\n    /**\r\n     * 中断顺序时序流。\r\n     */\r\n    public static doHalt<T>(): Promise<T> {\r\n        return Promise.reject(new E('', E.Signal.HALT));\r\n    }\r\n\r\n    /**\r\n     * 忽略中断信号。\r\n     */\r\n    public static ignoreHalt(error: E): Promise<void> {\r\n        if (E.Signal.HALT == error.signal)\r\n            return Promise.resolve<void>();\r\n        return Promise.reject(error);\r\n    }\r\n\r\n    /**\r\n     * 中断循环时序流。\r\n     */\r\n    public static doBreak<T>(): Promise<T> {\r\n        return Promise.reject(new E('', E.Signal.BREAK));\r\n    }\r\n\r\n    /**\r\n     * 忽略循环中断信号。\r\n     */\r\n    public static ignoreBreak(error: E): Promise<void> {\r\n        if (E.Signal.BREAK == error.signal)\r\n            return Promise.resolve<void>();\r\n        return Promise.reject(error);\r\n    }\r\n}\r\n\r\nnamespace E {\r\n    export enum Signal {\r\n        /**\r\n         * 中断循环。\r\n         */\r\n        BREAK = -99,\r\n        /**\r\n         * 中断时序播放。\r\n         */\r\n        HALT,\r\n        /**\r\n         * 正常。\r\n         */\r\n        OK = 0\r\n    }\r\n}\r\n","/**\r\n * 定义未知标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/Unknown.ts\r\n */\r\n\r\n/// <reference path=\"../Core/_Tag/ITag.ts\" />\r\n/// <reference path=\"_schema.ts\" />\r\n/// <reference path=\"../E.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Unknown implements Core.ITag {\r\n        /**\r\n         * 参数。\r\n         */\r\n        protected _p: string[];\r\n\r\n        /**\r\n         * 内容。\r\n         */\r\n        protected _c: string;\r\n\r\n        /**\r\n         * 子标签。\r\n         */\r\n        protected _s: Unknown[];\r\n\r\n        /**\r\n         * 行号。\r\n         */\r\n        protected _l: number;\r\n\r\n        /**\r\n         * 父标签。\r\n         */\r\n        protected _u: Unknown;\r\n\r\n        /**\r\n         * 已注册。\r\n         */\r\n        protected _r: boolean;\r\n\r\n        /**\r\n         * 已绑定。\r\n         */\r\n        protected _b: boolean;\r\n\r\n        /**\r\n         * 子标签查询缓存。\r\n         */\r\n        private _q: Util.IHashTable<Unknown[]>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            this._l = lineNo || 0;\r\n            this._r =\r\n            this._b = false;\r\n            this._q = {};\r\n            var schema: any[] = S[this.$i()],\r\n                contraints: Util.IHashTable<number[]> = {};\r\n            if (params.length < schema[1][0]) {\r\n                throw new E(E.TAG_PARAMS_TOO_FEW, lineNo);\r\n            } else if (undefined !== schema[1][1] && params.length > schema[1][1])\r\n                throw new E(E.TAG_PARAMS_TOO_MANY, lineNo);\r\n            this._p = params;\r\n            if (-1 == schema[2] && content.length) {\r\n                throw new E(E.TAG_CONTENT_FORBIDEN, lineNo);\r\n            } else if (1 == schema[2] && !content.length)\r\n                throw new E(E.TAG_CONTENT_REQUIRED, lineNo);\r\n            this._c = content;\r\n            Util.each<number[]>(schema[3] || {}, (value: number[] | number, index: number) => {\r\n                var counter: number[];\r\n                if ('number' == typeof value) {\r\n                    counter = [<number> value, <number> value];\r\n                } else {\r\n                    counter = (<number[]> value).slice(0);\r\n                    if (1 == counter.length)\r\n                        counter[1] = Infinity;\r\n                }\r\n                counter[2] = counter[3] = 0;\r\n                contraints[index] = counter;\r\n            });\r\n            Util.each(children, (tag: Unknown) => {\r\n                var index: number = tag.$i(!!contraints[-1]);\r\n                if (!(index in contraints))\r\n                    throw new E(E.SCHEMA_CHILD_NOT_ALLOWED, tag.gL());\r\n                contraints[index][2]++;\r\n                contraints[index][3] = tag.gL();\r\n                tag.$u(this);\r\n            });\r\n            Util.each(contraints, (counter: number[]) => {\r\n                if (-1 != counter[0] && counter[0] > counter[2])\r\n                    throw new E(E.TAG_CHILDREN_TOO_FEW, counter[3] || lineNo);\r\n                if (counter[1] < counter[2])\r\n                    throw new E(E.TAG_CHILDREN_TOO_MANY, counter[3]);\r\n            });\r\n            this._s = children;\r\n        }\r\n\r\n        /**\r\n         * 获取行号。\r\n         */\r\n        public gL(): number {\r\n            return this._l;\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Unknown';\r\n        }\r\n\r\n        /**\r\n         * 注册（子标签实体及自身实体）至作品。\r\n         */\r\n        public r(ep: Core.IEpisode): void {\r\n            if (this._r) return;\r\n            this._r = true;\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                tag.r(ep);\r\n            });\r\n            this.$r(ep);\r\n        }\r\n\r\n        /**\r\n         * 注册（自身实体）至（运行时）作品。\r\n         */\r\n        protected $r(ep: Core.IEpisode): void {\r\n            //\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体到子标签及自身）。\r\n         */\r\n        public b(ep: Core.IEpisode): void {\r\n            if (this._b) return;\r\n            this._b = true;\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                tag.b(ep);\r\n            });\r\n            this.$b(ep);\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        protected $b(ep: Core.IEpisode): void {\r\n            //\r\n        }\r\n\r\n        /**\r\n         * 转化为（中文）剧本（代码）。\r\n         */\r\n        public toString(): string {\r\n            if (-1 == this._l)\r\n                return '';\r\n            var clob: string = T[this.gN()],\r\n                params: string[] = this._p.slice(0);\r\n            if ('UNKNOWN' == clob)\r\n                clob = params.shift();\r\n            if (params.length)\r\n                clob += '（' + params.join('，') + '）';\r\n            if (this._c || this._s.length)\r\n                clob += '：';\r\n            clob += this._c + '\\n';\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                clob += '\\t' + tag.toString().replace(/\\n/g, '\\n\\t').replace(/\\t$/, '');\r\n            });\r\n            return clob;\r\n        }\r\n\r\n        /**\r\n         * 转化为运行时（Javascript）代码。\r\n         */\r\n        public toJsrn(): string {\r\n            if (-1 == this._l)\r\n                return '';\r\n            var parts: any[] = [this.$i()],\r\n                params: (number | string)[] = [],\r\n                children: string[] = [],\r\n                clob: string;\r\n            if (this._c)\r\n                parts.push(this.$v(this._c));\r\n            if (this._p.length) {\r\n                Util.each(this._p, (param: string) => {\r\n                    params.push(this.$v(param));\r\n                });\r\n                parts.push(params);\r\n            }\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                children.push(tag.toJsrn());\r\n            });\r\n            clob = JSON.stringify(parts);\r\n            clob = clob.substr(1, clob.length - 2);\r\n            if (children.length)\r\n                clob += ',[' + children.join(',') + ']';\r\n            return '$(' + clob + ')';\r\n        }\r\n\r\n        /**\r\n         * 尝试将数值字符串转为数值。\r\n         */\r\n        protected $v(orig: string): number | string {\r\n            if ('真' == orig) {\r\n                return 1;\r\n            } else if ('伪' == orig)\r\n                return 0;\r\n            var ret: number = <any> orig - 0;\r\n            return isNaN(ret) ? orig : ret;\r\n        }\r\n\r\n        /**\r\n         * 设置父标签。\r\n         */\r\n        protected $u(parent: Unknown): void {\r\n            this._u = parent;\r\n        }\r\n\r\n        /**\r\n         * 获取父标签。\r\n         */\r\n        public gU(): Unknown {\r\n            return this._u;\r\n        }\r\n\r\n        /**\r\n         * 获取标签索引号。\r\n         */\r\n        protected $i(abstract?: boolean): number {\r\n            var index: number = I[this.gN()];\r\n            if (undefined === index)\r\n                throw new E(E.SCHEMA_TAG_NOT_DECLARED, this._l);\r\n            return index - 0;\r\n        }\r\n\r\n        /**\r\n         * 获取指定参数。\r\n         */\r\n        public $p(index: number): string {\r\n            return this._p[index];\r\n        }\r\n\r\n        /**\r\n         * 获取内容。\r\n         */\r\n        public $c(): string {\r\n            return this._c;\r\n        }\r\n\r\n        /**\r\n         * 过滤名称符合要求地子标签。\r\n         */\r\n        public $q(name: string): Unknown[] {\r\n            if (!(name in I))\r\n                throw new E(E.SCHEMA_TAG_NOT_DECLARED);\r\n            if (!(name in this._q)) {\r\n                this._q[name] = [];\r\n                Util.each(this._s, (tag: Unknown) => {\r\n                    if (tag.gN() == name)\r\n                        this._q[name].push(tag);\r\n                });\r\n            }\r\n            return this._q[name];\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义实体（定义）抽象组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/Entity.ts\r\n */\r\n\r\n/// <reference path=\"Unknown.ts\" />\r\n/// <reference path=\"../Core/_Tag/IEntityTag.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Entity extends Unknown implements Core.IEntityTag {\r\n        /**\r\n         * 注册（自身实体）至（运行时）作品。\r\n         */\r\n        public $r(ep: Core.IEpisode): void {\r\n            ep.f(this);\r\n        }\r\n\r\n        /**\r\n         * 获取唯一编号。\r\n         */\r\n        public gI(): string {\r\n            return this._c;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): Core.IEpisode.Entity {\r\n            return Core.IEpisode.Entity.CG;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义画面标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/Image.ts\r\n */\r\n\r\n/// <reference path=\"../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Image extends Unknown {\r\n        /**\r\n         * 图片资源。\r\n         */\r\n        protected _o: Core.IResource<HTMLImageElement>;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Image';\r\n        }\r\n\r\n        /**\r\n         * 注册（自身实体）至（运行时）作品。\r\n         */\r\n        public $r(ep: Core.IEpisode): void {\r\n            this._o = ep.r(this._c, Core.IResource.Type.CG);\r\n        }\r\n\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        public o(): Core.IResource<HTMLImageElement> {\r\n            if (!this._r)\r\n                throw new E(E.DEF_EPISODE_NOT_REGISTERED, this._l);\r\n            return this._o;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（人物）头像标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Char/Avatar.ts\r\n */\r\n\r\n/// <reference path=\"../Image.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Avatar extends Image {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Avatar';\r\n        }\r\n\r\n        /**\r\n         * 注册（自身实体）至（运行时）作品。\r\n         */\r\n        public $r(ep: Core.IEpisode): void {\r\n            this._o = ep.r(this._c, Core.IResource.Type.Avatar);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义资源表抽象标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/ResTable.ts\r\n */\r\n\r\n/// <reference path=\"../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class ResTable extends Unknown {\r\n        /**\r\n         * 图片资源。\r\n         */\r\n        protected _o: Util.IHashTable<Core.IResource<HTMLImageElement>>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            this._o = {};\r\n        }\r\n\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        public o(id: string): Core.IResource<HTMLImageElement> {\r\n            if (!this._r)\r\n                throw new E(E.DEF_EPISODE_NOT_REGISTERED, this._l);\r\n            return this._o[id] || this._o['默认'];\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（人物）姿态标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Char/Poses.ts\r\n */\r\n\r\n/// <reference path=\"../ResTable.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Poses extends ResTable {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Poses';\r\n        }\r\n\r\n        /**\r\n         * 注册（自身实体）至（运行时）作品。\r\n         */\r\n        public $r(ep: Core.IEpisode): void {\r\n            Util.each(this._s, (tag: Unknown, index: number) => {\r\n                var id: string = tag.$p(0);\r\n                this._o[id] = ep.r(tag.$c(), Core.IResource.Type.Pose);\r\n                if (!index)\r\n                    this._o['默认'] = this._o[id];\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 获取所有关联资源。\r\n         */\r\n        public d(): Core.IResource<HTMLImageElement>[] {\r\n            var ret: Core.IResource<HTMLImageElement>[] = [];\r\n            Util.each(this._o, (resource: Core.IResource<HTMLImageElement>, index: string) => {\r\n                if ('默认' != index)\r\n                    ret.push(resource);\r\n            });\r\n            return ret;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义人物（定义）标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Char/DefChar.ts\r\n */\r\n\r\n/// <reference path=\"../../Entity.ts\" />\r\n/// <reference path=\"Avatar.ts\" />\r\n/// <reference path=\"Poses.ts\" />\r\n\r\nnamespace Tag {\r\n    export class DefChar extends Entity {\r\n        /**\r\n         * 原型。\r\n         */\r\n        private _o: DefChar;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            if (!this.$q('Avatar').length && !params.length)\r\n                throw new E(E.DEF_CHAR_AVATAR_NOT_FOUND, lineNo);\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'DefChar';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            if (this._p[0])\r\n                this._o = <DefChar> ep.q(this._p[0], Core.IEpisode.Entity.Chr, this._l);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): Core.IEpisode.Entity {\r\n            return Core.IEpisode.Entity.Chr;\r\n        }\r\n\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        public o(id?: string): Core.IResource<HTMLImageElement> {\r\n            var q: Unknown[] = this.$q(id ? 'Poses' : 'Avatar');\r\n            if (!q.length) {\r\n                if (!this._b)\r\n                    throw new E(E.DEF_EPISODE_NOT_BINDED, this._l);\r\n                if (this._o) {\r\n                    return this._o.o(id);\r\n                } else\r\n                    throw new E(E.DEF_CHAR_POSES_NOT_FOUND, this._l);\r\n            }\r\n            return (<Poses> q[0]).o(id);\r\n        }\r\n\r\n        /**\r\n         * 获取所有关联资源。\r\n         */\r\n        public d(): Core.IResource<HTMLImageElement>[] {\r\n            if (this._o)\r\n                return this._o.d();\r\n            var poses: Poses = <Poses> this.$q('Poses')[0],\r\n                ret: Core.IResource<HTMLImageElement>[] = [(<Avatar> this.$q('Avatar')[0]).o()];\r\n            if (poses)\r\n                ret = ret.concat(poses.d());\r\n            return ret;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义音源标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/Audio.ts\r\n */\r\n\r\n/// <reference path=\"../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Audio extends Unknown {\r\n        /**\r\n         * 音频资源。\r\n         */\r\n        protected _o: Core.IResource<string>;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Audio';\r\n        }\r\n\r\n        /**\r\n         * 注册（自身实体）至（运行时）作品。\r\n         */\r\n        public $r(ep: Core.IEpisode): void {\r\n            this._o = ep.r(this._c, Core.IResource.Type.BGM);\r\n        }\r\n\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        public o(): Core.IResource<string> {\r\n            if (!this._r)\r\n                throw new E(E.DEF_EPISODE_NOT_REGISTERED, this._l);\r\n            return this._o;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义背景音乐（定义）标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/DefBGM.ts\r\n */\r\n\r\n/// <reference path=\"../Entity.ts\" />\r\n/// <reference path=\"Audio.ts\" />\r\n\r\nnamespace Tag {\r\n    export class DefBGM extends Entity {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'DefBGM';\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): Core.IEpisode.Entity {\r\n            return Core.IEpisode.Entity.BGM;\r\n        }\r\n\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        public o(): Core.IResource<string> {\r\n            return (<Audio> this.$q('Audio')[0]).o();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义特写（定义）标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/DefCG.ts\r\n */\r\n\r\n/// <reference path=\"../Entity.ts\" />\r\n/// <reference path=\"Image.ts\" />\r\n\r\nnamespace Tag {\r\n    export class DefCG extends Entity {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'DefCG';\r\n        }\r\n\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        public o(): Core.IResource<HTMLImageElement> {\r\n            return (<Image> this.$q('Image')[0]).o();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义音效（定义）标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/DefSE.ts\r\n */\r\n\r\n/// <reference path=\"../Entity.ts\" />\r\n/// <reference path=\"Audio.ts\" />\r\n\r\nnamespace Tag {\r\n    export class DefSE extends Entity {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'DefSE';\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): Core.IEpisode.Entity {\r\n            return Core.IEpisode.Entity.SE;\r\n        }\r\n\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        public o(): Core.IResource<string> {\r\n            return (<Audio> this.$q('Audio')[0]).o();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（地图）底图标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Map/BGImage.ts\r\n */\r\n\r\n/// <reference path=\"../Image.ts\" />\r\n\r\nnamespace Tag {\r\n    export class BGImage extends Image {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'BGImage';\r\n        }\r\n\r\n        /**\r\n         * 注册（自身实体）至（运行时）作品。\r\n         */\r\n        public $r(ep: Core.IEpisode): void {\r\n            this._o = ep.r(this._c, Core.IResource.Type.Room);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（地图交互点）高亮图标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Map/HLImage.ts\r\n */\r\n\r\n/// <reference path=\"../Image.ts\" />\r\n\r\nnamespace Tag {\r\n    export class HLImage extends Image {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'HLImage';\r\n        }\r\n\r\n        /**\r\n         * 注册（自身实体）至（运行时）作品。\r\n         */\r\n        public $r(ep: Core.IEpisode): void {\r\n            this._o = ep.r(this._c, Core.IResource.Type.Map);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（地图交互点）区域标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Map/Region.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Region extends Unknown {\r\n        /**\r\n         * 座标。\r\n         */\r\n        private _a: Util.IHashTable<number>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            this._a = {};\r\n            var p: string[] = content.split('，');\r\n            if (4 > p.length || 5 < p.length)\r\n                throw new E(E.DEF_MAP_REGION_BROKEN, lineNo);\r\n            this._a['x'] = 0 | (<any> p[3]) / 1.5;\r\n            this._a['y'] = 0 | (<any> p[0]) / 1.5;\r\n            this._a['w'] = 1280 - this._a['x'] - (0 | (<any> p[1]) / 1.5);\r\n            this._a['h'] = 720 - this._a['y'] - (0 | (<any> p[2]) / 1.5);\r\n            this._a['z'] = ((<any> p[4]) || 0) - 0;\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Region';\r\n        }\r\n\r\n        /**\r\n         * 获取横轴座标值。\r\n         */\r\n        public gX(): number {\r\n            return this._a['x'];\r\n        }\r\n\r\n        /**\r\n         * 获取纵轴座标值。\r\n         */\r\n        public gY(): number {\r\n            return this._a['y'];\r\n        }\r\n\r\n        /**\r\n         * 获取深轴座标值。\r\n         */\r\n        public gZ(): number {\r\n            return this._a['z'];\r\n        }\r\n\r\n        /**\r\n         * 获取宽度值。\r\n         */\r\n        public gW(): number {\r\n            return this._a['w'];\r\n        }\r\n\r\n        /**\r\n         * 获取高度值。\r\n         */\r\n        public gH(): number {\r\n            return this._a['h'];\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（地图交互点）对应房间标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Map/Target.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n/// <reference path=\"../_Room/DefRoom.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Target extends Unknown {\r\n        /**\r\n         * 关联对象。\r\n         */\r\n        private _o: DefRoom;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Target';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._o = <DefRoom> ep.q(this._c, Core.IEpisode.Entity.Room, this._l);\r\n        }\r\n\r\n        /**\r\n         * 获取关联对象。\r\n         */\r\n        public gR(): DefRoom {\r\n            if (!this._b)\r\n                throw new E(E.DEF_EPISODE_NOT_BINDED, this._l);\r\n            return this._o;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 实现抽象动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/Action.ts\r\n */\r\n\r\n/// <reference path=\"Unknown.ts\" />\r\n/// <reference path=\"../Core/_Tag/IPerformableTag.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Action extends Unknown implements Core.IPerformableTag {\r\n        /**\r\n         * 获取代号。\r\n         */\r\n        public $i(abstract?: boolean): number {\r\n            return abstract ? -1 : super.$i(abstract);\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            return runtime;\r\n        }\r\n\r\n        /**\r\n         * 获取依赖素材资源列表。\r\n         */\r\n        public $d(): Core.IResource<string | HTMLImageElement>[] {\r\n            return [];\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义进入房间动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Flow/Enter.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"../../_Definition/_Room/DefRoom.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Enter extends Action {\r\n        /**\r\n         * 使用房间。\r\n         */\r\n        private _mo: DefRoom;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Enter';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._mo = <DefRoom> ep.q(this._p[0], Core.IEpisode.Entity.Room, this._l);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                kcx: string = '_c*',\r\n                kcn: string = '_rc',\r\n                cn: string = states.g(kcn),\r\n                kdn: string = '_rd',\r\n                ktn: string = '_rt',\r\n                kt: string = '_t',\r\n                kco: string = '$rc',\r\n                co: DefRoom = <DefRoom> states.g(kco),\r\n                kdo: string = '$rd',\r\n                kto: string = '$rt',\r\n                director: Core.IDirector = runtime.gD(),\r\n                type: typeof Core.ISceneTag.Type = Core.ISceneTag.Type;\r\n            if (cn == this._p[0]) // 同房间二次进入，\r\n                return director.lightOff()\r\n                    .then(() => {\r\n                        states.d(kcx);\r\n                        return director.reset();\r\n                    }).then(() => {\r\n                        // 恢复房间默认背景后开灯。\r\n                        states.c(kcn, kdn)\r\n                            .c(kco, kdo);\r\n                        return director.asRoom((<DefRoom> states.g(kdo)).o(states.g(kt)))\r\n                            .then(() => director.lightOn());\r\n                    });\r\n            runtime.t(() => Promise.resolve() // 新建时序流，\r\n                .then(() => { // 播放当前房间离开前事件\r\n                    states.s(ktn, this._p[0])\r\n                        .s(kto, this._mo);\r\n                    if (!cn)\r\n                        return runtime;\r\n                    return co.p(type.PreLeave, runtime, this._p[0]);\r\n                })\r\n                .then(() =>\r\n                    this._mo.p(type.PreEnter, runtime, this._p[0])) // 播放关联（目标）房间进入前事件\r\n                .then(() =>\r\n                    director.lightOff())\r\n                .then(() => { // 播放当前房间离开后事件\r\n                    states.d(kcn)\r\n                        .d(kco)\r\n                        .d(kdn)\r\n                        .d(kdo);\r\n                    if (!cn)\r\n                        return runtime;\r\n                    return co.p(type.PostLeave, runtime, this._p[0]);\r\n                })\r\n                .then(() => { // 播放关联房间（目标）房间进入后事件\r\n                    if (runtime.gH())\r\n                        return E.doHalt<Core.IRuntime>();\r\n                    states.m(ktn, kcn)\r\n                        .m(kto, kco)\r\n                        .c(kcn, kdn)\r\n                        .c(kco, kdo);\r\n                    director.c([this._mo.d()]);\r\n                    var map: DefMap = this._mo.gM();\r\n                    return director.lightOff()\r\n                        .then(() => {\r\n                            states.d(kcx);\r\n                            return director.reset();\r\n                        }).then(() =>\r\n                            director.asRoom(this._mo.o(states.g(kt)), false, map ? true : false))\r\n                        .then(() =>\r\n                            director.asMap(map ? map.gP() : {}))\r\n                        .then(() =>\r\n                            this._mo.p(type.PostEnter, runtime, this._p[0]));\r\n                })\r\n            );\r\n            return E.doHalt<Core.IRuntime>(); // 中断原有时序流。\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（地图）交互点标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Map/Point.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n/// <reference path=\"../../../Core/_Tag/IPointTag.ts\" />\r\n/// <reference path=\"HLImage.ts\" />\r\n/// <reference path=\"Region.ts\" />\r\n/// <reference path=\"Target.ts\" />\r\n/// <reference path=\"../../_Action/_Flow/Enter.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Point extends Unknown implements Core.IPointTag {\r\n        /**\r\n         * 原型。\r\n         */\r\n        private _o: Point;\r\n\r\n        /**\r\n         * 地图（模板）编号。\r\n         */\r\n        private _m: string;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            if (!params.length)\r\n                if (!this.$q('HLImage').length) {\r\n                    throw new E(E.DEF_MAP_HLIMAGE_NOT_FOUND, lineNo);\r\n                } else if (!this.$q('Region').length)\r\n                    throw new E(E.DEF_MAP_REGION_NOT_FOUND, lineNo);\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Point';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            if (this._m && this._p[0]) {\r\n                var map: DefMap = <DefMap> ep.q(this._m, Core.IEpisode.Entity.Map, this._l);\r\n                this._o = map ? map.gP(this._p[0]) : undefined;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 交互逻辑。\r\n         */\r\n        public p(runtime: Core.IRuntime): void {\r\n            var room: DefRoom = this.gR(),\r\n                obj: Target | Point = <Target> this.$q('Target')[0] || this._o,\r\n                rp: string = room.gI() == ' ' ? obj.$c() : room.gI();\r\n            (<Promise<Core.IRuntime>> Enter.prototype.p.call({\r\n                _p: [rp],\r\n                _mo: room\r\n            }, runtime))['catch'](E.ignoreHalt);\r\n        }\r\n\r\n        /**\r\n         * 获取唯一编号。\r\n         */\r\n        public gI(): string {\r\n            return this._c;\r\n        }\r\n\r\n        /**\r\n         * 获取高亮图资源。\r\n         */\r\n        public o(): Core.IResource<HTMLImageElement> {\r\n            return (<HLImage> this.$q('HLImage')[0] || this._o).o();\r\n        }\r\n\r\n        /**\r\n         * 设置地图（模板）。\r\n         */\r\n        public sM(id: string): void {\r\n            this._m = id;\r\n        }\r\n\r\n        /**\r\n         * 获取横轴座标值。\r\n         */\r\n        public gX(): number {\r\n            return (<Region> this.$q('Region')[0] || this._o).gX();\r\n        }\r\n\r\n        /**\r\n         * 获取纵轴座标值。\r\n         */\r\n        public gY(): number {\r\n            return (<Region> this.$q('Region')[0] || this._o).gY();\r\n        }\r\n\r\n        /**\r\n         * 获取深轴座标值。\r\n         */\r\n        public gZ(): number {\r\n            return (<Region> this.$q('Region')[0] || this._o).gZ();\r\n        }\r\n\r\n        /**\r\n         * 获取宽度值。\r\n         */\r\n        public gW(): number {\r\n            return (<Region> this.$q('Region')[0] || this._o).gW();\r\n        }\r\n\r\n        /**\r\n         * 获取高度值。\r\n         */\r\n        public gH(): number {\r\n            return (<Region> this.$q('Region')[0] || this._o).gH();\r\n        }\r\n\r\n        /**\r\n         * 获取相关房间。\r\n         */\r\n        public gR(): DefRoom {\r\n            var obj: Point | Target = <Target> this.$q('Target')[0] || this._o;\r\n            if (obj)\r\n                return obj.gR();\r\n            throw new E(E.DEF_MAP_TARGET_NOT_FOUND, this._l);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义地图（定义）标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Map/DefMap.ts\r\n */\r\n\r\n/// <reference path=\"../../Entity.ts\" />\r\n/// <reference path=\"../../../Core/_Tag/IMapTag.ts\" />\r\n/// <reference path=\"BGImage.ts\" />\r\n/// <reference path=\"Point.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class DefMap extends Entity implements Core.IMapTag {\r\n        /**\r\n         * 交互点集合。\r\n         */\r\n        private _a: Util.IHashTable<Point>;\r\n\r\n        /**\r\n         * 原型。\r\n         */\r\n        private _o: DefMap;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            this._a = {};\r\n            if (!this.$q('BGImage').length && !params.length)\r\n                throw new E(E.DEF_MAP_BGIMAGE_NOT_FOUND, lineNo);\r\n            Util.each(this.$q('Point'), (point: Point) => {\r\n                this._a[point.gI()] = point;\r\n                point.sM(params[0]);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'DefMap';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            if (this._p[0])\r\n                this._o = <DefMap> ep.q(this._p[0], Core.IEpisode.Entity.Map, this._l);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): Core.IEpisode.Entity {\r\n            return Core.IEpisode.Entity.Map;\r\n        }\r\n\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        public o(): Core.IResource<HTMLImageElement> {\r\n            return (<BGImage> this.$q('BGImage')[0] || this._o).o();\r\n        }\r\n\r\n        /**\r\n         * 获取交互点集合。\r\n         */\r\n        public gP(): Util.IHashTable<Point>;\r\n        public gP(id: string): Point;\r\n        public gP(id?: string): any {\r\n            if (id) {\r\n                if (!(id in this._a))\r\n                    throw new E(E.DEF_MAP_POINT_NOT_FOUND, this._l);\r\n                return this._a[id];\r\n            }\r\n            return this._a;\r\n        }\r\n\r\n        /**\r\n         * 获取所有关联资源。\r\n         */\r\n        public d(): Core.IResource<HTMLImageElement>[] {\r\n            var ret: Core.IResource<HTMLImageElement>[] = [this.o()];\r\n            Util.each(this._a, (point: Point) => {\r\n                ret.push(point.o());\r\n            });\r\n            return ret;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（房间）使用地图标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Room/Link.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n/// <reference path=\"../_Map/DefMap.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Link extends Unknown {\r\n        /**\r\n         * 关联地图。\r\n         */\r\n        private _o: DefMap;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Link';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._o = <DefMap> ep.q(this._c, Core.IEpisode.Entity.Map, this._l);\r\n        }\r\n\r\n        /**\r\n         * 获取关联地图。\r\n         */\r\n        public gM(): DefMap {\r\n            if (!this._b)\r\n                throw new E(E.DEF_EPISODE_NOT_BINDED, this._l);\r\n            return this._o;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（房间）时刻标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Room/Times.ts\r\n */\r\n\r\n/// <reference path=\"../ResTable.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Times extends ResTable {\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Times';\r\n        }\r\n\r\n        /**\r\n         * 注册（自身实体）至（运行时）作品。\r\n         */\r\n        public $r(ep: Core.IEpisode): void {\r\n            Util.each(this._s, (tag: Unknown, index: number) => {\r\n                var id: string = tag.$p(0);\r\n                this._o[id] = ep.r(tag.$c(), Core.IResource.Type.Room);\r\n                if (!index)\r\n                    this._o['默认'] = this._o[id];\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 获取所有关联资源。\r\n         */\r\n        public d(): Core.IResource<HTMLImageElement>[] {\r\n            var ret: Core.IResource<HTMLImageElement>[] = [];\r\n            Util.each(this._o, (resource: Core.IResource<HTMLImageElement>, index: string) => {\r\n                if ('默认' != index)\r\n                    ret.push(resource);\r\n            });\r\n            return ret;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（作品事件）类型标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Scene/Type.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n/// <reference path=\"../../_Definition/_Room/DefRoom.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Type extends Unknown {\r\n        /**\r\n         * 类型。\r\n         */\r\n        private _t: Core.ISceneTag.Type;\r\n\r\n        /**\r\n         * 关联对象。\r\n         */\r\n        private _o: string | DefRoom;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            var match: RegExpMatchArray = content.match(/^(进入|离开)（(.+)）(前|后)$/),\r\n                term: string | Core.ISceneTag.Type = content,\r\n                type: typeof Core.ISceneTag.Type = Core.ISceneTag.Type;\r\n            if (match) {\r\n                this._o = match[2];\r\n                term = match[1] + '房间' + match[3];\r\n            } else {\r\n                match = content.match(/^(([012])|([3-6])(.+))$/);\r\n                if (match) {\r\n                    this._o = match[4];\r\n                    term = <any> (match[2] || match[3]) - 0;\r\n                }\r\n            }\r\n            switch (term) {\r\n                case '开始时':\r\n                case type.Begin:\r\n                    this._t = type.Begin;\r\n                    break;\r\n                case '完结时':\r\n                case type.End:\r\n                    this._t = type.End;\r\n                    break;\r\n                case '失败时':\r\n                case type.Fail:\r\n                    this._t = type.Fail;\r\n                    break;\r\n                case '离开房间前':\r\n                case type.PreLeave:\r\n                    this._t = type.PreLeave;\r\n                    break;\r\n                case '进入房间前':\r\n                case type.PreEnter:\r\n                    this._t = type.PreEnter;\r\n                    break;\r\n                case '离开房间后':\r\n                case type.PostLeave:\r\n                    this._t = type.PostLeave;\r\n                    break;\r\n                case '进入房间后':\r\n                case type.PostEnter:\r\n                    this._t = type.PostEnter;\r\n                    break;\r\n                default:\r\n                    throw new E(E.SCENE_TYPE_UNKNOWN, lineNo);\r\n            }\r\n            this._c = <number> this._t + (<string> this._o || '');\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Type';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            if (this._o)\r\n                this._o = <DefRoom> ep.q(<string> this._o, Core.IEpisode.Entity.Room, this._l);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): Core.ISceneTag.Type {\r\n            return this._t;\r\n        }\r\n\r\n        /**\r\n         * 获取关联对象。\r\n         */\r\n        public gR(): DefRoom {\r\n            if (!this._b)\r\n                throw new E(E.DEF_EPISODE_NOT_BINDED, this._l);\r\n            return <DefRoom> this._o;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（作品事件）条件标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Scene/Conditions.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Conditions extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Conditions';\r\n        }\r\n\r\n        /**\r\n         * 检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            return Util.every(this._s, (condition: Action) => condition.t(states));\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义设置房间动作组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/AsRoom.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"../../_Definition/_Room/DefRoom.ts\" />\r\n\r\nnamespace Tag {\r\n    export class AsRoom extends Action {\r\n        /**\r\n         * 使用房间。\r\n         */\r\n        private _mo: DefRoom;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'AsRoom';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._mo = <DefRoom> ep.q(this._p[0], Core.IEpisode.Entity.Room, this._l);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                kroom: string = '_rd',\r\n                room: string = states.g(kroom),\r\n                ktime: string = '_t',\r\n                time: string = states.g(ktime),\r\n                director: Core.IDirector = runtime.gD(),\r\n                map: DefMap = this._mo.gM();\r\n            if (!time) {\r\n                time = '午';\r\n                states.s(ktime, time);\r\n            }\r\n            if (room == this._p[0])\r\n                return runtime;\r\n            states.s(kroom, this._p[0]);\r\n            states.s('$rd', this._mo);\r\n            return director.asRoom(this._mo.o(time), false, map ? true : false)\r\n                .then(() => director.asMap(map ? map.gP() : {}));\r\n        }\r\n\r\n        /**\r\n         * 获取依赖素材资源列表。\r\n         */\r\n        public $d(): Core.IResource<HTMLImageElement>[] {\r\n            return this._mo.d();\r\n        }\r\n\r\n        /**\r\n         * 获取关联房间。\r\n         */\r\n        public gR(): DefRoom {\r\n            return this._mo;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义人物出场动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/CharOn.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"../../_Definition/_Char/DefChar.ts\" />\r\n\r\nnamespace Tag {\r\n    export class CharOn extends Action {\r\n        /**\r\n         * 位置。\r\n         */\r\n        private _mp: Core.IDirector.Position;\r\n\r\n        /**\r\n         * 人物名称。\r\n         */\r\n        private _mc: string;\r\n\r\n        /**\r\n         * 人物神态。\r\n         */\r\n        private _ms: string;\r\n\r\n        /**\r\n         * 使用人物。\r\n         */\r\n        private _mo: DefChar;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            var pos: typeof Core.IDirector.Position = Core.IDirector.Position,\r\n                exp: string[] = content.split('，');\r\n            switch (params[0]) {\r\n                case '左':\r\n                    this._mp = pos.Left;\r\n                    break;\r\n                case '右':\r\n                    this._mp = pos.Right;\r\n                    break;\r\n                case '中':\r\n                case undefined:\r\n                    this._mp = pos.Center;\r\n                    break;\r\n                default:\r\n                    throw new E(E.ACT_ILLEGAL_POSITION, lineNo);\r\n            }\r\n            this._mc = exp[0];\r\n            this._ms = exp[1] || '默认';\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CharOn';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._mo = <DefChar> ep.q(this._mc, Core.IEpisode.Entity.Chr, this._l);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                kpos: string = '.p' + this._mc,\r\n                pos: Core.IDirector.Position = states.g(kpos);\r\n            if (pos)\r\n                throw new E(E.ACT_CHAR_ONSTAGE, this._l);\r\n            states.s(kpos, this._mp);\r\n            states.s('_c' + this._mp, this._mc);\r\n            states.s('_s' + this._mp, this._ms);\r\n            return runtime.gD().charOn(this._mo.o(this._ms), this._mp);\r\n        }\r\n\r\n        /**\r\n         * 获取依赖素材资源列表。\r\n         */\r\n        public $d(): Core.IResource<HTMLImageElement>[] {\r\n            return [this._mo.o(this._ms)];\r\n        }\r\n\r\n        /**\r\n         * 获取关联人物。\r\n         */\r\n        public gC(): DefChar {\r\n            return this._mo;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义播放音乐动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/PlayBGM.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"../../_Definition/DefBGM.ts\" />\r\n\r\nnamespace Tag {\r\n    export class PlayBGM extends Action {\r\n        /**\r\n         * 使用音乐。\r\n         */\r\n        private _mo: DefBGM;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'PlayBGM';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._mo = <DefBGM> ep.q(this._p[0], Core.IEpisode.Entity.BGM, this._l);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                key: string = '_b',\r\n                bgm: string = states.g(key);\r\n            if (bgm == this._p[0])\r\n                return runtime;\r\n            states.s(key, this._p[0]);\r\n            return runtime.gD().playBGM(this._mo ? this._mo.o() : undefined);\r\n        }\r\n\r\n        /**\r\n         * 获取依赖素材资源列表。\r\n         */\r\n        public $d(): Core.IResource<string>[] {\r\n            return this._mo ? [this._mo.o()] : [];\r\n        }\r\n\r\n        /**\r\n         * 获取关联音乐。\r\n         */\r\n        public gB(): DefBGM {\r\n            return this._mo;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义播放音效动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/PlaySE.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"../../_Definition/DefSE.ts\" />\r\n\r\nnamespace Tag {\r\n    export class PlaySE extends Action {\r\n        /**\r\n         * 使用音效。\r\n         */\r\n        private _mo: DefSE;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'PlaySE';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._mo = <DefSE> ep.q(this._p[0], Core.IEpisode.Entity.SE, this._l);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            return runtime.gD().playSE(this._mo ? this._mo.o() : undefined);\r\n        }\r\n\r\n        /**\r\n         * 获取依赖素材资源列表。\r\n         */\r\n        public $d(): Core.IResource<string>[] {\r\n            return this._mo ? [this._mo.o()] : [];\r\n        }\r\n\r\n        /**\r\n         * 获取关联音效。\r\n         */\r\n        public gS(): DefSE {\r\n            return this._mo;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义展示特写动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/ShowCG.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"../../_Definition/DefCG.ts\" />\r\n\r\nnamespace Tag {\r\n    export class ShowCG extends Action {\r\n        /**\r\n         * 使用特写。\r\n         */\r\n        private _mo: DefCG;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'ShowCG';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._mo = <DefCG> ep.q(this._p[0], Core.IEpisode.Entity.CG, this._l);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                key: string = '_c',\r\n                cg: string = states.g(key);\r\n            if (cg)\r\n                throw new E(E.ACT_CG_ALREADY_SHOWN, this._l);\r\n            states.s(key, this._p[0]);\r\n            return runtime.gD().showCG(this._mo ? this._mo.o() : undefined);\r\n        }\r\n\r\n        /**\r\n         * 获取依赖素材资源列表。\r\n         */\r\n        public $d(): Core.IResource<HTMLImageElement>[] {\r\n            return this._mo ? [this._mo.o()] : [];\r\n        }\r\n\r\n        /**\r\n         * 获取关联特写。\r\n         */\r\n        public gC(): DefCG {\r\n            return this._mo;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义唯一标识标签抽象组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/Idable.ts\r\n */\r\n\r\n/// <reference path=\"Action.ts\" />\r\n/// <reference path=\"../Core/_Tag/IIdableTag.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Idable extends Action implements Core.IIdableTag {\r\n        /**\r\n         * 唯一编号。\r\n         */\r\n        private _i: string;\r\n\r\n        /**\r\n         * 是否（在读档继续时）恢复人物和特写。\r\n         */\r\n        private _d: boolean;\r\n\r\n        /**\r\n         * 转化为运行时（Javascript）代码。\r\n         */\r\n        public toJsrn(): string {\r\n            var clob: string = super.toJsrn();\r\n            return clob.substr(0, clob.length - 1) + ',\"' + this._i + '\")';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            if (!this._d)\r\n                return runtime;\r\n            var pos: typeof Core.IDirector.Position = Core.IDirector.Position,\r\n                type: typeof Core.IEpisode.Entity = Core.IEpisode.Entity,\r\n                states: Core.IStates = runtime.gS(),\r\n                director: Core.IDirector = runtime.gD(),\r\n                episode: Core.IEpisode = runtime.gE(),\r\n                kid: string = '.c',\r\n                kdata: string = '_c',\r\n                kpose: string = '_s',\r\n                kpos: string = '.p',\r\n                kcmr: string = '.z',\r\n                q: Promise<Core.IRuntime> = Promise.resolve(runtime),\r\n                kroom: string = states.g('_rd'),\r\n                kdo: string = '$rd',\r\n                kcamera: string = '_z',\r\n                camera: string = states.g(kcamera),\r\n                bgm: string = states.g('_b'),\r\n                cg: string = states.g(kid),\r\n                cur: string = states.g('_ra'),\r\n                l: Core.IDirector.Position = pos.Left,\r\n                lChar: string = states.g(kid + l),\r\n                cl: Core.IDirector.Position = pos.CLeft,\r\n                clChar: string = states.g(kid + cl),\r\n                c: Core.IDirector.Position = pos.Center,\r\n                cChar: string = states.g(kid + c),\r\n                cr: Core.IDirector.Position = pos.CRight,\r\n                crChar: string = states.g(kid + cr),\r\n                r: Core.IDirector.Position = pos.Right,\r\n                rChar: string = states.g(kid + r),\r\n                ctype: Core.IEpisode.Entity = type.Chr,\r\n                room: DefRoom;\r\n            if (bgm)\r\n                q = q.then(() => {\r\n                    var defbgm: DefBGM = <DefBGM> episode.q(bgm, type.BGM);\r\n                    return director.playBGM(defbgm ? defbgm.o() : undefined);\r\n                });\r\n            if (cur)\r\n                q = q.then(() =>\r\n                    director.curtain(cur)\r\n                );\r\n            if (kroom && !states.g(kdo))\r\n                q = q.then(() => {\r\n                    states.s(kdo, room = <DefRoom> episode.q(kroom, type.Room));\r\n                    return director.asRoom(room.o(states.g('_t')), false, room.gM() ? true : false)\r\n                        .then(() => {  // 设置镜头状态\r\n                            if (!camera)\r\n                                return runtime;\r\n                            var strArr: Array<string> = camera.split(','),\r\n                                mx: number = parseFloat(strArr[0]),\r\n                                my: number = parseFloat(strArr[1]);\r\n                            states.s(kcmr, camera);\r\n                            return director.cameraZoom(mx, my, 20, 1);\r\n                        })\r\n                        .then(() => room.gM() ? director.asMap(room.gM().gP()) : runtime);\r\n                });\r\n            if (cg)\r\n                q = q.then(() => {\r\n                    states.m(kid, kdata);\r\n                    var defcg: Core.IEntityTag = episode.q(cg, type.CG),\r\n                        rescg: Core.IResource<HTMLImageElement> = defcg ? (<DefCG> defcg).o() : undefined;\r\n                    return director.setCG(rescg);\r\n                });\r\n            if (lChar)\r\n                q = q.then(() => {\r\n                    states.m(kid + l, kdata + l)\r\n                        .s(kpos + lChar, l);\r\n                    return director.charSet((<DefChar> episode.q(lChar, ctype)).o(states.g(kpose + l)), l);\r\n                });\r\n            if (clChar)\r\n                q = q.then(() => {\r\n                    states.m(kid + cl, kdata + cl)\r\n                        .s(kpos + clChar, cl);\r\n                    return director.charSet((<DefChar> episode.q(clChar, ctype)).o(states.g(kpose + cl)), cl);\r\n                });\r\n            if (cChar)\r\n                q = q.then(() => {\r\n                    states.m(kid + c, kdata + c)\r\n                        .s(kpos + cChar, c);\r\n                    return director.charSet((<DefChar> episode.q(cChar, ctype)).o(states.g(kpose + c)), c);\r\n                });\r\n            if (crChar)\r\n                q = q.then(() => {\r\n                    states.m(kid + cr, kdata + cr)\r\n                        .s(kpos + crChar, cr);\r\n                    return director.charSet((<DefChar> episode.q(crChar, ctype)).o(states.g(kpose + cr)), cr);\r\n                });\r\n            if (rChar)\r\n                q = q.then(() => {\r\n                    states.m(kid + r, kdata + r)\r\n                        .s(kpos + rChar, r);\r\n                    return director.charSet((<DefChar> episode.q(rChar, ctype)).o(states.g(kpose + r)), r);\r\n                });\r\n            return q;\r\n        }\r\n\r\n        /**\r\n         * 获取编号。\r\n         */\r\n        public gI(): string {\r\n            return this._i;\r\n        }\r\n\r\n        /**\r\n         * 恢复编号。\r\n         */\r\n        public i(id: string): void {\r\n            this._i = id;\r\n        }\r\n\r\n        /**\r\n         * 恢复人物和特写。\r\n         */\r\n        public d(): Idable {\r\n            this._d = true;\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义对白动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Text/Speak.ts\r\n */\r\n\r\n/// <reference path=\"../../Idable.ts\" />\r\n/// <reference path=\"../../_Definition/_Char/DefChar.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Speak extends Idable {\r\n        /**\r\n         * 发言者。\r\n         */\r\n        private _mc: DefChar;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Speak';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._mc = <DefChar> ep.q(this._p[0], Core.IEpisode.Entity.Chr, this._l);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            return Promise.resolve(super.p(runtime))\r\n                .then(() => runtime.a(this).gD()\r\n                    .words(runtime.gS().t(this._c), 'speak', this._p[2] || this._mc.gI(), this._mc.o())\r\n                );\r\n        }\r\n\r\n        /**\r\n         * 获取依赖素材资源列表。\r\n         */\r\n        public $d(): Core.IResource<HTMLImageElement>[] {\r\n            return [this._mc.o()];\r\n        }\r\n\r\n        /**\r\n         * 获取关联人物。\r\n         */\r\n        public gC(): DefChar {\r\n            return this._mc;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明块标签接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Core/_Tag/IBlock.ts\r\n */\r\n\r\nnamespace Core {\r\n    export interface IBlock {\r\n        /**\r\n         * 获取关键动作编号列表。\r\n         */\r\n        gA(): string[];\r\n    }\r\n}\r\n","/**\r\n * 定义循环动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Loop.ts\r\n */\r\n\r\n/// <reference path=\"../../_Action/_Director/AsRoom.ts\" />\r\n/// <reference path=\"../../_Action/_Director/CharOn.ts\" />\r\n/// <reference path=\"../../_Action/_Director/PlayBGM.ts\" />\r\n/// <reference path=\"../../_Action/_Director/PlaySE.ts\" />\r\n/// <reference path=\"../../_Action/_Director/ShowCG.ts\" />\r\n/// <reference path=\"../../_Action/_Text/Speak.ts\" />\r\n/// <reference path=\"../../../Core/_Tag/IBlock.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Loop extends Action implements Core.IBlock {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Loop';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                logger: Util.ILogger = runtime.gL(),\r\n                title: string = 'LOOP',\r\n                kd: string = '$d',\r\n                depth: number = states.g(kd),\r\n                kid: string = '.a',\r\n                id: string,\r\n                loop: () => Promise<Core.IRuntime> = () => {\r\n                    return Util.Q.every(<Action[]> this._s, (action: Action) => {\r\n                        if (runtime.gH())\r\n                            return E.doBreak<Core.IRuntime>();\r\n                        id = states.g(kid);\r\n                        if (id) {\r\n                            if ('gI' in action) {\r\n                                if ((<Idable> action).gI() != id)\r\n                                    return runtime;\r\n                                states.d(kid);\r\n                                (<Idable> action).d();\r\n                            } else if ('gA' in action) {\r\n                                if (-1 == Util.indexOf((<Loop> action).gA(), id))\r\n                                    return runtime;\r\n                            } else\r\n                                return runtime;\r\n                        }\r\n                        return action.p(runtime);\r\n                    }).then(loop);\r\n                };\r\n            logger.o(title);\r\n            states.s(kd, 1 + depth);\r\n            return loop()['catch'](E.ignoreBreak)\r\n                ['catch']((error?: E) => {\r\n                    if (error && E.Signal.HALT == error.signal)\r\n                        logger.c(title);\r\n                    throw error;\r\n                }).then(() => {\r\n                    states.s(kd, depth);\r\n                    logger.c(title);\r\n                    return runtime;\r\n                });\r\n        }\r\n\r\n        /**\r\n         * 获取关键动作编号列表。\r\n         */\r\n        public gA(): string[] {\r\n            var ids: string[] = [];\r\n            Util.each(this._s, (action: Action) => {\r\n                switch (action.gN()) {\r\n                    case 'Monolog':\r\n                    case 'Speak':\r\n                    case 'VoiceOver':\r\n                        ids.push((<Speak> action).gI());\r\n                        break;\r\n                    case 'Loop':\r\n                    case 'Otherwise':\r\n                    case 'Then':\r\n                    case 'When':\r\n                    case 'WhenVar':\r\n                        ids = ids.concat((<Loop> action).gA());\r\n                        break;\r\n                }\r\n            });\r\n            return ids;\r\n        }\r\n\r\n        /**\r\n         * 获取使用资源列表。\r\n         */\r\n        public c(): Core.IResource<string | HTMLImageElement>[][] {\r\n            var frame: Core.IResource<string | HTMLImageElement>[] = [],\r\n                resources: Core.IResource<string | HTMLImageElement>[][] = [],\r\n                pack: () => void = () => {\r\n                    if (frame.length) {\r\n                        resources.push(frame);\r\n                        frame = [];\r\n                    }\r\n                };\r\n            Util.each(this._s, (action: Action) => {\r\n                switch (action.gN()) {\r\n                    case 'AsRoom':\r\n                    case 'CharOn':\r\n                    case 'CharPose':\r\n                    case 'CharSet':\r\n                    case 'PlayBGM':\r\n                    case 'PlaySE':\r\n                    case 'ShowCG':\r\n                        frame = frame.concat(action.$d());\r\n                        break;\r\n                    case 'Monolog':\r\n                    case 'Speak':\r\n                        frame = frame.concat(action.$d());\r\n                        pack();\r\n                        break;\r\n                    case 'VoiceOver':\r\n                        pack();\r\n                        break;\r\n                    case 'Loop':\r\n                    case 'Otherwise':\r\n                    case 'Then':\r\n                    case 'When':\r\n                    case 'WhenVar':\r\n                        pack();\r\n                        resources = resources.concat((<Loop> action).c());\r\n                        break;\r\n                }\r\n            });\r\n            if (frame.length)\r\n                resources.push(frame);\r\n            return resources;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（作品事件）内容标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Scene/Content.ts\r\n */\r\n\r\n/// <reference path=\"../../_Action/_Logic/Loop.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Content extends Unknown implements Core.IPerformableTag, Core.IBlock {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Content';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var director: Core.IDirector = runtime.gD(),\r\n                states: Core.IStates = runtime.gS(),\r\n                logger: Util.ILogger = runtime.gL(),\r\n                title: string = 'CONTENT',\r\n                kid: string = '.a',\r\n                id: string = states.g(kid);\r\n            logger.o(title);\r\n            states.s('$d', 1);\r\n            return director.c(<Core.IResource<string | HTMLImageElement>[][]> Loop.prototype.c.call(this))\r\n                .then(() => Util.Q.every(this._s, (action: Action) => {\r\n                    if (runtime.gH())\r\n                        return E.doHalt<Core.IRuntime>();\r\n                    id = states.g(kid);\r\n                    if (id) {\r\n                        if ('gI' in action) {\r\n                            if ((<Idable> action).gI() != id)\r\n                                return runtime;\r\n                            states.d(kid);\r\n                            (<Idable> action).d();\r\n                        } else if ('gA' in action) {\r\n                            if (-1 == Util.indexOf((<Loop> action).gA(), id))\r\n                                return runtime;\r\n                        } else\r\n                            return runtime;\r\n                    }\r\n                    return action.p(runtime);\r\n                }))['catch']((error?: E) => {\r\n                    if (error && E.Signal.HALT == error.signal)\r\n                        logger.c(title);\r\n                    throw error;\r\n                }).then(() => {\r\n                    logger.c(title);\r\n                    return runtime;\r\n                });\r\n        }\r\n\r\n        /**\r\n         * 获取关键动作编号列表。\r\n         */\r\n        public gA(): string[] {\r\n            return Loop.prototype.gA.call(this);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（作品）事件标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Scene/Scene.ts\r\n */\r\n\r\n/// <reference path=\"Type.ts\" />\r\n/// <reference path=\"Conditions.ts\" />\r\n/// <reference path=\"Content.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Scene extends Unknown implements Core.ISceneTag {\r\n        /**\r\n         * 唯一编号。\r\n         */\r\n        private _i: string;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Scene';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            ((<Type> this.$q('Type')[0]).gR() || ep).a(this);\r\n        }\r\n\r\n        /**\r\n         * 转化为运行时（Javascript）代码。\r\n         */\r\n        public toJsrn(): string {\r\n            var clob: string = super.toJsrn();\r\n            return clob.substr(0, clob.length - 1) + ',\"' + this._i + '\")';\r\n        }\r\n\r\n        /**\r\n         * 获取编号。\r\n         */\r\n        public gI(): string {\r\n            return this._i;\r\n        }\r\n\r\n        /**\r\n         * 恢复编号。\r\n         */\r\n        public i(id: string): void {\r\n            this._i = id;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                logger: Util.ILogger = runtime.gL(),\r\n                title: string = 'SCENE ' + this._c,\r\n                tconds: string = 'CONDITIONS',\r\n                kid: string = '.s',\r\n                id: string = states.g(kid),\r\n                conds: Conditions = <Conditions> this.$q('Conditions')[0],\r\n                rconds: boolean,\r\n                content: Content;\r\n            logger.o(title);\r\n            if (id) {\r\n                if (id != this._i)\r\n                    return runtime;\r\n                states.d(kid);\r\n            } else if (conds) {\r\n                logger.o(tconds);\r\n                rconds = conds.t(runtime.gS());\r\n                logger.c(tconds);\r\n                if (!rconds) {\r\n                    logger.c(title);\r\n                    return runtime;\r\n                }\r\n            }\r\n            content = <Content> this.$q('Content')[0];\r\n            return Promise.resolve(content.p(runtime.s(this, this._c, content.gA())))\r\n                ['catch']((error?: E) => {\r\n                    if (error && E.Signal.HALT == error.signal)\r\n                        logger.c(title);\r\n                    throw error;\r\n                }).then(() => {\r\n                    logger.c(title);\r\n                    return runtime;\r\n                });\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): Core.ISceneTag.Type {\r\n            return (<Type> this.$q('Type')[0]).gT();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义房间（定义）标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/_Room/DefRoom.ts\r\n */\r\n\r\n/// <reference path=\"../../Entity.ts\" />\r\n/// <reference path=\"../../../Core/_Tag/IRoomTag.ts\" />\r\n/// <reference path=\"Link.ts\" />\r\n/// <reference path=\"Times.ts\" />\r\n/// <reference path=\"../../_Structure/_Scene/Scene.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class DefRoom extends Entity implements Core.IRoomTag {\r\n        /**\r\n         * 已添加地事件。\r\n         */\r\n        private _a: Util.IHashTable<Core.ISceneTag[]>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            this._a = {};\r\n            if (!this.$q('Link').length && !this.$q('Times').length)\r\n                throw new E(E.DEF_ROOM_EMPTY, lineNo);\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'DefRoom';\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): Core.IEpisode.Entity {\r\n            return Core.IEpisode.Entity.Room;\r\n        }\r\n\r\n        /**\r\n         * 添加事件。\r\n         */\r\n        public a(scene: Core.ISceneTag): DefRoom {\r\n            var type: Core.ISceneTag.Type = scene.gT();\r\n            this._a[type] = this._a[type] || [];\r\n            this._a[type].push(scene);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 播放。\r\n         */\r\n        public p(type: Core.ISceneTag.Type, runtime: Core.IRuntime, name?: string): Promise<Core.IRuntime> {\r\n            return (type in this._a ?\r\n                Util.Q.every(this._a[type], (scene: Core.ISceneTag) => {\r\n                    if (runtime.gH())\r\n                        return E.doHalt<Core.IRuntime>();\r\n                    if (name) {\r\n                        if ((<Scene> scene).$q('Type')[0].$c() == (<number> type).toString() + name)\r\n                            return scene.p(runtime);\r\n                    } else {\r\n                        return scene.p(runtime);\r\n                    }\r\n                }) :\r\n                Promise.resolve(runtime)\r\n            ).then(() => Core.ISceneTag.Type.PostEnter == type ?\r\n                runtime.gD().lightOn() :\r\n                runtime\r\n            );\r\n        }\r\n\r\n        /**\r\n         * 获取资源。\r\n         */\r\n        public o(id?: string): Core.IResource<HTMLImageElement> {\r\n            var map: DefMap = this.gM();\r\n            if (map)\r\n                return map.o();\r\n            return (<Times> this.$q('Times')[0]).o(id);\r\n        }\r\n\r\n        /**\r\n         * 获取关联地图。\r\n         */\r\n        public gM(): DefMap {\r\n            var l: Link = <Link> this.$q('Link')[0];\r\n            if (!l) return;\r\n            return l.gM();\r\n        }\r\n\r\n        /**\r\n         * 获取所有关联资源。\r\n         */\r\n        public d(): Core.IResource<HTMLImageElement>[] {\r\n            var map: DefMap = this.gM();\r\n            if (map)\r\n                return map.d();\r\n            return (<Times> this.$q('Times')[0]).d();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义自动播放标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/Auto.ts\r\n */\r\n\r\n/// <reference path=\"../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Auto extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Auto';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义主角标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Definition/Player.ts\r\n */\r\n\r\n/// <reference path=\"../Unknown.ts\" />\r\n/// <reference path=\"_Char/DefChar.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Player extends Unknown {\r\n        /**\r\n         * 关联对象。\r\n         */\r\n        private _o: DefChar;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Player';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._o = <DefChar> ep.q(this._c, Core.IEpisode.Entity.Chr, this._l);\r\n            ep.f(this);\r\n        }\r\n\r\n        /**\r\n         * 获取唯一编号。\r\n         */\r\n        public gI(): string {\r\n            return '';\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): Core.IEpisode.Entity {\r\n            return Core.IEpisode.Entity.Player;\r\n        }\r\n\r\n        /**\r\n         * 获取关联角色。\r\n         */\r\n        public gC(): DefChar {\r\n            if (!this._b)\r\n                throw new E(E.DEF_EPISODE_NOT_BINDED, this._l);\r\n            return this._o;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义主题标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/Theme.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n    const _theme: string = 'dahao';\r\n\r\n    export class Theme extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Theme';\r\n        }\r\n\r\n        /**\r\n         * 加载远端数据。\r\n         */\r\n        public l(callback: Util.ISuccessCallback<Util.IHashTable<any>>): void {\r\n            let version: string = Bigine.version;\r\n            Util.Remote.get('//s.dahao.de/theme/' + this._c + '/theme.json?' + version,\r\n                (des) => {\r\n                    des = this.path(des, this._c);\r\n                    if (this._c == 'dahao') {\r\n                        callback(des);\r\n                        return;\r\n                    }\r\n                    Util.Remote.get('//s.dahao.de/theme/' + _theme + '/theme.json?' + version,\r\n                        (src) => {\r\n                            src = this.path(src, _theme);\r\n                            callback(this.extend(des, src));\r\n                        }, (error: Error, status?: any) => {\r\n                            throw error;\r\n                        });\r\n                }, (error: Error, status?: any) => {\r\n                throw error;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 主题中有缺省元素，使用默认主题替换。\r\n         */\r\n        private extend(des: Util.IHashTable<any>, src: Util.IHashTable<any>): Util.IHashTable<any> {\r\n            Util.each(src, (data: any, index: number | string) => {\r\n                if (!(index in des)) {\r\n                    des[index] = data;\r\n                } else {\r\n                    if (typeof data == 'object')\r\n                        this.extend(des[index], data);\r\n                }\r\n            });\r\n            return des;\r\n        }\r\n\r\n        private path(src: Util.IHashTable<any>, theme: string): Util.IHashTable<any> {\r\n            Util.each(src, (data: any, index: number | string) => {\r\n                if (typeof data == 'object') {\r\n                    this.path(data, theme);\r\n                } else if (typeof data == 'string') {\r\n                    if (/.png$/.test(data) || /.jpg$/.test(data)) {\r\n                        src[index] = theme + '/' + data;\r\n                    }\r\n                }\r\n            });\r\n            return src;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义主题包标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/Resources.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../Unknown.ts\" />\r\n/// <reference path=\"../_Definition/_Room/DefRoom.ts\" />\r\n/// <reference path=\"../_Definition/_Char/DefChar.ts\" />\r\n/// <reference path=\"../_Definition/DefBGM.ts\" />\r\n/// <reference path=\"../_Definition/DefCG.ts\" />\r\n/// <reference path=\"../_Definition/DefSE.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Resources extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Resources';\r\n        }\r\n\r\n        /**\r\n         * 加载远端数据。\r\n         */\r\n        public l(callback: Util.ISuccessCallback<Util.IHashTable<Core.IEntityTag>>): void {\r\n            Util.Remote.post<Util.IHashTable<Util.IHashTable<any>>>('//api.dahao.de/resource/' + this._c + '/', {}, (data: Util.IHashTable<Util.IHashTable<Util.IHashTable<any>>>) => {\r\n                var ret: Util.IHashTable<Util.IHashTable<Core.IEntityTag>> = {};\r\n                ret['rooms'] = {};\r\n                Util.each(data['rooms'] || {}, (room: Util.IHashTable<any>, index: string) => {\r\n                    var times: Unknown[] = [];\r\n                    Util.each(<Util.IHashTable<string>> room['snaps'] || {}, (id: string, title: string) => {\r\n                        times.push(new Unknown([title], id, [], -1));\r\n                    });\r\n                    ret['rooms'][index] = new DefRoom([], <string> room['title'], [\r\n                        new Times([], '', times, -1)\r\n                    ], -1);\r\n                });\r\n                ret['chars'] = {};\r\n                Util.each(data['chars'] || {}, (chr: Util.IHashTable<any>, index: string) => {\r\n                    var poses: Unknown[] = [];\r\n                    Util.each(<Util.IHashTable<string>> chr['poses'] || {}, (id: string, title: string) => {\r\n                        poses.push(new Unknown([title], id, [], -1));\r\n                    });\r\n                    ret['chars'][index] = new DefChar([], <string> chr['title'], [\r\n                        new Avatar([], <string> chr['avatar'], [], -1),\r\n                        new Poses([], '', poses, -1)\r\n                    ], -1);\r\n                });\r\n                ret['maps'] = {};\r\n                Util.each(data['maps'] || {}, (map: Util.IHashTable<any>, index: string) => {\r\n                    var children: Unknown[] = [\r\n                        new BGImage([], <string> map['base'], [], -1)\r\n                    ];\r\n                    Util.each(<Util.IHashTable<Util.IHashTable<any>>> map['points'] || {}, (point: Util.IHashTable<any>) => {\r\n                        var region: { top: number; right: number; bottom: number; left: number } = point['region'],\r\n                            regstr: string = region.top + '，' + region.right + '，' + region.bottom + '，' + region.left;\r\n                        if ('priority' in point)\r\n                            regstr += '，' + point['priority'];\r\n                        children.push(new Point([], <string> point['title'], [\r\n                            new HLImage([], <string> point['hilite'], [], -1),\r\n                            new Region([], regstr, [], -1)\r\n                        ], -1));\r\n                    });\r\n                    ret['maps'][index] = new DefMap([], <string> map['title'], children, -1);\r\n                });\r\n                ret['bgms'] = {};\r\n                Util.each(data['bgms'] || {}, (bgm: Util.IHashTable<any>, index: string) => {\r\n                    ret['bgms'][index] = new DefBGM([], <string> bgm['title'], [\r\n                        new Audio([], <string> bgm['audio'], [], -1)\r\n                    ], -1);\r\n                });\r\n                ret['cgs'] = {};\r\n                Util.each(data['cgs'] || {}, (cg: Util.IHashTable<any>, index: string) => {\r\n                    ret['cgs'][index] = new DefCG([], <string> cg['title'], [\r\n                        new Image([], <string> cg['image'], [], -1)\r\n                    ], -1);\r\n                });\r\n                ret['ses'] = {};\r\n                Util.each(data['ses'] || {}, (se: Util.IHashTable<any>, index: string) => {\r\n                    ret['ses'][index] = new DefSE([], <string> se['title'], [\r\n                        new Audio([], <string> se['audio'], [], -1)\r\n                    ], -1);\r\n                });\r\n                ret = this.ll(ret);\r\n                callback(ret);\r\n            }, (error: Error, status?: any) => {\r\n                throw error;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 加载默认数据。\r\n         */\r\n        private ll(ret: Util.IHashTable<Util.IHashTable<Core.IEntityTag>>): Util.IHashTable<Util.IHashTable<Core.IEntityTag>> {\r\n            ret['rooms']['00000000-0000-0000-0000-000000000000'] = new DefRoom([], ' ', [\r\n                new Times([], '', [\r\n                    new Unknown(['晨'], '00000000-0000-0000-0000-000000000000', [], -1),\r\n                    new Unknown(['午'], '00000000-0000-0000-0000-000000000000', [], -1),\r\n                    new Unknown(['晚'], '00000000-0000-0000-0000-000000000000', [], -1),\r\n                    new Unknown(['夜'], '00000000-0000-0000-0000-000000000000', [], -1)\r\n                ], -1)], -1);\r\n            ret['chars']['00000000-0000-0000-0000-000000000001'] = new DefChar([], ' ', [\r\n                new Avatar([], '00000000-0000-0000-0000-000000000001', [], -1),\r\n                new Poses([], '', [new Unknown(['默认'], '00000000-0000-0000-0000-000000000002', [], -1)], -1)\r\n            ], -1);\r\n            return ret;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义状态标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/Status.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Status extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Status';\r\n        }\r\n\r\n        /**\r\n         * 列举配置。\r\n         */\r\n        public l(): [string, string][] {\r\n            let sheet: [string, string][] = [];\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                let title: string = tag.$p(0),\r\n                    value: string = tag.$c();\r\n                if ('空' == title)\r\n                    title = value = '';\r\n                sheet.push([title, value || title]);\r\n            });\r\n            Util.some(Util.clone(sheet).reverse(), (item: [string, string]) => {\r\n                if (item[0])\r\n                    return true;\r\n                sheet.pop();\r\n                return false;\r\n            });\r\n            return sheet;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义面板标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Panel/Panel.ts\r\n */\r\n\r\n/// <reference path=\"../../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Panel extends Unknown {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            if (!children || children.length == 0) throw new E(E.TAG_CHILDREN_TOO_FEW, this._l);\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Panel';\r\n        }\r\n\r\n        /**\r\n         * 列举配置。\r\n         */\r\n        public l(): Array<Util.IHashTable<any>> {\r\n            let sheet: Array<Util.IHashTable<any>> = [];\r\n            // let sheet: Util.IHashTable<any> = {};\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                let tagName: string = tag.gN();\r\n                let tagValue: Util.IHashTable<any> ;\r\n                if ('SimpPanel' == tagName) {\r\n                    tagValue = (<Tag.SimpPanel> tag).g();\r\n                } else if ('CollPanel' == tagName) {\r\n                    tagValue = (<Tag.CollPanel> tag).g();\r\n                }\r\n                sheet.push(tagValue);\r\n            });\r\n            return sheet;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义（作品）根标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/Root.ts\r\n */\r\n\r\n/// <reference path=\"../Unknown.ts\" />\r\n/// <reference path=\"../../Core/_Tag/IRootTag.ts\" />\r\n/// <reference path=\"Resources.ts\" />\r\n/// <reference path=\"Theme.ts\" />\r\n/// <reference path=\"Status.ts\" />\r\n/// <reference path=\"_Panel/Panel.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Root extends Unknown implements Core.IRootTag {\r\n        /**\r\n         * 压缩键名序列。\r\n         */\r\n        public static SERIALS: string = 'qwertyuiopasdfghjklzxcvbnm$_QWERTYUIOPASDFGHJKLZXCVBNM';\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(children: Unknown[]) {\r\n            super([], '', children);\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Root';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体到子标签及自身）。\r\n         */\r\n        public b(ep: Core.IEpisode): void {\r\n            var player: Unknown = this.$q('Player')[0];\r\n            if (player)\r\n                player.b(ep);\r\n            super.b(ep);\r\n        }\r\n\r\n        /**\r\n         * 转化为（中文）剧本（代码）。\r\n         */\r\n        public toString(): string {\r\n            var clob: string = '';\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                clob += tag.toString();\r\n            });\r\n            return clob;\r\n        }\r\n\r\n        /**\r\n         * 转化为运行时（Javascript）代码。\r\n         */\r\n        public toJsrn(): string {\r\n            var children: string[] = [],\r\n                profiler: (src: string) => Util.IHashTable<number> = (src: string) => {\r\n                    // 分析代码中各字符串的重复频度。\r\n                    var profile: Util.IHashTable<number> = {},\r\n                        buffer: string = '',\r\n                        found: boolean = false,\r\n                        escaped: boolean = false,\r\n                        index: number = 0,\r\n                        chr: string;\r\n                    for (; index < src.length; index++) {\r\n                        chr = src[index];\r\n                        if (!found) {\r\n                            if ('\"' == chr) {\r\n                                found = true;\r\n                                buffer = chr;\r\n                                continue;\r\n                            }\r\n                        }\r\n                        buffer += chr;\r\n                        if ('\\\\' == chr) {\r\n                            escaped = !escaped;\r\n                        } else if ('\"' == chr && !escaped) {\r\n                            profile[buffer] = 1 + (profile[buffer] || 0);\r\n                            buffer = '';\r\n                            found = false;\r\n                        } else {\r\n                            escaped = false;\r\n                        }\r\n                    }\r\n                    return profile;\r\n                },\r\n                dictor: (profile: Util.IHashTable<number>) => Util.IHashTable<string> = (profile: Util.IHashTable<number>) => {\r\n                    // 将可压缩率（重复次数 * 单次节省字符数）最高的字符串制作字典。\r\n                    var result: Util.IHashTable<string> = {},\r\n                        deltas: number[] = [0],\r\n                        terms: string[] = [''];\r\n                    Util.each(profile, (times: number, term: string) => {\r\n                        var tlen: number = term.length,\r\n                            delta: number = (times - 1) * (tlen - 3) - 2;\r\n                        if (1 > delta) return;\r\n                        Util.some(deltas, (value: number, index: number) => {\r\n                            if (delta < value)\r\n                                return false;\r\n                            deltas.splice(index, 0, delta);\r\n                            terms.splice(index, 0, term);\r\n                            return true;\r\n                        });\r\n                    });\r\n                    terms.pop();\r\n                    Util.every(terms, (term: string, index: number) => {\r\n                        if (1 + index > Root.SERIALS.length)\r\n                            return false;\r\n                        result[Root.SERIALS[index]] = term;\r\n                        return true;\r\n                    });\r\n                    return result;\r\n                },\r\n                dict: Util.IHashTable<string> = {},\r\n                dlobs: string[] = [],\r\n                echars: RegExp = /[-\\/\\\\^$*+?.()|[\\]{}]/g,\r\n                clob: string;\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                children.push(tag.toJsrn());\r\n            });\r\n            clob = children.join(',');\r\n            dict = dictor(profiler(clob));\r\n            Util.each(dict, (term: string, code: string) => {\r\n                clob = clob.replace(new RegExp(term.replace(echars, '\\\\$&'), 'g'), '_.' + code);\r\n                dlobs.push(code + ':' + term);\r\n            });\r\n            return '(function($,_){return $([' + clob + '])})(require(\"bigine\"),{' + dlobs.join(',') + '})';\r\n        }\r\n\r\n        /**\r\n         * 获取父标签。\r\n         */\r\n        public gU(): Unknown {\r\n            throw new E(E.ROOT_NOT_PARENT);\r\n        }\r\n\r\n        /**\r\n         * 是否自动播放。\r\n         */\r\n        public a(): boolean {\r\n            return 0 < this.$q('Auto').length;\r\n        }\r\n\r\n        /**\r\n         * 加载资源包。\r\n         */\r\n        public l(callback: Util.ISuccessCallback<Util.IHashTable<Core.IEntityTag>>): boolean {\r\n            var resources: Resources = <Resources> this.$q('Resources')[0];\r\n            if (!resources)\r\n                return false;\r\n            resources.l(callback);\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * 获取资源包名称。\r\n         */\r\n        public gS(): string {\r\n            return this.$q('Resources')[0].$c();\r\n        }\r\n\r\n        /**\r\n         * 加载主题。\r\n         */\r\n        public t(callback: Util.ISuccessCallback<Util.IHashTable<any>>): void {\r\n            (<Theme> this.$q('Theme')[0]).l(callback);\r\n        }\r\n\r\n        /**\r\n         * 获取主题名称。\r\n         */\r\n        public gT(): string {\r\n            return this.$q('Theme')[0].$c();\r\n        }\r\n\r\n        /**\r\n         * 获取状态配置。\r\n         */\r\n        public s(): [string, string][] {\r\n            let status: Status = <Status> this.$q('Status')[0];\r\n            if (!status)\r\n                return [];\r\n            return status.l();\r\n        }\r\n\r\n        /**\r\n         * 获取面板配置。\r\n         */\r\n        public p(): Array<Util.IHashTable<any>> {\r\n            let panel: Panel = <Panel> this.$q('Panel')[0];\r\n            if (!panel)\r\n                return [];\r\n            return panel.l();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义人物离场动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/CharOff.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class CharOff extends Action {\r\n        /**\r\n         * 人物名称。\r\n         */\r\n        private _mc: string;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            this._mc = params[0];\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CharOff';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            ep.q(this._mc, Core.IEpisode.Entity.Chr, this._l);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                kpos: string = '.p' + this._mc,\r\n                pos: Core.IDirector.Position = <Core.IDirector.Position> states.g(kpos);\r\n            if (!pos)\r\n                throw new E(E.ACT_CHAR_NOT_ON, this._l);\r\n            return runtime.gD().charOff(pos)\r\n                .then(() => {\r\n                    states.d(kpos);\r\n                    states.d('_c' + pos);\r\n                    states.d('_s' + pos);\r\n                    return runtime;\r\n                });\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义设置人物动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/CharSet.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"../../_Definition/_Char/DefChar.ts\" />\r\n\r\nnamespace Tag {\r\n    export class CharSet extends Action {\r\n        /**\r\n         * 位置。\r\n         */\r\n        private _mp: Core.IDirector.Position;\r\n\r\n        /**\r\n         * 人物名称。\r\n         */\r\n        private _mc: string;\r\n\r\n        /**\r\n         * 人物神态。\r\n         */\r\n        private _ms: string;\r\n\r\n        /**\r\n         * 使用人物。\r\n         */\r\n        private _mo: DefChar;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            var pos: typeof Core.IDirector.Position = Core.IDirector.Position,\r\n                exp: string[] = content.split('，');\r\n            switch (params[0]) {\r\n                case '左':\r\n                    this._mp = pos.Left;\r\n                    break;\r\n                case '右':\r\n                    this._mp = pos.Right;\r\n                    break;\r\n                case '中':\r\n                case undefined:\r\n                    this._mp = pos.Center;\r\n                    break;\r\n                default:\r\n                    throw new E(E.ACT_ILLEGAL_POSITION, lineNo);\r\n            }\r\n            this._mc = exp[0];\r\n            this._ms = exp[1] || '默认';\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CharSet';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._mo = <DefChar> ep.q(this._mc, Core.IEpisode.Entity.Chr, this._l);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                kpos: string = '.p' + this._mc,\r\n                pos: Core.IDirector.Position = states.g(kpos);\r\n            if (pos)\r\n                throw new E(E.ACT_CHAR_ONSTAGE, this._l);\r\n            states.s(kpos, this._mp);\r\n            states.s('_c' + this._mp, this._mc);\r\n            states.s('_s' + this._mp, this._ms);\r\n            return runtime.gD().charSet(this._mo.o(this._ms), this._mp);\r\n        }\r\n\r\n        /**\r\n         * 获取依赖素材资源列表。\r\n         */\r\n        public $d(): Core.IResource<HTMLImageElement>[] {\r\n            return [this._mo.o(this._ms)];\r\n        }\r\n\r\n        /**\r\n         * 获取关联人物。\r\n         */\r\n        public gC(): DefChar {\r\n            return this._mo;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义改变神态动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/CharPose.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"../../_Definition/_Char/DefChar.ts\" />\r\n\r\nnamespace Tag {\r\n    export class CharPose extends Action {\r\n        /**\r\n         * 人物名称。\r\n         */\r\n        private _mc: string;\r\n\r\n        /**\r\n         * 人物神态。\r\n         */\r\n        private _ms: string;\r\n\r\n        /**\r\n         * 使用资源。\r\n         */\r\n        private _mo: Core.IResource<HTMLImageElement>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            this._mc = params[0];\r\n            this._ms = content;\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CharPose';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._mo = (<DefChar> ep.q(this._mc, Core.IEpisode.Entity.Chr, this._l)).o(this._ms);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                kpos: string = '.p' + this._mc,\r\n                pos: Core.IDirector.Position = states.g(kpos);\r\n            if (!pos)\r\n                throw new E(E.ACT_CHAR_NOT_ON, this._l);\r\n            states.s('_s' + pos, this._ms);\r\n            return runtime.gD().charSet(this._mo, pos);\r\n        }\r\n\r\n        /**\r\n         * 获取依赖素材资源列表。\r\n         */\r\n        public $d(): Core.IResource<HTMLImageElement>[] {\r\n            return [this._mo];\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义独白动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Text/Monolog.ts\r\n */\r\n\r\n/// <reference path=\"../../Idable.ts\" />\r\n/// <reference path=\"../../_Definition/_Char/DefChar.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Monolog extends Idable {\r\n        /**\r\n         * 主角。\r\n         */\r\n        private _mc: DefChar;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Monolog';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._mc = (<Player> ep.q('', Core.IEpisode.Entity.Player, this._l)).gC();\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            return Promise.resolve(super.p(runtime))\r\n                .then(() => runtime.a(this).gD()\r\n                    .words(runtime.gS().t(this._c), 'monolog', this._mc.gI(), this._mc.o())\r\n                );\r\n        }\r\n\r\n        /**\r\n         * 获取依赖素材资源列表。\r\n         */\r\n        public $d(): Core.IResource<HTMLImageElement>[] {\r\n            return [this._mc.o()];\r\n        }\r\n\r\n        /**\r\n         * 获取关联人物。\r\n         */\r\n        public gC(): DefChar {\r\n            return this._mc;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义旁白动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Text/VoiceOver.ts\r\n */\r\n\r\n/// <reference path=\"../../Idable.ts\" />\r\n\r\nnamespace Tag {\r\n    export class VoiceOver extends Idable {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'VoiceOver';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            return Promise.resolve(super.p(runtime))\r\n                .then(() => runtime.a(this).gD()\r\n                    .words(runtime.gS().t(this._c), 'voiceover')\r\n                );\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义自动存档动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Save.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Save extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Save';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var scene: Unknown = this.gU(),\r\n                brief: string = this._p[0];\r\n            if (!brief) {\r\n                while ('Scene' != scene.gN())\r\n                    scene = scene.gU();\r\n                brief = scene.$c();\r\n            }\r\n            runtime.gS().e(false);\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义游戏完结事件动作组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Flow/End.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class End extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'End';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            runtime.gS().d('_rc')\r\n                .d('_rd')\r\n                .d('$rc')\r\n                .d('$rd');\r\n            runtime.t(() => runtime.gD().ED()\r\n                .then(() => runtime.gE().p(Core.ISceneTag.Type.End, runtime))\r\n            );\r\n            return E.doHalt<Core.IRuntime>();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义游戏失败事件动作组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Flow/Fail.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Fail extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Fail';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            runtime.gS().d('_rc')\r\n                .d('_rd')\r\n                .d('$rc')\r\n                .d('$rd');\r\n            runtime.t(() => runtime.gD().FAIL()\r\n                .then(() => runtime.gE().p(Core.ISceneTag.Type.Fail, runtime))\r\n            );\r\n            return E.doHalt<Core.IRuntime>();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义评分标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Flow/Stars.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"../../../Core/_Runtime/IDirector.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Stars extends Action {\r\n        /**\r\n         * 星级。\r\n         */\r\n        private _ms: Core.IDirector.Stars;\r\n\r\n        /**\r\n         * 星级拼音。\r\n         */\r\n        private _mp: string;\r\n\r\n        /**\r\n         * 数据值。\r\n         */\r\n        private _mv: string;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            var stars: typeof Core.IDirector.Stars = Core.IDirector.Stars;\r\n            switch (params[0]) {\r\n                case '及格':\r\n                    this._ms = stars.OK;\r\n                    this._mp = 'jige';\r\n                    break;\r\n                case '优秀':\r\n                    this._ms = stars.Awesome;\r\n                    this._mp = 'youxiu';\r\n                    break;\r\n                case '完美':\r\n                    this._ms = stars.Perfect;\r\n                    this._mp = 'wanmei';\r\n                    break;\r\n                case '超绝':\r\n                    this._ms = stars.Superb;\r\n                    this._mp = 'chaojue';\r\n                    break;\r\n                case '传奇':\r\n                    this._ms = stars.Legend;\r\n                    this._mp = 'chuanqi';\r\n                    break;\r\n                default:\r\n                    throw new E(E.ACT_ILLEGAL_STARS, lineNo);\r\n            }\r\n            this._mv = params[1] || '';\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Stars';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                value: string = this.$v(states.g(this._mv)).toString();\r\n            return runtime.gD().stars(this._ms, this._mp, value);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义关闭特写动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/HideCG.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class HideCG extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'HideCG';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                key: string = '_c',\r\n                cg: string = states.g(key);\r\n            if (!cg)\r\n                throw new E(E.ACT_CG_NOT_SHOWN, this._l);\r\n            states.d(key);\r\n            return runtime.gD().hideCG();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义设置时间动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/AsTime.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"../../_Definition/_Room/DefRoom.ts\" />\r\n\r\nnamespace Tag {\r\n    export class AsTime extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'AsTime';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                ktime: string = '_t',\r\n                time: string = states.g(ktime),\r\n                room: DefRoom = <DefRoom> states.g('$rd');\r\n            states.s(ktime, this._p[0]);\r\n            if (time == this._p[0] || !room)\r\n                return runtime;\r\n            return runtime.gD().asRoom(room.o(this._p[0]), true);\r\n        }\r\n\r\n        /**\r\n         * 获取时间。\r\n         */\r\n        public gT(): string {\r\n            return this._p[0];\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义移动中止动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Flow/Freeze.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Freeze extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Freeze';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            return E.doHalt<Core.IRuntime>();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义设置天气动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/Weather.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Weather extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Weather';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            runtime.gS().s('_w', this._p[0]);\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义当数据动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Assert.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Assert extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Assert';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var real: number | string = this.$v(<string> states.g(this._p[0])),\r\n                expected: number | string = states.g(this._p[1]),\r\n                depth: number = states.g('$d'),\r\n                ret: boolean;\r\n            expected = this.$v(undefined === expected ?\r\n                this._p[1] :\r\n                <string> expected);\r\n            switch (this._p[2] || '等于') {\r\n                case '等于':\r\n                    this._p.splice(2);\r\n                    ret = real == expected;\r\n                    break;\r\n                case '不等于':\r\n                    ret = real != expected;\r\n                    break;\r\n                case '大于':\r\n                    ret = real > expected;\r\n                    break;\r\n                case '不大于':\r\n                    ret = real <= expected;\r\n                    break;\r\n                case '小于':\r\n                    ret = real < expected;\r\n                    break;\r\n                case '不小于':\r\n                    ret = real >= expected;\r\n                    break;\r\n                default:\r\n                    throw new E(E.ACT_ILLEGAL_OP, this._l);\r\n            }\r\n            states.s('$v' + depth, ret)\r\n                .s('$t' + depth, false);\r\n            return ret;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义设置数据动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Assign.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Assign extends Action {\r\n        private _ep: Core.IEpisode;\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Assign';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._ep = ep;\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var depth: number = states.g('$d');\r\n            let sign: string = '／';\r\n            // 如果是设置结构体类型数据中字段值\r\n            if (/^.+／.+$/ig.test(this._p[0])) {\r\n                let vari: string = this._p[0].split(sign)[0];\r\n                let fieldName: string = this._p[0].split(sign)[1];\r\n                let data: Util.IHashTable<any> = states.g(vari);\r\n                let cStruct: Tag.Struct = <Tag.Struct> this._ep.q(data['：'], Core.IEpisode.Entity.Struct);\r\n                // 如果是实体类型字段\r\n                if ('object' == typeof data[fieldName]) {\r\n                    // 取出集合的结构\r\n                    data[fieldName] = this._ep.q(this._c, cStruct.gET(fieldName), this._l);\r\n                } else {\r\n                    data[fieldName] = this._c;\r\n                }\r\n                states.s(vari, data);\r\n            } else {\r\n                states.s(this._p[0], this.$v(this._c))\r\n                    .c(this._p[0], '$v' + depth)\r\n                    .s('$t' + depth, false);\r\n            }\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            if (/.*／$/.test(this._p[0])) throw new E(E.LEX_ILLEGAL_SOURCE, this._l);\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义对比数据动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Compare.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Compare extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Compare';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var depth: number = states.g('$d');\r\n            states.c(this._p[0], '$v' + depth)\r\n                .s('$t' + depth, false);\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义设置数据动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Increase.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Increase extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Increase';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var depth: number = states.g('$d');\r\n            states.s(this._p[0], states.g(this._p[0]) + this.$v(this._c))\r\n                .c(this._p[0], '$v' + depth)\r\n                .s('$t' + depth, false);\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义循环中止动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Flow/LoopBreak.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class LoopBreak extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'LoopBreak';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            return E.doBreak<Core.IRuntime>();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义且动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/And.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class And extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'And';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var depth: number = states.g('$d'),\r\n                ret: boolean = Util.every(this._s, (tag: Action) => tag.t(states));\r\n            states.s('$v' + depth, ret)\r\n                .s('$t' + depth, false);\r\n            return ret;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义或动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Or.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Or extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Or';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var depth: number = states.g('$d'),\r\n                ret: boolean = Util.some(this._s, (tag: Action) => tag.t(states));\r\n            states.s('$v' + depth, ret)\r\n                .s('$t' + depth, false);\r\n            return ret;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义否则动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Otherwise.ts\r\n */\r\n\r\n/// <reference path=\"Loop.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Otherwise extends Action implements Core.IBlock {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Otherwise';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var key: string = '$t' + states.g('$d');\r\n            if (states.g(key))\r\n                return true;\r\n            states.s(key, true);\r\n            return Util.every(this._s, (tag: Action) => tag.t(states));\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                logger: Util.ILogger = runtime.gL(),\r\n                title: string = 'OTHERWISE',\r\n                kd: string = '$d',\r\n                depth: number = states.g(kd),\r\n                kt: string = '$t' + depth,\r\n                kid: string = '.a',\r\n                id: string = states.g(kid);\r\n            if (!id && states.g(kt))\r\n                return runtime;\r\n            logger.o(title);\r\n            states.s(kt, true)\r\n                .s(kd, 1 + depth);\r\n            return Util.Q.every(this._s, (action: Action) => {\r\n                id = states.g(kid);\r\n                if (id) {\r\n                    if ('gI' in action) {\r\n                        if ((<Idable> action).gI() != id)\r\n                            return runtime;\r\n                        states.d(kid);\r\n                        (<Idable> action).d();\r\n                    } else if ('gA' in action) {\r\n                        if (-1 == Util.indexOf((<Loop> action).gA(), id))\r\n                            return runtime;\r\n                    } else\r\n                        return runtime;\r\n                }\r\n                return action.p(runtime);\r\n            })['catch']((error?: E) => {\r\n                if (error && E.Signal.HALT == error.signal)\r\n                    logger.c(title);\r\n                throw error;\r\n            }).then(() => {\r\n                states.s(kd, depth);\r\n                logger.c(title);\r\n                return runtime;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 获取关键动作编号列表。\r\n         */\r\n        public gA(): string[] {\r\n            return Loop.prototype.gA.call(this);\r\n        }\r\n\r\n        /**\r\n         * 获取使用资源列表。\r\n         */\r\n        public c(): Core.IResource<string | HTMLImageElement>[][] {\r\n            return <Core.IResource<string | HTMLImageElement>[][]> Loop.prototype.c.call(this);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义那么动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Then.ts\r\n */\r\n\r\n/// <reference path=\"Loop.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Then extends Action implements Core.IBlock {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Then';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var depth: number = states.g('$d'),\r\n                kt: string = '$t' + depth,\r\n                kv: string = '$v' + depth;\r\n            if (states.g(kt) || !states.g(kv))\r\n                return true;\r\n            states.s(kt, true);\r\n            return Util.every(this._s, (tag: Action) => tag.t(states));\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                logger: Util.ILogger = runtime.gL(),\r\n                title: string = 'THEN',\r\n                kd: string = '$d',\r\n                depth: number = states.g(kd),\r\n                kt: string = '$t' + depth,\r\n                kv: string = '$v' + depth,\r\n                kid: string = '.a',\r\n                id: string = states.g(kid);\r\n            if (!id && (states.g(kt) || !states.g(kv)))\r\n                return runtime;\r\n            logger.o(title);\r\n            states.s(kt, true)\r\n                .s(kd, 1 + depth);\r\n            return Util.Q.every(this._s, (action: Action) => {\r\n                id = states.g(kid);\r\n                if (id) {\r\n                    if ('gI' in action) {\r\n                        if ((<Idable> action).gI() != id)\r\n                            return runtime;\r\n                        states.d(kid);\r\n                        (<Idable> action).d();\r\n                    } else if ('gA' in action) {\r\n                        if (-1 == Util.indexOf((<Loop> action).gA(), id))\r\n                            return runtime;\r\n                    } else\r\n                        return runtime;\r\n                }\r\n                return action.p(runtime);\r\n            })['catch']((error?: E) => {\r\n                if (error && E.Signal.HALT == error.signal)\r\n                    logger.c(title);\r\n                throw error;\r\n            }).then(() => {\r\n                states.s(kd, depth);\r\n                logger.c(title);\r\n                return runtime;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 获取关键动作编号列表。\r\n         */\r\n        public gA(): string[] {\r\n            return Loop.prototype.gA.call(this);\r\n        }\r\n\r\n        /**\r\n         * 获取使用资源列表。\r\n         */\r\n        public c(): Core.IResource<string | HTMLImageElement>[][] {\r\n            return <Core.IResource<string | HTMLImageElement>[][]> Loop.prototype.c.call(this);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义如果动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/When.ts\r\n */\r\n\r\n/// <reference path=\"Loop.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class When extends Action implements Core.IBlock {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'When';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var depth: number = states.g('$d'),\r\n                kt: string = '$t' + depth,\r\n                kv: string = '$v' + depth;\r\n            if (states.g(kt) || states.g(kv) != this.$v(this._p[0]))\r\n                return true;\r\n            states.s(kt, true);\r\n            return Util.every(this._s, (tag: Action) => tag.t(states));\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                logger: Util.ILogger = runtime.gL(),\r\n                value: string | number = this.$v(this._p[0]),\r\n                title: string = 'WHEN ' + <any> value,\r\n                kd: string = '$d',\r\n                depth: number = states.g(kd),\r\n                kt: string = '$t' + depth,\r\n                kv: string = '$v' + depth,\r\n                kid: string = '.a',\r\n                id: string = states.g(kid);\r\n            if (!id && (states.g(kt) || states.g(kv) != value))\r\n                return runtime;\r\n            logger.o(title);\r\n            states.s(kt, true)\r\n                .s(kd, 1 + depth);\r\n            return Util.Q.every(this._s, (action: Action) => {\r\n                id = states.g(kid);\r\n                if (id) {\r\n                    if ('gI' in action) {\r\n                        if ((<Idable> action).gI() != id)\r\n                            return runtime;\r\n                        states.d(kid);\r\n                        (<Idable> action).d();\r\n                    } else if ('gA' in action) {\r\n                        if (-1 == Util.indexOf((<Loop> action).gA(), id))\r\n                            return runtime;\r\n                    } else\r\n                        return runtime;\r\n                }\r\n                return action.p(runtime);\r\n            })['catch']((error?: E) => {\r\n                if (error && E.Signal.HALT == error.signal)\r\n                    logger.c(title);\r\n                throw error;\r\n            }).then(() => {\r\n                states.s(kd, depth);\r\n                logger.c(title);\r\n                return runtime;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 获取关键动作编号列表。\r\n         */\r\n        public gA(): string[] {\r\n            return Loop.prototype.gA.call(this);\r\n        }\r\n\r\n        /**\r\n         * 获取使用资源列表。\r\n         */\r\n        public c(): Core.IResource<string | HTMLImageElement>[][] {\r\n            return <Core.IResource<string | HTMLImageElement>[][]> Loop.prototype.c.call(this);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义选项动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Flow/Option.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n/// <reference path=\"../../../Core/_Tag/IOptionTag.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Option extends Unknown implements Core.IOptionTag {\r\n        /**\r\n         * 关联状态名称。\r\n         */\r\n        protected _k: string;\r\n\r\n        /**\r\n         * 唯一编号。\r\n         */\r\n        protected _i: string;\r\n\r\n        /**\r\n         * 是否已付费。\r\n         */\r\n        protected _a: boolean;\r\n\r\n        /**\r\n         * 类型转换。\r\n         */\r\n        public static f(tag: Unknown): Option {\r\n            if ('Unknown' != tag.gN())\r\n                throw new E(E.ACT_OPTION_CAST_FAILURE, tag.gL());\r\n            let opt: Option = new Option([tag.$p(0)], tag.$c(), [], tag.gL());\r\n            return opt;\r\n        }\r\n\r\n        /**\r\n         * 获取描述文字。\r\n         */\r\n        public gT(): string {\r\n            return this._c || this._p[0];\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Option';\r\n        }\r\n\r\n        /**\r\n         * 交互逻辑。\r\n         */\r\n        public p(runtime: Core.IRuntime): void {\r\n            var states: Core.IStates = runtime.gS(),\r\n                depth: number = states.g('$d'),\r\n                kv: string = '$v' + depth;\r\n            states.s(kv, this.$v(this._p[0]))\r\n                .s('$t' + depth, false);\r\n            if (this._k)\r\n                states.c(kv, this._k);\r\n        }\r\n\r\n        /**\r\n         * 设置状态键名。\r\n         */\r\n        public sK(key: string): Option {\r\n            this._k = key;\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 获取萝卜币。\r\n         */\r\n        public gM(): number {\r\n            return parseInt(this._p[1], 10) || 0;\r\n        }\r\n\r\n        /**\r\n         * 设置是否付费信息。\r\n         */\r\n        public sA(is: boolean): Option {\r\n            this._a = is;\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 获取是否付费信息。\r\n         */\r\n        public gA(): boolean {\r\n            return this._a;\r\n        }\r\n\r\n        /**\r\n         * 获取编号。\r\n         */\r\n        public gI(): string {\r\n            return this._i;\r\n        }\r\n\r\n        /**\r\n         * 恢复编号。\r\n         */\r\n        public i(id: string): void {\r\n            this._i = id;\r\n        }\r\n\r\n        /**\r\n         * 转化为运行时（Javascript）代码。\r\n         */\r\n        public toJsrn(): string {\r\n            var clob: string = super.toJsrn();\r\n            return this._p[1] ? clob.substr(0, clob.length - 1) + ',\"' + this._i + '\")' : clob;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义选择动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Flow/Choose.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"Option.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Choose extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Choose';\r\n        }\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            if (!children.length && !content.length)\r\n                throw new E(E.OPT_OPTIONS_MISSING, lineNo);\r\n            if (children.length && content)\r\n                throw new E(E.OPT_OPTIONS_CONFLICT, lineNo);\r\n            super(params, content, children, lineNo);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var opts: Option[],\r\n                states: Core.IStates = runtime.gS();\r\n            if (this._c) {\r\n                opts = runtime.gS().g('$_' + this._c) || [];\r\n                Util.each(opts, (option: Option) => {\r\n                    if ('i' in option && option.gI())\r\n                        option.sA(states.qp(option.gI(), option.gM()));\r\n                });\r\n                if (this._p[0])\r\n                    Util.each(opts, (option: Option) => {\r\n                        option.sK(this._p[0]);\r\n                    });\r\n            } else {\r\n                opts = [];\r\n                Util.each(this._s, (tag: Unknown) => {\r\n                    if ('i' in tag) {\r\n                        let isPay: boolean = states.qp((<Option> tag).gI(), (<Option> tag).gM());\r\n                        (<Option> tag).sA(isPay);\r\n                        opts.push(<Option> tag);\r\n                    } else {\r\n                        opts.push(Option.f(tag).sK(this._p[0]));\r\n                    }\r\n                });\r\n            }\r\n            if (opts.length)\r\n                return runtime.gD().choose(opts);\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义提示动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Text/Tip.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Tip extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Tip';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            return runtime.gD().tip(runtime.gS().t(this._c));\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义最大数据动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Maximum.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Maximum extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Maximum';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var max: number = 0,\r\n                depth: number = states.g('$d'),\r\n                value: number;\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                value = states.g(tag.$p(0)) - 0 || 0;\r\n                if (value > max)\r\n                    max = value;\r\n            });\r\n            states.s('$v' + depth, max)\r\n                .s('$t' + depth, false);\r\n            if (this._p[0])\r\n                states.s(this._p[0], max);\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义人物移动动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/CharMove.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class CharMove extends Action {\r\n        /**\r\n         * 人物名称。\r\n         */\r\n        private _mc: string;\r\n\r\n        /**\r\n         * 位置。\r\n         */\r\n        private _mp: Core.IDirector.Position;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            this._mc = params[0];\r\n            var pos: typeof Core.IDirector.Position = Core.IDirector.Position;\r\n            switch (content) {\r\n                case '左':\r\n                    this._mp = pos.Left;\r\n                    break;\r\n                case '右':\r\n                    this._mp = pos.Right;\r\n                    break;\r\n                case '中':\r\n                case undefined:\r\n                    this._mp = pos.Center;\r\n                    break;\r\n                default:\r\n                    throw new E(E.ACT_ILLEGAL_POSITION, lineNo);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CharMove';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            ep.q(this._mc, Core.IEpisode.Entity.Chr, this._l);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                kpos: string = '.p' + this._mc,\r\n                pos: Core.IDirector.Position = <Core.IDirector.Position> states.g(kpos);\r\n            if (!pos)\r\n                throw new E(E.ACT_CHAR_NOT_ON, this._l);\r\n            if (pos == this._mp)\r\n                return runtime;\r\n            return runtime.gD().charMove(pos, this._mp)\r\n                .then(() => {\r\n                    states.s(kpos, this._mp);\r\n                    states.m('_c' + pos, '_c' + this._mp);\r\n                    states.m('_s' + pos, '_s' + this._mp);\r\n                    return runtime;\r\n                });\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义如果数据动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/WhenVar.ts\r\n */\r\n\r\n/// <reference path=\"Loop.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class WhenVar extends Action implements Core.IBlock {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'WhenVar';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var depth: number = states.g('$d'),\r\n                kt: string = '$t' + depth,\r\n                kv: string = '$v' + depth;\r\n            if (states.g(kt) || states.g(kv) != this.$v(states.g(this._p[0])))\r\n                return true;\r\n            states.s(kt, true);\r\n            return Util.every(this._s, (tag: Action) => tag.t(states));\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                logger: Util.ILogger = runtime.gL(),\r\n                value: string | number = this.$v(states.g(this._p[0])),\r\n                title: string = 'WHENVAR ' + this._p[0],\r\n                kd: string = '$d',\r\n                depth: number = states.g(kd),\r\n                kt: string = '$t' + depth,\r\n                kv: string = '$v' + depth,\r\n                kid: string = '.a',\r\n                id: string = states.g(kid);\r\n            if (!id && (states.g(kt) || states.g(kv) != value))\r\n                return runtime;\r\n            logger.o(title);\r\n            states.s(kt, true)\r\n                .s(kd, 1 + depth);\r\n            return Util.Q.every(this._s, (action: Action) => {\r\n                id = states.g(kid);\r\n                if (id) {\r\n                    if ('gI' in action) {\r\n                        if ((<Idable> action).gI() != id)\r\n                            return runtime;\r\n                        states.d(kid);\r\n                        (<Idable> action).d();\r\n                    } else if ('gA' in action) {\r\n                        if (-1 == Util.indexOf((<Loop> action).gA(), id))\r\n                            return runtime;\r\n                    } else\r\n                        return runtime;\r\n                }\r\n                return action.p(runtime);\r\n            })['catch']((error?: E) => {\r\n                if (error && E.Signal.HALT == error.signal)\r\n                    logger.c(title);\r\n                throw error;\r\n            }).then(() => {\r\n                states.s(kd, depth);\r\n                logger.c(title);\r\n                return runtime;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 获取关键动作编号列表。\r\n         */\r\n        public gA(): string[] {\r\n            return Loop.prototype.gA.call(this);\r\n        }\r\n\r\n        /**\r\n         * 获取使用资源列表。\r\n         */\r\n        public c(): Core.IResource<string | HTMLImageElement>[][] {\r\n            return <Core.IResource<string | HTMLImageElement>[][]> Loop.prototype.c.call(this);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义停止音乐动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/StopBGM.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class StopBGM extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'StopBGM';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            runtime.gS().d('_b');\r\n            return runtime.gD().playBGM();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义定义选择动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Flow/DefOptions.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"Option.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class DefOptions extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'DefOptions';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var opts: Option[] = [],\r\n                states: Core.IStates = runtime.gS();\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                if ('i' in tag) {\r\n                    let isPay: boolean = states.qp((<Option> tag).gI(), (<Option> tag).gM());\r\n                    (<Option> tag).sA(isPay);\r\n                    opts.push(<Option> tag);\r\n                } else {\r\n                    opts.push(Option.f(tag));\r\n                }\r\n            });\r\n            runtime.gS().s('$_' + this._c, opts);\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义添加选项动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Flow/AddOption.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"Option.ts\" />\r\n\r\nnamespace Tag {\r\n    export class AddOption extends Action implements Core.IIdableTag {\r\n        /**\r\n         * 唯一编号。\r\n         */\r\n        protected _i: string;\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'AddOption';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                key: string = '$_' + this._p[0],\r\n                opts: Option[] = states.g(key) || [],\r\n                params: Array<any> = this._p[2] ? [this._p[1], this._p[2]] : [this._p[1]],\r\n                opt: Option = new Option(params, this._c || this._p[1], [], this._l);\r\n            if (this._p[2]) opt.i(this.gI());\r\n            opts.push(opt);\r\n            states.s(key, opts);\r\n            return runtime;\r\n        }\r\n\r\n        /**\r\n         * 获取编号。\r\n         */\r\n        public gI(): string {\r\n            return this._i;\r\n        }\r\n\r\n        /**\r\n         * 恢复编号。\r\n         */\r\n        public i(id: string): void {\r\n            this._i = id;\r\n        }\r\n\r\n        /**\r\n         * 转化为运行时（Javascript）代码。\r\n         */\r\n        public toJsrn(): string {\r\n            var clob: string = super.toJsrn();\r\n            return this._p[2] ? clob.substr(0, clob.length - 1) + ',\"' + this._i + '\")' : clob;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义去除选项动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Flow/DropOption.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"Option.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class DropOption extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'DropOption';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                key: string = '$_' + this._p[0],\r\n                opts: Option[] = states.g(key) || [];\r\n            Util.some(opts, (option: Option, index: number) => {\r\n                if (this._p[1] != option.$p(0))\r\n                    return false;\r\n                opts.splice(index, 1);\r\n                return true;\r\n            });\r\n            states.s(key, opts);\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义随机数据动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Random.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Random extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Random';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var depth: number = states.g('$d');\r\n            states.s(this._p[0], 1 | 100 * Math.random())\r\n                .c(this._p[0], '$v' + depth)\r\n                .s('$t' + depth, false);\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义当时间动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/IfTime.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class IfTime extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'IfTime';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var depth: number = states.g('$d'),\r\n                ret: boolean = this._p[0] == states.g('_t');\r\n            states.s('$v' + depth, ret)\r\n                .s('$t' + depth, false);\r\n            return ret;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义复制数据动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Copy.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Copy extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Copy';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var depth: number = states.g('$d');\r\n            states.c(this._p[1], this._p[0])\r\n                .c(this._p[0], '$v' + depth)\r\n                .s('$t' + depth, false);\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义数据合值动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Add.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Add extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Add';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var value: number = 0,\r\n                depth: number = states.g('$d');\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                value += states.g(tag.$p(0)) - 0 || 0;\r\n            });\r\n            states.s(this._p[0], value)\r\n                .c(this._p[0], '$v' + depth)\r\n                .s('$t' + depth, false);\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义数据差值动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Subtract.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Subtract extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Subtract';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var value: number = states.g(this._p[1]),\r\n                depth: number = states.g('$d');\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                value -= states.g(tag.$p(0)) - 0 || 0;\r\n            });\r\n            states.s(this._p[0], value)\r\n                .c(this._p[0], '$v' + depth)\r\n                .s('$t' + depth, false);\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义数据倍值动作标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Product.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Product extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Product';\r\n        }\r\n\r\n        /**\r\n         * （执行）检查。\r\n         */\r\n        public t(states: Core.IStates): boolean {\r\n            var value: number = 1,\r\n                depth: number = states.g('$d');\r\n            Util.each(this._s, (tag: Unknown) => {\r\n                value *= states.g(tag.$p(0)) - 0 || 0;\r\n            });\r\n            states.s(this._p[0], value)\r\n                .c(this._p[0], '$v' + depth)\r\n                .s('$t' + depth, false);\r\n            return true;\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            this.t(runtime.gS());\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义定义数据动作标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Define.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n    export class Define extends Action {\r\n        /**\r\n         * 对应的结构体。\r\n         */\r\n        private _ms: Struct;\r\n\r\n        /**\r\n         * 标签定义的数据。\r\n         */\r\n        private _md: Util.IHashTable<any>;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            this._md = {};\r\n            Util.each(children, (child: Unknown) => {\r\n                var fieldName: string = child.$p(0);\r\n                var fieldVal: string = child.$c();\r\n                this._md[fieldName] = fieldVal;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Define';\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._ms = <Struct> ep.q(this._p[0], Core.IEpisode.Entity.Struct, this._l);\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            runtime.gS().s(this._c, this._ms.g(this._md));\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义[定义集合]动作标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Collection.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Collection extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Collection';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                type: string = '：',\r\n                coll: Util.IHashTable<any> = {\r\n                    '：': this._p[0],\r\n                    '': []\r\n                },\r\n                obj: Util.IHashTable<any>;\r\n            Util.each(this._s, (child: Unknown) => {\r\n                obj = states.g(child.$p(0));\r\n                if ('object' != typeof obj || !(type in obj) || obj[type] != this._p[0]) {\r\n                    throw new E(E.COLL_STRUCT_DISMATCHED, this._l);\r\n                }\r\n                coll[''].push(obj);\r\n            });\r\n            states.s(this._c, coll);\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义[增加元素]动作标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/CollPush.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class CollPush extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CollPush';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                collection: Util.IHashTable<any> = states.g(this._p[0]),\r\n                addItem: Util.IHashTable<any> = states.g(this._c),\r\n                type: string = \"：\";\r\n            // 要证元素的数据类型是否匹配集合的数据类型\r\n            if ('object' != typeof addItem || !(type in addItem) || addItem[type] != collection[type]) {\r\n                throw new E(E.COLL_STRUCT_DISMATCHED, this._l);\r\n            }\r\n            collection[''].push(addItem);\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义[删除元素]动作标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/CollPop.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class CollPop extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CollPop';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                coll: Array<Util.IHashTable<any>> = states.g(this._p[0])[''],\r\n                delItem: Util.IHashTable<any> = states.g(this._c);\r\n            Util.every(coll, (item: Util.IHashTable<any>, index: number) => {\r\n                if (delItem == item) {\r\n                    coll.splice(index, 1);\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n            return runtime;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义结构标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_State/Struct.ts\r\n */\r\n\r\n/// <reference path=\"../Entity.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Struct extends Entity {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            let entCount: number = 0;\r\n            let nameCount: number = 0;\r\n            Util.each(children, (child: Field) => {\r\n                if (child.iE()) {\r\n                    entCount ++;\r\n                }\r\n                if (child.iN()) {\r\n                    nameCount ++;\r\n                }\r\n            });\r\n            if (entCount > 1 || nameCount > 1) throw new E(E.STRUCT_FIELD_TYPE_TOO_MANY, this._l);\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Struct';\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): Core.IEpisode.Entity {\r\n            return Core.IEpisode.Entity.Struct;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gS(): Array<Unknown> {\r\n            return this._s;\r\n        }\r\n\r\n        /**\r\n         * 获取实体字段的实体类型。\r\n         */\r\n        public gET(fieldName: string): Core.IEpisode.Entity {\r\n            let entityType: Core.IEpisode.Entity;\r\n            Util.every(this._s, (field: Field) => {\r\n                if (field.$c() == fieldName && field.iE()) {\r\n                    entityType = field.gET();\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n            return entityType;\r\n        }\r\n\r\n        /**\r\n         * 根据字段名判断是否实体类型的字段。\r\n         */\r\n        public iE(fieldName: string): boolean {\r\n            let isEntity: boolean = false;\r\n            Util.every(this._s, (field: Field) => {\r\n                if (field.$c() == fieldName && field.iE()) {\r\n                    isEntity = true;\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n            return isEntity;\r\n        }\r\n\r\n        /**\r\n         * 获取结构体对象。\r\n         */\r\n        public g(data: Util.IHashTable<any>): Util.IHashTable<any> {\r\n            var result: Util.IHashTable<any> = {'：': this._c};\r\n            Util.each(this._s, (child: Field) => {\r\n                var fieldVal: string = data[child.$c()];\r\n                result[child.$c()] = child.g(fieldVal ? fieldVal : null);\r\n            });\r\n            return result;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义字段标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_State/Field.ts\r\n */\r\n\r\n/// <reference path=\"../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Field extends Unknown {\r\n        private _ep: Core.IEpisode;\r\n\r\n        private numberTypes: string[] = ['心', '星'];\r\n        private nameTypes: string[] = ['名称'];\r\n        private entityTypes: Util.IHashTable<any> = {\r\n            '人物': Core.IEpisode.Entity.Chr,\r\n            '房间': Core.IEpisode.Entity.Room,\r\n            '特写': Core.IEpisode.Entity.CG\r\n        };\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n        }\r\n\r\n        /**\r\n         * 绑定（运行时）作品（实体）。\r\n         */\r\n        public $b(ep: Core.IEpisode): void {\r\n            this._ep = ep;\r\n        }\r\n\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Field';\r\n        }\r\n\r\n        /**\r\n         * 是否实体类型。\r\n         */\r\n        public iE(): boolean {\r\n            let fieldType: string;\r\n            Util.each(this._s, (child: Unknown) => {\r\n                if (child.gN() == 'FieldType') {\r\n                    fieldType = child.$c();\r\n                }\r\n            });\r\n            return this.entityTypes[fieldType] != null && this.entityTypes[fieldType] != undefined;\r\n        }\r\n\r\n        /**\r\n         * 获取实体类型值。\r\n         */\r\n        public gIE(val: string): Entity {\r\n            if (this._s.length == 0) return undefined;\r\n            var fieldType: string = null;\r\n            Util.each(this._s, (child: Unknown) => {\r\n                if (child.gN() == 'FieldType') {\r\n                    fieldType = child.$c();\r\n                }\r\n            });\r\n            if (this.entityTypes[fieldType]) {\r\n                if (!val) throw new E(E.STRUCT_FIELD_MISSING, this._l);\r\n                var obj: any = this._ep.q(val, this.entityTypes[fieldType], this._l);\r\n                return obj;\r\n            }\r\n            return undefined;\r\n        }\r\n\r\n        /**\r\n         * 是否名称类型。\r\n         */\r\n        public iN(): boolean {\r\n            let fieldType: string;\r\n            Util.each(this._s, (child: Unknown) => {\r\n                if (child.gN() == 'FieldType') {\r\n                    fieldType = child.$c();\r\n                }\r\n            });\r\n            return Util.indexOf(this.nameTypes, fieldType) > -1;\r\n        }\r\n\r\n        /**\r\n         * 获取字段类型。\r\n         */\r\n        public gT(): string {\r\n            let fieldType: string;\r\n            Util.each(this._s, (child: Unknown) => {\r\n                if (child.gN() == 'FieldType') {\r\n                    fieldType = child.$c();\r\n                }\r\n            });\r\n            return fieldType;\r\n        }\r\n\r\n        /**\r\n         * 获取字段类型。\r\n         */\r\n        public gET(): Core.IEpisode.Entity {\r\n            let entity: Core.IEpisode.Entity = this.entityTypes[this.gT()];\r\n            return entity;\r\n        }\r\n\r\n        /**\r\n         * 获取上限。\r\n         */\r\n        public gL(): number {\r\n            if (this._s.length == 0) return 0;\r\n            var fieldLimit: number = 0;\r\n            Util.each(this._s, (child: Unknown) => {\r\n                if (child.gN() == 'FieldLimit') {\r\n                    fieldLimit = parseInt(child.$c(), 10) || 0;\r\n                }\r\n            });\r\n            return fieldLimit;\r\n        }\r\n\r\n        /**\r\n         * 获取字段的值。\r\n         */\r\n        public g(val: string): number | string {\r\n            if (this._s.length == 0) return val ? val : '';\r\n            var fieldType: string = null;\r\n            var fieldLimit: string = null;\r\n            Util.each(this._s, (child: Unknown) => {\r\n                if (child.gN() == 'FieldType') {\r\n                    fieldType = child.$c();\r\n                }\r\n                if (child.gN() == 'FieldLimit') {\r\n                    fieldLimit = child.$c();\r\n                }\r\n            });\r\n            if (Util.indexOf(this.numberTypes, fieldType) > -1) {\r\n                var limit: number = parseInt(fieldLimit, 10);\r\n                var value: number = (val != null && val != undefined) ? parseInt(val, 10) : 0;\r\n                return value > limit ? limit : value;\r\n            } else if (this.entityTypes[fieldType]) {\r\n                if (!val) throw new E(E.STRUCT_FIELD_MISSING, this._l);\r\n                return val;\r\n            }\r\n            return val ? val : '';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义类别标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_State/FieldType.ts\r\n */\r\n\r\n/// <reference path=\"../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    export class FieldType extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'FieldType';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义上限标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_State/FieldLimit.ts\r\n */\r\n\r\n/// <reference path=\"../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    export class FieldLimit extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'FieldLimit';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义集合面板标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Panel/CollPanel.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class CollPanel extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CollPanel';\r\n        }\r\n\r\n        /**\r\n         * 根据标签结构生成数据结构。\r\n         */\r\n        public g(): Util.IHashTable<any> {\r\n            let result: Util.IHashTable<any> = {};\r\n            let colls: string[] = [];\r\n            let strutc: string = '';\r\n            Util.each(this._s, (child: Unknown) => {\r\n                if ('CollSource' == child.gN()) {\r\n                    colls.push(child.$c());\r\n                } else if ('CollStruct' == child.gN()) {\r\n                    strutc = child.$c();\r\n                }\r\n            });\r\n            result[\"cn\"] = colls;\r\n            result[\"s\"] = strutc;\r\n            result[\"：\"] = \"coll\";\r\n            result[\"n\"] = this._c;\r\n            return result;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义使用集合标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Panel/CollSource.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    // import Util = __Bigine_Util;\r\n\r\n    export class CollSource extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CollSource';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义集合结构标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Panel/CollStruct.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    // import Util = __Bigine_Util;\r\n\r\n    export class CollStruct extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CollStruct';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义简单面板标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Panel/SimpPanel.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class SimpPanel extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'SimpPanel';\r\n        }\r\n\r\n        /**\r\n         * 根据标签结构生成数据结构。\r\n         */\r\n        public g(): Util.IHashTable<any> {\r\n            let result: Util.IHashTable<any> = {};\r\n            result['c'] = [];\r\n            Util.each(this._s, (ele: SimpEle) => {\r\n                result['c'].push(ele.g());\r\n            });\r\n            result['n'] = this._c;\r\n            result['：'] = 'simp';\r\n            return result;\r\n        }\r\n\r\n    }\r\n}\r\n","/**\r\n * 定义条目标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Panel/SimpEle.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class SimpEle extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'SimpEle';\r\n        }\r\n\r\n        /**\r\n         * 根据标签结构生成数据结构。\r\n         */\r\n        public g(): Util.IHashTable<any> {\r\n            let result: Util.IHashTable<any> = {};\r\n            result['alias'] = this._c;\r\n            Util.each(this._s, (child: Unknown) => {\r\n                if ('EleName' == child.gN()) {\r\n                    result['name'] = child.$c();\r\n                } else if ('EleType' == child.gN()) {\r\n                    result['type'] = child.$c();\r\n                }\r\n            });\r\n            return result;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义数据名标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Panel/EleName.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    // import Util = __Bigine_Util;\r\n\r\n    export class EleName extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'EleName';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义数据类别标签组件。\r\n *\r\n * @author    姚尧 <yyao@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Structure/_Panel/EleType.ts\r\n */\r\n\r\n/// <reference path=\"../../Unknown.ts\" />\r\n\r\nnamespace Tag {\r\n    // import Util = __Bigine_Util;\r\n\r\n    export class EleType extends Unknown {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'EleType';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义停顿动作标签组件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/Pause.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Pause extends Action {\r\n        /**\r\n         * 人物名称。\r\n         */\r\n        private _ms: number;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            switch (params[0]) {\r\n                case '短':\r\n                    this._ms = 500;\r\n                    break;\r\n                case '中':\r\n                    this._ms = 1000;\r\n                    break;\r\n                case '长':\r\n                    this._ms = 5000;\r\n                    break;\r\n                case undefined:\r\n                    this._ms = 0;\r\n                    break;\r\n                default:\r\n                    throw new E(E.TAG_PARAMS_NOT_TRUE, lineNo);\r\n            }\r\n        }\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Pause';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            return runtime.gD().pause(this._ms);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义镜头动画动作标签组件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/Camera.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Camera extends Action {\r\n        /**\r\n         * 镜头 X 轴系数。\r\n         */\r\n        protected _mx: number;\r\n\r\n        /**\r\n         * 镜头 Y 轴系数。\r\n         */\r\n        protected _my: number;\r\n\r\n        /**\r\n         * 移动的速度。\r\n         */\r\n        protected _ms: number;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            switch (params[0]) {\r\n                case '快':\r\n                    this._ms = 500;\r\n                    break;\r\n                case '中':\r\n                    this._ms = 4000;\r\n                    break;\r\n                case '慢':\r\n                    this._ms = 8000;\r\n                    break;\r\n                case undefined:\r\n                    this._ms = 20;  // 虽说设置镜头不需要动画效果，为算法统一，将时间设为1帧，即20ms。\r\n                    break;\r\n                default:\r\n                    throw new E(E.TAG_PARAMS_NOT_TRUE, lineNo);\r\n            }\r\n            switch (content) {\r\n                case '左上':\r\n                    this._mx = 0; this._my = 0;\r\n                    break;\r\n                case '上':\r\n                    this._mx = 0.5; this._my = 0;\r\n                    break;\r\n                case '右上':\r\n                    this._mx = 1; this._my = 0;\r\n                    break;\r\n                case '左':\r\n                    this._mx = 0; this._my = 0.5;\r\n                    break;\r\n                case '中':\r\n                    this._mx = 0.5; this._my = 0.5;\r\n                    break;\r\n                case '右':\r\n                    this._mx = 1; this._my = 0.5;\r\n                    break;\r\n                case '左下':\r\n                    this._mx = 0; this._my = 1;\r\n                    break;\r\n                case '下':\r\n                    this._mx = 0.5; this._my = 1;\r\n                    break;\r\n                case '右下':\r\n                    this._mx = 1; this._my = 1;\r\n                    break;\r\n                case '':\r\n                    break;\r\n                default:\r\n                    throw new E(E.ACT_ILLEGAL_CAMERA_MOVE, lineNo);\r\n            }\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义移动镜头动画动作标签组件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/CameraMove.ts\r\n */\r\n\r\n/// <reference path=\"Camera.ts\" />\r\n\r\nnamespace Tag {\r\n    export class CameraMove extends Camera {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CameraMove';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                camera: string = <string> states.g('.z'),\r\n                now: string = this._mx.toString() + ',' + this._my.toString();\r\n            if (!camera || camera == now)   // 当前为非镜头放大状态，或移动前后位置相同\r\n                return runtime;\r\n            return runtime.gD().cameraMove(this._mx, this._my, this._ms)\r\n                .then(() => {\r\n                    states.s('.z', now);\r\n                    states.s('_z', now);\r\n                    return runtime;\r\n                });\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义放大镜头动画动作标签组件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/CameraZoom.ts\r\n */\r\n\r\n/// <reference path=\"Camera.ts\" />\r\n\r\nnamespace Tag {\r\n    export class CameraZoom extends Camera {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CameraZoom';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                camera: string = <string> states.g('.z'),\r\n                now: string = this._mx.toString() + ',' + this._my.toString();\r\n            if (camera)   // 已经是放大状态\r\n                return runtime;\r\n            return runtime.gD().cameraZoom(this._mx, this._my, this._ms, 1)\r\n                .then(() => {\r\n                    states.s('.z', now);\r\n                    states.s('_z', now);\r\n                    return runtime;\r\n                });\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义复位镜头动画动作标签组件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/CameraReset.ts\r\n */\r\n\r\n/// <reference path=\"Camera.ts\" />\r\n\r\nnamespace Tag {\r\n    export class CameraReset extends Camera {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CameraReset';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                camera: string = <string> states.g('.z'),\r\n                strArr: Array<string>,\r\n                mx: number,\r\n                my: number;\r\n            if (!camera)   // 当前为非镜头放大状态\r\n                return runtime;\r\n            strArr = camera.split(',');\r\n            if (strArr.length !== 2)\r\n                return runtime;\r\n            mx = parseFloat(strArr[0]);\r\n            my = parseFloat(strArr[1]);\r\n            return runtime.gD().cameraZoom(mx, my, this._ms, -1)\r\n                .then(() => {\r\n                    states.d('.z');\r\n                    states.d('_z');\r\n                    return runtime;\r\n                });\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义设置镜头动画动作标签组件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/CameraSet.ts\r\n */\r\n\r\n/// <reference path=\"Camera.ts\" />\r\n\r\nnamespace Tag {\r\n    export class CameraSet extends Camera {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CameraSet';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                camera: string = <string> states.g('.z'),\r\n                now: string = this._mx.toString() + ',' + this._my.toString();\r\n            if (camera)   // 已经是放大状态\r\n                return runtime;\r\n            return runtime.gD().cameraZoom(this._mx, this._my, this._ms, 1)\r\n                .then(() => {\r\n                    states.s('.z', now);\r\n                    states.s('_z', now);\r\n                    return runtime;\r\n                });\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义切幕动画动作标签组件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/Curtains.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Curtains extends Action {\r\n        /**\r\n         * 切幕动画名。\r\n         */\r\n        private _a: string;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(params: string[], content: string, children: Unknown[], lineNo?: number) {\r\n            super(params, content, children, lineNo);\r\n            switch (params[0]) {\r\n                case '淡入淡出':\r\n                    this._a = 'Fade';\r\n                    break;\r\n\r\n                case '水平百叶窗':\r\n                    this._a = 'ShutterH';\r\n                    break;\r\n\r\n                case '垂直百叶窗':\r\n                    this._a = 'ShutterV';\r\n                    break;\r\n\r\n                case undefined:\r\n                    this._a = undefined;\r\n                    break;\r\n\r\n                default:\r\n                    throw new E(E.TAG_PARAMS_NOT_TRUE, lineNo);\r\n            }\r\n        }\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Curtains';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            var states: Core.IStates = runtime.gS(),\r\n                curtain: string = states.g('_ra');\r\n            if (curtain == this._a)\r\n                return runtime;\r\n            this._a ? states.s('_ra', this._a) : states.d('_ra');\r\n            return runtime.gD().curtain(this._a);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义抖动镜头动画动作标签组件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Director/CameraShake.ts\r\n */\r\n\r\n/// <reference path=\"Camera.ts\" />\r\n\r\nnamespace Tag {\r\n    export class CameraShake extends Camera {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'CameraShake';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            return runtime.gD().cameraShake();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）打赏成功元信息接口规范。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IDonateMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../Core/_Runtime/IStates.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IDonateMetas extends Util.IEventMetas<Core.IStates> {\r\n        /**\r\n         * 打赏的萝卜币。\r\n         */\r\n        amount: number;\r\n\r\n        /**\r\n         * 打赏成功回调。\r\n         */\r\n        suc: () => void;\r\n\r\n        /**\r\n         * 打赏失败回调。\r\n         */\r\n        fail: () => void;\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）打赏事件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Donate.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IDonateMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class Donate extends Event<Core.IStates> {\r\n        /**\r\n         * 打赏的数据。\r\n         */\r\n        private amount: number;\r\n\r\n        /**\r\n         * 打赏成功回调。\r\n         */\r\n        private suc: () => void;\r\n\r\n        /**\r\n         * 打赏失败回调。\r\n         */\r\n        private fail: () => void;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IDonateMetas) {\r\n            super(metas);\r\n            this.amount = metas.amount;\r\n            this.suc = metas.suc;\r\n            this.fail = metas.fail;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'donate';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义打赏数据动作标签组件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_Action/_Logic/Donate.ts\r\n */\r\n\r\n/// <reference path=\"../../Action.ts\" />\r\n/// <reference path=\"../../../Ev/_Runtime/Donate.ts\" />\r\n/// <reference path=\"../../../Ev/_Runtime/IDonateMetas.ts\" />\r\n\r\nnamespace Tag {\r\n    export class Donate extends Action {\r\n        /**\r\n         * 获取标签名称。\r\n         */\r\n        public gN(): string {\r\n            return 'Donate';\r\n        }\r\n\r\n        /**\r\n         * 执行。\r\n         */\r\n        public p(runtime: Core.IRuntime): Core.IRuntime | Thenable<Core.IRuntime> {\r\n            let amount: number = parseInt(this._p[0], 10) || 0,\r\n                states: Core.IStates = runtime.gS(),\r\n                depth: number = states.g('$d');\r\n            return new Promise((resolve: (runtime: Core.IRuntime) => void) => {\r\n                let suc: () => void = () => {\r\n                        states.s('$v' + depth, true)\r\n                            .s('$t' + depth, false);\r\n                        resolve(runtime);\r\n                    },\r\n                    fail: () => void = () => {\r\n                        states.s('$v' + depth, false)\r\n                            .s('$t' + depth, false);\r\n                        resolve(runtime);\r\n                    };\r\n\r\n                runtime.dispatchEvent(new Ev.Donate({\r\n                    target: states,\r\n                    amount: amount,\r\n                    suc: suc,\r\n                    fail: fail\r\n                }));\r\n            });\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明剧情结束事件元信息接口规范。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IFinMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Runtime/IEpisode.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IFinMetas extends Util.IEventMetas<Core.IEpisode> {\r\n    }\r\n}\r\n","/**\r\n * 定义剧情结束事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Fin.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IFinMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class Fin extends Event<Core.IEpisode> {\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IFinMetas) {\r\n            super(metas);\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'fin';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明评分事件元信息接口规范。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IRankMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../../include/tsd.d.ts\" />\r\n/// <reference path=\"../../Core/_Runtime/IEpisode.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IRankMetas extends Util.IEventMetas<Core.IEpisode> {\r\n\t\t/**\r\n\t\t * 等级。\r\n\t\t */\r\n        grade: string;\r\n\t\t/**\r\n\t\t * 分数。\r\n\t\t */\r\n        score: number;\r\n    }\r\n}\r\n","/**\r\n * 定义评分事件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Rank.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IRankMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class Rank extends Event<Core.IEpisode> {\r\n        /**\r\n         * 等级。\r\n         */\r\n        private grade: string;\r\n        /**\r\n         * 分数。\r\n         */\r\n        private score: number;\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IRankMetas) {\r\n            super(metas);\r\n            this.grade = metas.grade;\r\n            this.score = metas.score;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'rank';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 声明（运行时）付款数据元信息接口规范。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/IPayMetas.ts\r\n */\r\n\r\n/// <reference path=\"../../Core/_Runtime/IStates.ts\" />\r\n\r\nnamespace Ev {\r\n    import Util = __Bigine_Util;\r\n\r\n    export interface IPayMetas extends Util.IEventMetas<Core.IStates> {\r\n        /**\r\n         * 付费多少萝卜币。\r\n         */\r\n        amount: number;\r\n\r\n        /**\r\n         * 选项id，唯一标识。\r\n         */\r\n        id: string;\r\n\r\n        /**\r\n         * 付费成功回调。\r\n         */\r\n        suc: () => void;\r\n\r\n        /**\r\n         * 付费失败回调。\r\n         */\r\n        fail: () => void;\r\n    }\r\n}\r\n","/**\r\n * 定义（运行时）付费数据事件。\r\n *\r\n * @author    李倩 <qli@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Ev/_Runtime/Pay.ts\r\n */\r\n\r\n/// <reference path=\"../Event.ts\" />\r\n/// <reference path=\"IPayMetas.ts\" />\r\n\r\nnamespace Ev {\r\n    export class Pay extends Event<Core.IStates> {\r\n        /**\r\n         * 付费多少萝卜。\r\n         */\r\n        private amount: number;\r\n\r\n        /**\r\n         * 选项id，唯一标识。\r\n         */\r\n        private id: string;\r\n\r\n        /**\r\n         * 付费成功回调。\r\n         */\r\n        private suc: () => void;\r\n\r\n        /**\r\n         * 付费失败回调。\r\n         */\r\n        private fail: () => void;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(metas: IPayMetas) {\r\n            super(metas);\r\n            this.amount = metas.amount;\r\n            this.suc = metas.suc;\r\n            this.fail = metas.fail;\r\n            this.id = metas.id;\r\n        }\r\n\r\n        /**\r\n         * 获取类型。\r\n         */\r\n        public gT(): string {\r\n            return 'pay';\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 打包所有已定义地标签组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Tag/_pack.ts\r\n */\r\n\r\n/// <reference path=\"_Definition/_Char/DefChar.ts\" />\r\n/// <reference path=\"_Definition/DefBGM.ts\" />\r\n/// <reference path=\"_Definition/DefCG.ts\" />\r\n/// <reference path=\"_Definition/DefSE.ts\" />\r\n/// <reference path=\"_Definition/_Room/DefRoom.ts\" />\r\n/// <reference path=\"_Definition/_Map/DefMap.ts\" />\r\n/// <reference path=\"_Structure/Auto.ts\" />\r\n/// <reference path=\"_Definition/Player.ts\" />\r\n/// <reference path=\"_Structure/Theme.ts\" />\r\n/// <reference path=\"_Structure/Resources.ts\" />\r\n/// <reference path=\"_Structure/_Scene/Scene.ts\" />\r\n/// <reference path=\"_Structure/Root.ts\" />\r\n/// <reference path=\"_Action/_Director/CharOn.ts\" />\r\n/// <reference path=\"_Action/_Director/CharOff.ts\" />\r\n/// <reference path=\"_Action/_Director/CharSet.ts\" />\r\n/// <reference path=\"_Action/_Director/CharPose.ts\" />\r\n/// <reference path=\"_Action/_Text/Monolog.ts\" />\r\n/// <reference path=\"_Action/_Text/Speak.ts\" />\r\n/// <reference path=\"_Action/_Text/VoiceOver.ts\" />\r\n/// <reference path=\"_Action/_Logic/Save.ts\" />\r\n/// <reference path=\"_Action/_Flow/End.ts\" />\r\n/// <reference path=\"_Action/_Flow/Fail.ts\" />\r\n/// <reference path=\"_Action/_Flow/Stars.ts\" />\r\n/// <reference path=\"_Action/_Director/PlayBGM.ts\" />\r\n/// <reference path=\"_Action/_Director/HideCG.ts\" />\r\n/// <reference path=\"_Action/_Director/ShowCG.ts\" />\r\n/// <reference path=\"_Action/_Director/AsRoom.ts\" />\r\n/// <reference path=\"_Action/_Director/AsTime.ts\" />\r\n/// <reference path=\"_Action/_Flow/Enter.ts\" />\r\n/// <reference path=\"_Action/_Flow/Freeze.ts\" />\r\n/// <reference path=\"_Action/_Director/PlaySE.ts\" />\r\n/// <reference path=\"_Action/_Director/Weather.ts\" />\r\n/// <reference path=\"_Action/_Logic/Assert.ts\" />\r\n/// <reference path=\"_Action/_Logic/Assign.ts\" />\r\n/// <reference path=\"_Action/_Logic/Compare.ts\" />\r\n/// <reference path=\"_Action/_Logic/Increase.ts\" />\r\n/// <reference path=\"_Action/_Flow/LoopBreak.ts\" />\r\n/// <reference path=\"_Action/_Logic/And.ts\" />\r\n/// <reference path=\"_Action/_Logic/Or.ts\" />\r\n/// <reference path=\"_Action/_Logic/Otherwise.ts\" />\r\n/// <reference path=\"_Action/_Logic/Then.ts\" />\r\n/// <reference path=\"_Action/_Logic/When.ts\" />\r\n/// <reference path=\"_Action/_Logic/Loop.ts\" />\r\n/// <reference path=\"_Action/_Flow/Choose.ts\" />\r\n/// <reference path=\"_Action/_Text/Tip.ts\" />\r\n/// <reference path=\"_Action/_Logic/Maximum.ts\" />\r\n/// <reference path=\"_Action/_Director/CharMove.ts\" />\r\n/// <reference path=\"_Action/_Logic/WhenVar.ts\" />\r\n/// <reference path=\"_Action/_Director/StopBGM.ts\" />\r\n/// <reference path=\"_Action/_Flow/DefOptions.ts\" />\r\n/// <reference path=\"_Action/_Flow/AddOption.ts\" />\r\n/// <reference path=\"_Action/_Flow/DropOption.ts\" />\r\n/// <reference path=\"_Action/_Logic/Random.ts\" />\r\n/// <reference path=\"_Action/_Logic/IfTime.ts\" />\r\n/// <reference path=\"_Action/_Logic/Copy.ts\" />\r\n/// <reference path=\"_Action/_Logic/Add.ts\" />\r\n/// <reference path=\"_Action/_Logic/Subtract.ts\" />\r\n/// <reference path=\"_Structure/Status.ts\" />\r\n/// <reference path=\"_Action/_Logic/Product.ts\" />\r\n/// <reference path=\"_Action/_Logic/Define.ts\" />\r\n/// <reference path=\"_Action/_Logic/Collection.ts\" />\r\n/// <reference path=\"_Action/_Logic/CollPush.ts\" />\r\n/// <reference path=\"_Action/_Logic/CollPop.ts\" />\r\n/// <reference path=\"_State/Struct.ts\" />\r\n/// <reference path=\"_State/Field.ts\" />\r\n/// <reference path=\"_State/FieldType.ts\" />\r\n/// <reference path=\"_State/FieldLimit.ts\" />\r\n/// <reference path=\"_Structure/_Panel/Panel.ts\" />\r\n/// <reference path=\"_Structure/_Panel/CollPanel.ts\" />\r\n/// <reference path=\"_Structure/_Panel/CollSource.ts\" />\r\n/// <reference path=\"_Structure/_Panel/CollStruct.ts\" />\r\n/// <reference path=\"_Structure/_Panel/SimpPanel.ts\" />\r\n/// <reference path=\"_Structure/_Panel/SimpEle.ts\" />\r\n/// <reference path=\"_Structure/_Panel/EleName.ts\" />\r\n/// <reference path=\"_Structure/_Panel/EleType.ts\" />\r\n/// <reference path=\"_Action/_Director/Pause.ts\" />\r\n/// <reference path=\"_Action/_Director/CameraMove.ts\" />\r\n/// <reference path=\"_Action/_Director/CameraZoom.ts\" />\r\n/// <reference path=\"_Action/_Director/CameraReset.ts\" />\r\n/// <reference path=\"_Action/_Director/CameraSet.ts\" />\r\n/// <reference path=\"_Action/_Director/Curtains.ts\" />\r\n/// <reference path=\"_Action/_Director/CameraShake.ts\" />\r\n/// <reference path=\"_Action/_Logic/Donate.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Fin.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Rank.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Pay.ts\" />\r\n","/**\r\n * 定义（作品）运行时组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Runtime/Runtime.ts\r\n */\r\n\r\n/// <reference path=\"Episode.ts\" />\r\n/// <reference path=\"States.ts\" />\r\n/// <reference path=\"_Director/DirectorFactory.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Begin.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Resume.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Load.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Query.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Scene.ts\" />\r\n/// <reference path=\"../Ev/_Runtime/Action.ts\" />\r\n/// <reference path=\"../Tag/_pack.ts\" />\r\n\r\nnamespace Runtime {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class Runtime implements Core.IRuntime {\r\n        /**\r\n         * 事件监听函数池。\r\n         */\r\n        private _a: Util.IHashTable<Util.IEventListener<any>[]>;\r\n\r\n        /**\r\n         * 作品。\r\n         */\r\n        private _e: Episode;\r\n\r\n        /**\r\n         * 日志组件。\r\n         */\r\n        private _l: Util.ConsoleLogger;\r\n\r\n        /**\r\n         * 数据状态组件。\r\n         */\r\n        private _s: States;\r\n\r\n        /**\r\n         * 场效调度组件。\r\n         */\r\n        private _d: Director;\r\n\r\n        /**\r\n         * 是否准备就绪标识。\r\n         */\r\n        private _fr: boolean;\r\n\r\n        /**\r\n         * 是否播放标识。\r\n         */\r\n        private _fp: boolean;\r\n\r\n        /**\r\n         * 音量标识。\r\n         */\r\n        private _fv: number;\r\n\r\n        /**\r\n         * 是否自动播放标识。\r\n         */\r\n        private _fa: boolean;\r\n\r\n        /**\r\n         * 是否中止播放。\r\n         */\r\n        private _fh: boolean;\r\n\r\n        /**\r\n         * 是否允许变更自动播放状态。\r\n         */\r\n        private _fb: boolean;\r\n\r\n        /**\r\n         * 是否连载。\r\n         */\r\n        private _fs: Core.IRuntime.Series;\r\n\r\n        /**\r\n         * 当前时序流。\r\n         */\r\n        private _t: Promise<Runtime>;\r\n\r\n        /**\r\n         * 作品名称。\r\n         */\r\n        private _n: string;\r\n\r\n        /**\r\n         * 作者名/logo。\r\n         */\r\n        private _c: string;\r\n\r\n        /**\r\n         * 用户名。\r\n         */\r\n        private _nn: string;\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(ep: Core.IRootTag) {\r\n            this._a = {};\r\n            this._e = new Episode(ep, this);\r\n            this._l = Util.ConsoleLogger.singleton();\r\n            this._s = new States(this);\r\n            this._d = DirectorFactory.c(this);\r\n            this._fr =\r\n            this._fh = false;\r\n            this._fp = this._d.gD();\r\n            this._fv = 1;\r\n            this._fa = this._e.gA();\r\n            this._fs = Core.IRuntime.Series.Alone;\r\n            this._d.a(this._fa);\r\n            this._fb = true;\r\n            this._t = Promise.resolve(this);\r\n            this.addEventListener('ready', () => {\r\n                this._s.l();\r\n                this._d.t(this._e.gT(), this._e.gC())\r\n                    .s(ep.s())\r\n                    .p(ep.p());\r\n                this._fr = true;\r\n                if (this._fp) {\r\n                    this._fp = false;\r\n                    this.play();\r\n                }\r\n            });\r\n            this.addEventListener('begin', () => {\r\n                this._fb = true;\r\n                this._s.d(' ');\r\n                this.t(() => this._e.p(Core.ISceneTag.Type.Begin, this));\r\n            });\r\n            this.addEventListener('resume', () => {\r\n                this._fb = true;\r\n            });\r\n            this.addEventListener('end', () => {\r\n                this._fb =\r\n                this._fp = false;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * 新增事件监听。\r\n         */\r\n        public addEventListener<T>(type: string, listener: Util.IEventListener<T>): Runtime {\r\n            this._a[type] = this._a[type] || [];\r\n            if (!Util.some(this._a[type], (reged: Util.IEventListener<any>) => reged == listener))\r\n                this._a[type].push(listener);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 取消事件监听。\r\n         */\r\n        public removeEventListener<T>(type: string, listener: Util.IEventListener<T>): Runtime {\r\n            if (!(type in this._a))\r\n                return this;\r\n            Util.some(this._a[type], (reged: Util.IEventListener<any>, index: number) => {\r\n                if (reged != listener)\r\n                    return false;\r\n                this._a[type].splice(index, 1);\r\n                return true;\r\n            });\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 发生事件。\r\n         */\r\n        public dispatchEvent<T>(event: Ev.Event<T>): Runtime {\r\n            var type: string = event.gT();\r\n            this._l.d('[event]', event);\r\n            if (!(type in this._a))\r\n                return this;\r\n            Util.each(<Util.IEventListener<T>[]> this._a[type], (listener: Util.IEventListener<T>) => {\r\n                listener(event);\r\n            });\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 获取作品组件。\r\n         */\r\n        public gE(): Episode {\r\n            return this._e;\r\n        }\r\n\r\n        /**\r\n         * 获取日志组件。\r\n         */\r\n        public gL(): Util.ConsoleLogger {\r\n            return this._l;\r\n        }\r\n\r\n        /**\r\n         * 获取数据状态组件。\r\n         */\r\n        public gS(): States {\r\n            return this._s;\r\n        }\r\n\r\n        /**\r\n         * 获取场效调度器组件。\r\n         */\r\n        public gD(): Director {\r\n            return this._d;\r\n        }\r\n\r\n        /**\r\n         * 播放。\r\n         */\r\n        public play(): Runtime {\r\n            if (this._fp)\r\n                return this;\r\n            this._fp = true;\r\n            this._fb = false;\r\n            if (!this._fr)\r\n                return this;\r\n            this._s.i({});\r\n            if (Core.IRuntime.Series.Alone != this._fs)\r\n                this._d.e(this._fs);\r\n            this._d.playBGM();\r\n            this._d.playSE();\r\n            this._d.OP(!this._e.gA(), this._n, this._c);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 重新播放。\r\n         */\r\n        public replay(): Runtime {\r\n            return this.play();\r\n        }\r\n\r\n        /**\r\n         * 销毁。\r\n         */\r\n        public destroy(): Promise<Runtime> {\r\n            return new Promise((resolve: (value: Runtime) => void) => {\r\n                this._fh = true; // 中止现有时序流\r\n                this._d.d();\r\n                this.t(() => {\r\n                    resolve(this);\r\n                    return this;\r\n                });\r\n            });\r\n        }\r\n\r\n        /**\r\n         * DOM 定位修正。\r\n         */\r\n        public fix(): void {\r\n            this._d.f();\r\n        }\r\n\r\n        /**\r\n         * 设置或获取自动播放设置。\r\n         */\r\n        public auto(auto?: boolean): boolean {\r\n            if (this._fb && undefined !== auto)\r\n                this._fa = this._d.a(!!auto);\r\n            return this._fa;\r\n        }\r\n\r\n        /**\r\n         * 设置或获取音量。\r\n         */\r\n        public volume(volume?: number): number {\r\n            if (undefined !== volume)\r\n                this._d.v(this._fv = Math.min(1, Math.max(0, parseFloat(<any> volume))));\r\n            return this._fv;\r\n        }\r\n\r\n        /**\r\n         * 是否正在播放。\r\n         */\r\n        public isPlaying(): boolean {\r\n            return this._fp;\r\n        }\r\n\r\n        /**\r\n         * 设置作品标题。\r\n         */\r\n        public title(title: string): Runtime {\r\n            this._n = title;\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 设置作者/logo。\r\n         */\r\n        public author(title: string): Runtime {\r\n            this._c = title;\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 设置玩家昵称。\r\n         */\r\n        public user(nickname: string): Runtime {\r\n            this._nn = nickname;\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 获取玩家昵称\r\n         */\r\n        public nickname(): string {\r\n            return this._nn || '您';\r\n        }\r\n\r\n        /**\r\n         * 获取剧情付费信息\r\n         */\r\n        public plots(data: Util.IHashTable<string> | string): Runtime {\r\n            this._s.lp(data);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 播报当前事件。\r\n         */\r\n        public s(scene: Core.ISceneTag, title: string, actions: string[]): Runtime {\r\n            this._s.s('_s', scene.gI())\r\n                .d('_a');\r\n            this.dispatchEvent(new Ev.Scene({\r\n                target: scene,\r\n                title: title,\r\n                actions: actions\r\n            }));\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 播报当前关键帧。\r\n         */\r\n        public a(action: Core.IIdableTag): Runtime {\r\n            this._s.s('_a', action.gI())\r\n                .p();\r\n            this.dispatchEvent(new Ev.Action({\r\n                target: action\r\n            }));\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 是否中止播放。\r\n         */\r\n        public gH(): boolean {\r\n            return this._fh;\r\n        }\r\n\r\n        /**\r\n         * 声明时序流。\r\n         */\r\n        public t(flow: () => Runtime | Thenable<Runtime>): Runtime {\r\n            this._t = this._t.then(flow)\r\n                ['catch'](E.ignoreHalt)\r\n                ['catch']((reason: any) => {\r\n                    this._l.e(reason);\r\n                    throw reason;\r\n                }).then(() => this);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 读档继续。\r\n         */\r\n        public l(id: string): void {\r\n            this._fh = true; // 中止现有时序流\r\n            let load: (data: Util.IHashTable<any>) => void = (data: Util.IHashTable<any>) => {\r\n                let fresh: boolean = !data || {} == data,\r\n                    episode: Episode = this._e,\r\n                    states: States = this._s,\r\n                    ks: string = '_s',\r\n                    ktn: string = '_rt',\r\n                    kcn: string = '_rc',\r\n                    kco: string = '$rc',\r\n                    kdc: string = '_c',\r\n                    krc: string = '.c',\r\n                    pos: typeof Core.IDirector.Position = Core.IDirector.Position,\r\n                    tn: string,\r\n                    cn: string,\r\n                    enter: Tag.Enter;\r\n                this._d.reset().then(() => {\r\n                    if (!fresh)\r\n                        states.i(data);\r\n                    if (fresh || !states.g(ks) || states.g(' ')) { // 无存档或存档无事件特征或连载存档\r\n                        this._fh = false;\r\n                        return this.dispatchEvent(new Ev.Begin({\r\n                            target: episode\r\n                        }));\r\n                    }\r\n                    states.m('_a', '.a') // 识别重建用状态数据\r\n                        .m(ks, '.s')\r\n                        .m(kdc, krc)\r\n                        .m(kdc + pos.Left, krc + pos.Left)\r\n                        .m(kdc + pos.Center, krc + pos.Center)\r\n                        .m(kdc + pos.Right, krc + pos.Right);\r\n                    this._d.h();\r\n                    this.t(() => {\r\n                        this._fh = false;\r\n                        tn = states.g(ktn);\r\n                        cn = states.g(kcn);\r\n                        this.dispatchEvent(new Ev.Resume({\r\n                            target: episode\r\n                        }));\r\n                        if (tn || cn) {\r\n                            if (cn) {\r\n                                if (tn) {\r\n                                    states.s(kco, episode.q(cn, Core.IEpisode.Entity.Room));\r\n                                } else {\r\n                                    tn = cn;\r\n                                    states.d(kcn);\r\n                                }\r\n                            }\r\n                            enter = new Tag.Enter([tn || cn], '', [], -1);\r\n                            enter.b(episode);\r\n                            return <Runtime | Thenable<Runtime>> enter.p(this)\r\n                                ['catch'](E.ignoreHalt);\r\n                        }\r\n                        return episode.p(states.g('_p'), this);\r\n                    });\r\n                });\r\n            };\r\n            this.dispatchEvent(new Ev.Load({\r\n                target: this._s,\r\n                callback: load,\r\n                id: id\r\n            }));\r\n        }\r\n\r\n        /**\r\n         * 绑定视图。\r\n         */\r\n        public bind(viewport: HTMLElement): Runtime {\r\n            this._d.b(viewport);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 连载模式。\r\n         */\r\n        public series(first?: boolean): Runtime {\r\n            let series: typeof Core.IRuntime.Series = Core.IRuntime.Series;\r\n            this._fs = first ? series.First : series.Rest;\r\n            return this;\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义词法标签行组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2016 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Lex/TagLine.ts\r\n */\r\n\r\n/// <reference path=\"../Tag/_pack.ts\" />\r\n\r\nnamespace Lex {\r\n    import Util = __Bigine_Util;\r\n\r\n    export class TagLine {\r\n        /**\r\n         * 语法。\r\n         */\r\n        public static GRAMMAR: RegExp = /^(\\t*)([^\\s（：]+)(?:|：(.*)|（(.*)）：(.*)|（(.*)）)$/;\r\n\r\n        /**\r\n         * 缩进。\r\n         */\r\n        private _i: number;\r\n\r\n        /**\r\n         * 令牌。\r\n         */\r\n        private _t: string[];\r\n\r\n        /**\r\n         * 子标签。\r\n         */\r\n        private _c: TagLine[];\r\n\r\n        /**\r\n         * 始尾行号。\r\n         */\r\n        private _l: [number, number];\r\n\r\n        /**\r\n         * 构造函数。\r\n         */\r\n        constructor(source?: string, lineNo?: number) {\r\n            if (!lineNo) {\r\n                this._i = -1;\r\n                this._t = ['ROOT', ''];\r\n                this._c = [];\r\n                this._l = [0, 0];\r\n            } else {\r\n                let tokens: RegExpMatchArray = TagLine.GRAMMAR.exec(source);\r\n                if (!tokens)\r\n                    throw new E(E.LEX_ILLEGAL_SOURCE, lineNo);\r\n                this._i = tokens[1].length;\r\n                this._t = [tokens[2], tokens[4] || tokens[6] || '', tokens[3] || tokens[5] || ''];\r\n                this._c = [];\r\n                this._l = [lineNo, lineNo];\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 获取缩进深度。\r\n         */\r\n        public gI(): number {\r\n            return this._i;\r\n        }\r\n\r\n        /**\r\n         * 获取令牌。\r\n         */\r\n        public gT(): string[] {\r\n            return this._t;\r\n        }\r\n\r\n        /**\r\n         * 获取子标签。\r\n         */\r\n        public gC(): TagLine[] {\r\n            return this._c;\r\n        }\r\n\r\n        /**\r\n         * 获取行号。\r\n         */\r\n        public gL(): [number, number] {\r\n            return this._l;\r\n        }\r\n\r\n        /**\r\n         * 添加子标签。\r\n         */\r\n        public a(child: TagLine): TagLine {\r\n            this._c.push(child);\r\n            return this;\r\n        }\r\n\r\n        /**\r\n         * 转化为标签。\r\n         */\r\n        public t(parent: string = ''): Core.ITag {\r\n            let name: string = this._t[0],\r\n                params: string[] = this._t[1] ?\r\n                    this._t[1].split('，') :\r\n                    [],\r\n                content: string = this._t[2],\r\n                children: Tag.Unknown[] = [],\r\n                constraints: any[],\r\n                proto: typeof Tag.Unknown,\r\n                tag: Tag.Unknown;\r\n            if (!(name in Tag.C) || 'UNKNOWN' == parent) {\r\n                params.unshift(name);\r\n                name = 'UNKNOWN';\r\n            } else if (parent) {\r\n                constraints = Tag.S[Tag.I[Tag.C[parent]]];\r\n                if (4 > constraints.length || 53 in constraints[3] || !('-1' in constraints[3] || Tag.I[Tag.C[name]] in constraints[3])) {\r\n                    params.unshift(name);\r\n                    name = 'UNKNOWN';\r\n                }\r\n            }\r\n            Util.each(this._c, (obj: TagLine) => {\r\n                children.push(<Tag.Unknown> obj.t(name));\r\n            });\r\n            if (-1 == this._i)\r\n                return new Tag.Root(children);\r\n            proto = eval('Tag.' + Tag.C[name]);\r\n            if (params.length > 1 && parent.indexOf('选择') > -1)   // 选择 和 定义选择 两个命令下的内容，并且参数长度 > 1\r\n                proto = eval('Tag.Option');\r\n            tag = new proto(params, content, children, this._l[0]);\r\n            if (tag instanceof Tag.Idable || 'Scene' == tag.gN())\r\n                (<Tag.Idable> tag).i(u());\r\n            if (tag instanceof Tag.Option)\r\n                (<Tag.Option> tag).i(u());\r\n            if (tag instanceof Tag.AddOption && params.length > 2)  // 添加选项命令，并且参数长度 > 2\r\n                (<Tag.AddOption> tag).i(u());\r\n            return tag;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 创建 UUID 。\r\n     */\r\n    function u(): string {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, u_);\r\n    }\r\n\r\n    /**\r\n     * UUID 单字符处理。\r\n     */\r\n    function u_(symbol: string): string {\r\n        let seed: number = 0 | 16 * Math.random();\r\n        if ('y' == symbol)\r\n            seed = 8 | 3 & seed;\r\n        return seed.toString(16);\r\n    }\r\n}\r\n","/**\r\n * 定义解析器组件。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Lex/Parser.ts\r\n */\r\n\r\n/// <reference path=\"TagLine.ts\" />\r\n\r\nnamespace Lex {\r\n    import Util = __Bigine_Util;\r\n\r\n    export namespace Parser {\r\n        /**\r\n         * 解析。\r\n         */\r\n        export function c(lines: string[]): Core.IRootTag;\r\n        export function c(source: string): Core.IRootTag;\r\n        export function c(source: any): Core.IRootTag {\r\n            var lines: string[] = source instanceof Array ?\r\n                    source :\r\n                    source.split(/\\r?\\n/),\r\n                hierarchy: TagLine[] = [new TagLine()],\r\n                depth: number = 0,\r\n                blank: RegExp = /^\\s*$/,\r\n                depth2: number,\r\n                tag: TagLine;\r\n            Util.each(lines, (line: string, index: number) => {\r\n                if (blank.test(line)) return;\r\n                index++;\r\n                tag = new TagLine(line, index);\r\n                depth2 = tag.gI();\r\n                if (depth2 > 1 + depth) {\r\n                    throw new E(E.LEX_UNEXPECTED_INDENTATION, index);\r\n                } else if (depth2 != depth) {\r\n                    if (depth2 < depth)\r\n                        hierarchy.splice(1 + depth2);\r\n                    depth = depth2;\r\n                }\r\n                hierarchy[1 + depth] = tag;\r\n                hierarchy[depth].a(tag);\r\n            });\r\n            return <Tag.Root> hierarchy[0].t();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * 定义引擎入口程序。\r\n *\r\n * @author    郑煜宇 <yzheng@atfacg.com>\r\n * @copyright © 2015 Dahao.de\r\n * @license   GPL-3.0\r\n * @file      Bigine.ts\r\n */\r\n\r\n/// <reference path=\"Runtime/Runtime.ts\" />\r\n/// <reference path=\"Lex/Parser.ts\" />\r\n\r\nfunction Bigine(source: string): Core.IRootTag;\r\nfunction Bigine(tags: Core.IRootTag): Core.IRuntime;\r\nfunction Bigine(lines: string[]): Core.IRootTag;\r\nfunction Bigine(children: Core.ITag[]): Core.IRuntime;\r\nfunction Bigine(code: number, content?: string | number, params?: (number | string)[], children?: Core.ITag[], id?: string): Core.ITag;\r\nfunction Bigine(code: any, ...args: any[]): any {\r\n    if ('string' == typeof code)\r\n        return Lex.Parser.c(code);\r\n    if (code instanceof Tag.Root)\r\n        return new Runtime.Runtime(code);\r\n    if (code instanceof Array) {\r\n        if ('string' == typeof code[0])\r\n            return Lex.Parser.c(code);\r\n        return new Runtime.Runtime(new Tag.Root(<Tag.Unknown[]> code));\r\n    }\r\n    if (!(code in Tag.S))\r\n        throw new E(E.SCHEMA_TAG_NOT_DECLARED);\r\n    var proto: typeof Tag.Unknown = eval('Tag.' + Tag.S[code][0]),\r\n        content: string = '',\r\n        params: string[] = [],\r\n        children: Tag.Unknown[] = [],\r\n        id: string = '',\r\n        arg: any = args.shift(),\r\n        type: string = typeof arg,\r\n        tag: Tag.Unknown;\r\n    if ('string' == type || 'number' == type) {\r\n        content += arg;\r\n        arg = args.shift();\r\n    }\r\n    if (arg instanceof Array) {\r\n        type = typeof arg[0];\r\n        if ('string' == type || 'number' == type) {\r\n            params = arg;\r\n            arg = args.shift();\r\n        }\r\n    }\r\n    if (arg instanceof Array) {\r\n        children = arg;\r\n        arg = args.shift();\r\n    }\r\n    if ('string' == typeof arg)\r\n        id = arg;\r\n    tag = new proto(params, content, children, 0);\r\n    if (id && ('i' in tag))\r\n        (<Tag.Idable> tag).i(id);\r\n    return tag;\r\n}\r\n\r\nnamespace Bigine {\r\n    export var version: string = '${BIGINE_VERSION}';\r\n}\r\n"],"sourceRoot":"/source/"}